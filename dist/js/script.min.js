!function(){var t=new FontFaceObserver("LyuLin"),e=document.documentElement;e.classList.contains("fonts-loading")&&t.load().then(function(){e.classList.remove("fonts-loading"),e.classList.add("fonts-loaded"),sessionStorage.fontsLoaded=!0}).catch(function(){e.classList.remove("fonts-loading"),e.classList.add("fonts-failed"),sessionStorage.fontsLoaded=!1});class s{constructor(t){this.constructorOptions=t,this.init()}static init(){this.options=Object.assign({formClassName:"form",errorClassName:"error",inputClassName:"form__input",invalidClassName:"invalid",withValueClassName:"not-empty",errors:{required:"Заполните обязательное поле",email:"Пожалуйста, введите правильный email",type:"Не соответствует формату поля",pattern:"Не соответствует формату поля",tooShort:"Слишком короткое",tooLong:"Слишком динное",stepMismatch:"Неверный шаг (введенный диапозон)",rangeUnderflow:"Меньше диапозона",rangeOverflow:"Больше диапозона",customError:"Ошибка",badInput:"badInput"}},this.constructorOptions),this.forms=document.querySelectorAll("form"),this.forms&&this.forms.forEach(t=>{let e=[...t.querySelectorAll("input")];var s=[...t.querySelectorAll("textarea")];e=e.concat(s),e.forEach(t=>{const e=document.createElement("span");e.classList.add(this.options.formClassName+"__"+this.options.errorClassName),e.setAttribute("aria-live","polite"),t.insertAdjacentElement("afterend",e),t.addEventListener("blur",t=>{this.validate(t),this.isEmpty(t)})}),t.addEventListener("submit",t=>{this.checkValid(t)})})}static isEmpty(t){0<(t=t.target?t.target:t).value.length?t.classList.add(this.options.inputClassName+"--"+this.options.withValueClassName):t.classList.remove(this.options.inputClassName+"--"+this.options.withValueClassName)}static validate(t){const e=(t=t.target?t.target:t).nextElementSibling;if(!t.validity.valid){if(t.validity.valueMissing)return this.setInvalid(t,this.options.errors.required),e;if(t.validity.typeMismatch)return this.setInvalid(t,this.options.errors.type),e;if(t.validity.patternMismatch)return this.setInvalid(t,this.options.errors.pattern),e;if(t.validity.tooShort)return this.setInvalid(t,this.options.errors.tooShort),e;if(t.validity.tooLong)return this.setInvalid(t,this.options.errors.tooLong),e;if(t.validity.stepMismatch)return this.setInvalid(t,this.options.errors.stepMismatch),e;if(t.validity.rangeUnderflow)return this.setInvalid(t,this.options.errors.rangeUnderflow),e;if(t.validity.rangeOverflow)return this.setInvalid(t,this.options.errors.rangeOverflow),e;if(t.validity.customError)return this.setInvalid(t,this.options.errors.customError),e;if(t.validity.badInput)return this.setInvalid(t,this.options.errors.badInput),e}t.classList.remove(this.options.inputClassName+"--"+this.options.invalidClassName),e.innerHTML=""}static setInvalid(t,e){const s=t.nextElementSibling;t.classList.add(this.options.inputClassName+"--"+this.options.invalidClassName),s.innerHTML=e}static checkValid(t){let e=new Array;const s="object"==typeof t.currentTarget?t.currentTarget:t,i=s.querySelectorAll("input");if("object"==typeof t.currentTarget&&t.preventDefault(),i.forEach(t=>{e.push(this.validate(t))}),e=e.filter(function(t){return void 0!==t}),0===e.length)return!0;e[0].previousSibling.focus()}}s.init();class i{_KEYS={ESC:27,SPACE:32,ENTER:13,TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};#focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), select, details, audio, video, object, [contenteditable=""], [contenteditable="true"], [tabindex]:not([tabindex="-1"])';#defaultOptions={focusTrap:!1,collapseOnFocusOut:!1};constructor(t){this._options=Object.assign(this.#defaultOptions,t),this._$el=document.querySelector(this._options.selector),this.#check()?this.#init():this._hasErrors=!0}#check(){return this._$el?!(void 0!==this._options.matchMedia&&!window.matchMedia(this._options.matchMedia).matches):(console.error("Не найден класс - "+this._options.selector),!1)}#init(){this._$el.addEventListener("click",t=>this._mainElClick(t)),this._$el.addEventListener("keydown",t=>this._checkPress(t),!0)}_initFocusableContent(){this._$lastFocusableEl=this._$el.querySelector('[data-select-last="true"]'),this._getFocusableContent(),this._$lastFocusableEl&&(this._$lastFocusableEl.tabIndex=-1),this._$focusableContent=this._$focusableContent.filter(t=>{if(t!==this._$lastFocusableEl)return t})}#focusTrapAndCollapse(t){const e=this._$focusableContent[0],s=this._$focusableContent[this._$focusableContent.length-1],i=this._$lastFocusableEl;t.shiftKey?document.activeElement!==e&&document.activeElement!==i||(i&&document.activeElement!==i&&!this._options.collapseOnFocusOut?i.focus():(this._options.collapseOnFocusOut&&this.close(),s.focus()),t.preventDefault()):document.activeElement!==s&&document.activeElement!==i||(i&&document.activeElement!==i?i.focus():(this._options.collapseOnFocusOut&&this.close(),e.focus()),t.preventDefault())}_checkPress(t){t.keyCode===this._KEYS.ESC&&this.close(),"Tab"!==t.key&&t.keyCode!==this._KEYS.TAB||(this._options.focusTrap||this._options.collapseOnFocusOut)&&this.#focusTrapAndCollapse(t)}_mainElClick(t){(t.target.closest('[data-close="true"]')||t.target.dataset.close)&&this.close()}_getFocusableContent(){this._$focusableContent=[...this._$el.querySelectorAll(this.#focusableElements)]}open(){this._options.activeClass?this._$el.classList.add(this._options.selector.slice(1)+this._options.activeClass):this._$el.removeAttribute("hidden"),void 0===this._$focusableContent&&this._initFocusableContent(),window.disableScroll()}close(){this._options.activeClass?this._$el.classList.remove(this._options.selector.slice(1)+this._options.activeClass):this._$el.setAttribute("hidden",""),this.destroy()}destroy(){this._$el.removeEventListener("click",t=>this._mainElClick(t)),this._$el.removeEventListener("keydown",t=>this._checkPress(t),!0),window.enableScroll()}}(class{constructor(t){this.constructorOptions=t,this.init()}static init(){this._KEYS={ESC:27,SPACE:32,ENTER:13,TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},this._defaultOptions={selectClassName:"select"},this._options=Object.assign(this._defaultOptions,this.constructorOptions),this._selectMultiple=[],this._$selects=document.querySelectorAll("select"),this._$selects&&(this._$selects.forEach((t,e)=>{this._selectMultiple[e]=t.hasAttribute("multiple"),this._makeCustom(t,e),t.addEventListener("change",t=>this._setCustomValue(t,e))}),this._initCustom())}static _makeCustom(t,i){const e=t.parentElement,s=[...t.querySelectorAll("option")],o=document.createElement("div"),n=document.createElement("button"),l=document.createElement("ul"),a={value:s[0].getAttribute("value"),text:s[0].innerHTML};o.classList.add(this._options.selectClassName+"__menu"),n.classList.add(this._options.selectClassName+"__button"),l.classList.add(this._options.selectClassName+"__popup"),s.forEach((t,e)=>{const s=document.createElement("li");s.tabIndex=-1,this._selectMultiple[i]?(s.setAttribute("role","menuitemcheckbox"),s.setAttribute("aria-checked","false")):s.setAttribute("role","menuitem"),0===e&&(this._selectMultiple[i]||s.setAttribute("aria-checked","true"),s.tabIndex=0),t.hasAttribute("selected")&&(a.value=t.getAttribute("value"),a.text=t.innerHTML,s.setAttribute("aria-checked","true"),this._selectMultiple[i]||(s.tabIndex=0,l.firstChild.removeAttribute("aria-checked"),l.firstChild.tabIndex=-1)),s.classList.add(this._options.selectClassName+"__option"),s.setAttribute("data-value",t.getAttribute("value")),s.innerHTML=t.innerHTML,l.appendChild(s),s.addEventListener("blur",t=>this._handleBlur(t,i))}),n.innerHTML=a.text,t.hasAttribute("disabled")&&n.setAttribute("disabled",""),this._selectMultiple[i]&&o.setAttribute("multiple",""),t.hasAttribute("size")&&o.style.setProperty("--size",t.getAttribute("size")),t.hasAttribute("open")||this._selectMultiple[i]||(l.hidden=!0),o.setAttribute("role","menu"),n.setAttribute("type","button"),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-haspopup","true"),o.addEventListener("click",t=>this._click(t,i)),o.addEventListener("keydown",t=>this._checkPress(t,i),!0),o.appendChild(n),o.appendChild(l),e.appendChild(o)}static _initCustom(){this._$popups=[...document.querySelectorAll(`.${this._options.selectClassName}__popup`)],this._$buttons=[...document.querySelectorAll(`.${this._options.selectClassName}__button`)]}static _handleBlur(t,e){if(!this._selectMultiple[e]){const s=t.currentTarget;requestAnimationFrame(()=>{s.closest(`.${this._options.selectClassName}__menu`).contains(document.activeElement)||this._closeSelect(e)})}}static _click(t,e=null){t.target.classList.contains(this._options.selectClassName+"__option")?(this._changeOptionByClick(t.target,e),this._selectMultiple[e]||this._closeSelect(e)):t.target.classList.contains(this._options.selectClassName+"__button")&&this.toggleOpenSelect(e)}static _checkPress(t,e){if(t.keyCode!==this._KEYS.ESC||this._selectMultiple[e])return t.keyCode===this._KEYS.ARROW_UP||t.keyCode===this._KEYS.ARROW_LEFT?(t.preventDefault(),void this._changeOptionToPrev(e)):t.keyCode===this._KEYS.ARROW_DOWN||t.keyCode===this._KEYS.ARROW_RIGHT?(t.preventDefault(),void this._changeOptionToNext(e)):void(this._$popups[e].hasAttribute("hidden")||t.keyCode===this._KEYS.ENTER&&(t.preventDefault(),this._selectMultiple[e]?this._changeOptionByClick(t.target,e):this._closeSelect(e)));this._closeSelect(e)}static toggleOpenSelect(t){this._$popups[t].hasAttribute("hidden")?this._openSelect(t):this._closeSelect(t)}static _openSelect(t){this._$popups[t].hidden=!1,this._$popups[t].previousSibling.setAttribute("aria-expanded","true"),this._$popups[t].querySelector('[tabindex="0"]').focus({focusVisible:!0})}static _closeSelect(t){this._$popups[t].hidden=!0,this._$popups[t].previousSibling.setAttribute("aria-expanded","false"),this._$popups[t].previousSibling.focus({focusVisible:!0})}static _setButtonByOption(t,e){this._$buttons[e].innerText=t.innerText}static _getCurrentOption(t){return this._$popups[t].querySelector('[tabindex="0"]')}static _getOptionsValues(t){const e=[...this._$popups[t].querySelectorAll(`.${this._options.selectClassName}__option`)];return e.map(t=>t.getAttribute("aria-checked"))}static _resetOption(t){t.tabIndex=-1,t.removeAttribute("aria-checked")}static _setOption(t){t.tabIndex=0,t.setAttribute("aria-checked","true"),t.focus({focusVisible:!0})}static _changeOptionByClick(t,e){var s,i=this._getCurrentOption(e);this._selectMultiple[e]?(s="true"!==t.getAttribute("aria-checked"),t.setAttribute("aria-checked",s),this._setNativeValue(e,this._getOptionsValues(e))):(this._resetOption(i),this._setOption(t),this._setButtonByOption(t,e),this._setNativeValue(e,t.dataset.value))}static _changeOptionToNext(t){const e=this._getCurrentOption(t);null!==e.nextSibling&&(this._selectMultiple[t]?(e.tabIndex=-1,e.nextSibling.tabIndex=0,e.nextSibling.focus({focusVisible:!0})):(this._resetOption(e),this._setOption(e.nextSibling),this._setButtonByOption(e.nextSibling,t),this._setNativeValue(t,e.nextSibling.dataset.value)))}static _changeOptionToPrev(t){const e=this._getCurrentOption(t);null!==e.previousSibling&&(this._selectMultiple[t]?(e.tabIndex=-1,e.previousSibling.tabIndex=0,e.previousSibling.focus({focusVisible:!0})):(this._resetOption(e),this._setOption(e.previousSibling),this._setButtonByOption(e.previousSibling,t),this._setNativeValue(t,e.previousSibling.dataset.value)))}static _setNativeValue(t,e){if(this._selectMultiple[t]){const s=this._$selects[t].options;e.forEach((t,e)=>{t="true"===t,s[e].selected=t})}else this._$selects[t].value=e}static _setCustomValue(t,e){if(this._selectMultiple[e]){var s=this._$selects[e].options;const o=this._$popups[e].querySelectorAll(`.${this._options.selectClassName}__option`);for(let t=0;t<s.length;t++)o[t].setAttribute("aria-checked",s[t].selected)}else{var i=t.currentTarget.value,t=this._getCurrentOption(e),i=this._$popups[e].querySelector(`[data-value="${i}"]`);this._resetOption(t),this._setOption(i),this._setButtonByOption(i,e)}}}).init();function o(t){t.preventDefault()}let n=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){n=!0}}))}catch(t){}const l=!!n&&{passive:!1},a="onwheel"in document.createElement("div")?"wheel":"mousewheel";window.disableScroll=()=>{window.addEventListener("DOMMouseScroll",o,!1),window.addEventListener(a,o,l),window.addEventListener("touchmove",o,l)},window.enableScroll=()=>{window.removeEventListener("DOMMouseScroll",o,!1),window.removeEventListener(a,o,l),window.removeEventListener("touchmove",o,l)};const r=document.querySelector(".hamburger"),c=document.querySelector(".header__logo");var u,h;new class extends i{#defaultOptions={dialogFullScreen:!0,contentClass:"content",overlay:!0,ovarlayClass:"overlay",overlayBg:"rgba(0,0,0, 0.5)"};#$activeOpenBtn;constructor(t){super(t),this.#check()&&(this._options=Object.assign(this.#defaultOptions,this._options),this._$openBtns=document.querySelectorAll(this._options.openBtnsSelector),this.#init())}#check(){return!this._hasErrors}#init(){"DIALOG"!==this._$el.nodeName&&(this._$el.setAttribute("role","dialog"),this._$el.setAttribute("aria-modal","true"),this._$el.setAttribute("aria-hidden","true"));const t=document.createElement("div");if(t.classList.add(this._options.selector.slice(1)+"__"+this._options.contentClass),t.innerHTML=this._$el.innerHTML,this._$el.innerHTML="",this._$el.appendChild(t),this._options.overlay&&"DIALOG"!==this._$el.nodeName){const e=document.createElement("div");e.style.backgroundColor=this._options.overlayBg,e.style.position="fixed",e.style.inset="0",e.classList.add(this._options.selector.slice(1)+"__"+this._options.ovarlayClass),e.addEventListener("click",this.close.bind(this)),"static"===this._$el.querySelector(":first-child").style.position&&(this._$el.querySelector(":first-child").style.position="relative"),this._$el.insertBefore(e,this._$el.firstChild)}this._$openBtns&&this._$openBtns.forEach(t=>{t.setAttribute("aria-haspopup","dialog"),t.addEventListener("click",this.open.bind(this))})}_mainElClick(t){super._mainElClick(t),"DIALOG"===t.target.nodeName&&this.close()}open(){setTimeout(()=>{"false"===this._$el.getAttribute("aria-hidden")||this._$el.hasAttribute("open")?this.close():(this.#$activeOpenBtn=document.activeElement,"DIALOG"===this._$el.nodeName?this._options.dialogFullScreen?this._$el.showModal():this._$el.show():(super.open(),this._$el.setAttribute("aria-hidden","false")),0<this._$focusableContent.length&&this._$focusableContent[0].focus(),"function"==typeof this._options.onOpen&&this._options.onOpen())},1)}close(){this._$el.setAttribute("closing","");const t="DIALOG"===this._$el.nodeName?this._$el:this._$el.querySelector(`.${this._options.selector.slice(1)}__`+this._options.contentClass);0===t.getAnimations().length?(console.error("Необходимо добавить анимацию для",t),this.#closing()):t.addEventListener("animationend",()=>{this.#closing()},{once:!0}),setTimeout(()=>{-1!==this.#$activeOpenBtn.tabIndex&&this.#$activeOpenBtn.focus(),"function"==typeof this._options.onClose&&this._options.onClose()},1)}#closing(){this._$el.removeAttribute("closing"),"DIALOG"===this._$el.nodeName?(this._$el.close(),super.destroy()):(this._$el.setAttribute("aria-hidden","true"),super.close())}}({selector:".nav",openBtnsSelector:[".hamburger"],collapseOnFocusOut:!0,onOpen(){r.classList.add("is-active"),r.setAttribute("aria-expanded","true"),c.classList.add("header__logo--active")},onClose(){r.classList.remove("is-active"),r.setAttribute("aria-expanded","false"),c.classList.remove("header__logo--active")}});const d=document.querySelector("#btnSendMail"),p=document.querySelector("#form");d&&d.addEventListener("click",t=>(t=>{if(t.preventDefault(),s.checkValid(p)){d.classList.add("msg--sending"),d.setAttribute("disabled","");const e=()=>{d.classList.remove("msg"),document.querySelector(".msg--done").removeEventListener("animationend",e),d.classList.remove("msg--done")};setTimeout(()=>{d.classList.remove("msg--sending"),d.removeAttribute("disabled"),d.classList.add("msg"),d.classList.add("msg--send"),d.setAttribute("data-type","ok")},2e3),setTimeout(()=>{d.classList.remove("msg--send"),d.removeAttribute("data-type"),d.classList.add("msg--done"),document.querySelector(".msg--done").addEventListener("animationend",e)},4e3)}})(t));const _=document.querySelector(".portfolio__list"),m=document.querySelector("#portfolioItemColne");_&&(t="./files/portfolio/data.json",u=function(t){data=JSON.parse(t),data.forEach((t,e)=>{!function(t){const e=new Date(t.createDate),s=m.content.cloneNode(!0),i=s.querySelector(".portfolio__item"),o=i.querySelector(".portfolio__img"),n=i.querySelector(".portfolio__date"),l=i.querySelector(".portfolio__name"),a=i.querySelector(".portfolio__content"),r=i.querySelector(".portfolio__link");i.setAttribute("data-create-date",t.createDate),i.setAttribute("data-type",t.type),i.setAttribute("role","listitem"),o.src=t.img,n.setAttribute("datetime",t.createDate),n.innerHTML=function(t){return["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][t.getMonth()]+" "+t.getFullYear()}(e),l.innerHTML=t.name,a.innerHTML=t.content,r.href=t.link,i.appendChild(o),i.appendChild(n),i.appendChild(l),i.appendChild(a),i.appendChild(r),_.appendChild(i)}(t)})},(h=new XMLHttpRequest).overrideMimeType("application/json"),h.open("GET",t,!0),h.onreadystatechange=function(){4===h.readyState&&"200"==h.status&&u(h.responseText)},h.send(null))}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXMiOlsic2NyaXB0Lm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gICAoXCJ1c2Ugc3RyaWN0XCIpO1xyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0YjRgNC40YTRgtC+0LIg0YfQtdGA0LXQtyDRgdC60YDQuNC/0YItLS0tLS0tLS0tLS1cclxuICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0KjQoNCY0KTQotCrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBtYWluRm9udCA9IG5ldyBGb250RmFjZU9ic2VydmVyKFwiTHl1TGluXCIpO1xyXG4vLyB2YXIgUmFsZXdheSA9IG5ldyBGb250RmFjZU9ic2VydmVyKFwiUmFsZXdheVwiKTtcclxuXHJcbi8vIC8vINCX0LDQs9GA0YPQttCw0LXQvCDQstGB0LUg0YjRgNC40YTRgtGLINGB0YDQsNC30YMg0JfQtNC10YHRjCDQu9GD0YfRiNC1INC30LDQs9GA0YPQttCw0YLRjCDRiNGA0LjRhNGC0YssINC60L7RgtC+0YDRi9C1INC90LUg0Y/QstC70Y/RjtGC0YHRjyDQvtGB0L3QvtCy0L3Ri9C80LgsINC90L4g0L3QsNGF0L7QtNGP0YLRjNGB0Y8g0LIg0LLQtdGA0YXQvdC10Lkg0YfQsNGB0YLQuCDRgdGC0YDQsNC90LjRhtGLLlxyXG4vLyBQcm9taXNlLmFsbChbTW9udHNlcnJhdC5sb2FkKCldKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgY29uc29sZS5sb2coXCJNb250c2VycmF0INC30LDQs9GA0YPQttC10L1cIik7XHJcbi8vIH0pO1xyXG5cclxuLy8g0JTQvtCx0LDQstC70LXQvCDQvdC10L7QsdGF0L7QtNC40LzRi9C1INC60LvQsNGB0YHRiyDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQvdGD0LbQvdC+0LPQviDRiNGA0LjRhNGC0LBcclxudmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG5pZiAoaHRtbC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb250cy1sb2FkaW5nXCIpKSB7XHJcbiAgIG1haW5Gb250XHJcbiAgICAgIC5sb2FkKClcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJmb250cy1sb2FkaW5nXCIpO1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoXCJmb250cy1sb2FkZWRcIik7XHJcbiAgICAgICAgIHNlc3Npb25TdG9yYWdlLmZvbnRzTG9hZGVkID0gdHJ1ZTsgLy8g0JfQsNCz0YDRg9C20LDQtdC8INCyINC60Y3RiFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJmb250cy1sb2FkaW5nXCIpO1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoXCJmb250cy1mYWlsZWRcIik7XHJcbiAgICAgICAgIHNlc3Npb25TdG9yYWdlLmZvbnRzTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG59XHJcblxyXG4vLyDQl9C00LXRgdGMINC70YPRh9GI0LUg0LfQsNCz0YDRg9C20LDRgtGMINGI0YDQuNGE0YLRiyDQutC+0YLQvtGA0YvQtSDQvdC1INC+0YHQvdC+0LLQvdGL0LUg0Lgg0L3QsNGF0L7QtNGP0YLRjNGB0Y8g0LIg0L3QuNC20L3QtdC5INGH0LDRgdGC0Lgg0YHRgtGA0LDQvdC40YbRi1xyXG4vLyBNb250c2VycmF0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgY29uc29sZS5sb2coXCLQl9Cw0LPRgNGD0LbQtdC9IElucHV0IE1vbm9cIik7XHJcbi8vIH0pO1xyXG4vLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YPQt9C60LAg0LrQu9Cw0YHRgdCwINCQ0LrQutCw0YDQtNC40L7QvS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gaW5jbHVkZSgnbW9kdWxlcy9fYWNjb3JkaW9uLmpzJylcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwINCS0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8g0JTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLINC90LAg0YHQsNC50YLQtVxyXG5cclxuLy8g0JLRi9C90LXRgdGC0Lgg0Y3RgtC+0YIg0LzQvtC00YPQu9GMINCy0LLQuNC00LUg0L7RgtC00LXQu9GM0L3QvtCz0L4g0L/RgNC+0LXQutGC0LAsINCy0YvQstC10YHRgtC4INC90LAg0LPQuNGC0YXQsNCxINGBINC+0L/QuNGB0LDQvdC40LXQvFxyXG5cclxuLy8gLS0tLS0tLS0tLS3Qn9GA0LjQvNC10YAg0YDQsNCx0L7RgtGLINGBINC60L3QvtC/0LrQvtC5INGE0L7RgNC80Ysg0L7RgtC/0YDQsNCy0LrQuCDQsdC10Lcgc3VibWl0LS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBjb25zdCBzdWJtaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hcHBvaW50bWVudC1mb3JtX19zdWJtaXRcIik7XHJcbi8vIHN1Ym1pdEJ0bnMuZm9yRWFjaCgoc3VibWl0QnRuKSA9PiB7XHJcbi8vICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuLy8gICAgICAgY29uc3QgdGhpc0Zvcm0gPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcImZvcm1cIik7XHJcbi8vICAgICAgIGlmIChGb3JtVmFsaWQuY2hlY2tWYWxpZCh0aGlzRm9ybSkpIHtcclxuLy8gICAgICAgICAgY29uc29sZS5sb2coXCLQntGC0L/RgNCw0LLQu9GP0LXQvCDRhNC+0YDQvNGDXCIpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgIH0pO1xyXG4vLyB9KTtcclxuY2xhc3MgRm9ybVZhbGlkIHtcclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgIGZvcm1DbGFzc05hbWU6IFwiZm9ybVwiLFxyXG4gICAgICAgICBlcnJvckNsYXNzTmFtZTogXCJlcnJvclwiLFxyXG4gICAgICAgICBpbnB1dENsYXNzTmFtZTogXCJmb3JtX19pbnB1dFwiLFxyXG4gICAgICAgICBpbnZhbGlkQ2xhc3NOYW1lOiBcImludmFsaWRcIixcclxuICAgICAgICAgd2l0aFZhbHVlQ2xhc3NOYW1lOiBcIm5vdC1lbXB0eVwiLFxyXG4gICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0JfQsNC/0L7Qu9C90LjRgtC1INC+0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxyXG4gICAgICAgICAgICBlbWFpbDogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0L/RgNCw0LLQuNC70YzQvdGL0LkgZW1haWxcIixcclxuICAgICAgICAgICAgdHlwZTogXCLQndC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINGE0L7RgNC80LDRgtGDINC/0L7Qu9GPXCIsXHJcbiAgICAgICAgICAgIHBhdHRlcm46IFwi0J3QtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiDRhNC+0YDQvNCw0YLRgyDQv9C+0LvRj1wiLFxyXG4gICAgICAgICAgICB0b29TaG9ydDogXCLQodC70LjRiNC60L7QvCDQutC+0YDQvtGC0LrQvtC1XCIsXHJcbiAgICAgICAgICAgIHRvb0xvbmc6IFwi0KHQu9C40YjQutC+0Lwg0LTQuNC90L3QvtC1XCIsXHJcbiAgICAgICAgICAgIHN0ZXBNaXNtYXRjaDogXCLQndC10LLQtdGA0L3Ri9C5INGI0LDQsyAo0LLQstC10LTQtdC90L3Ri9C5INC00LjQsNC/0L7Qt9C+0L0pXCIsXHJcbiAgICAgICAgICAgIHJhbmdlVW5kZXJmbG93OiBcItCc0LXQvdGM0YjQtSDQtNC40LDQv9C+0LfQvtC90LBcIixcclxuICAgICAgICAgICAgcmFuZ2VPdmVyZmxvdzogXCLQkdC+0LvRjNGI0LUg0LTQuNCw0L/QvtC30L7QvdCwXCIsXHJcbiAgICAgICAgICAgIGN1c3RvbUVycm9yOiBcItCe0YjQuNCx0LrQsFwiLFxyXG4gICAgICAgICAgICBiYWRJbnB1dDogXCJiYWRJbnB1dFwiLFxyXG4gICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyk7XHJcblxyXG4gICAgICB0aGlzLmZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImZvcm1cIik7XHJcbiAgICAgIGlmICghdGhpcy5mb3JtcykgcmV0dXJuO1xyXG5cclxuICAgICAgdGhpcy5mb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICAgICAgIC8vIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIlwiKTtcclxuICAgICAgICAgbGV0IGlucHV0cyA9IFsuLi5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKV07XHJcbiAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gWy4uLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhXCIpXTtcclxuICAgICAgICAgaW5wdXRzID0gaW5wdXRzLmNvbmNhdCh0ZXh0YXJlYSk7XHJcbiAgICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQlNC+0LHQsNCy0Y/Qu9C10Lwg0LXQu9C10LzQtdC90YIg0LTQu9GPINCy0YvQstC+0LTQsCDQvtGI0LjQsdC+0LpcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgZXJyb3IuY2xhc3NMaXN0LmFkZChgJHt0aGlzLm9wdGlvbnMuZm9ybUNsYXNzTmFtZX1fXyR7dGhpcy5vcHRpb25zLmVycm9yQ2xhc3NOYW1lfWApO1xyXG4gICAgICAgICAgICBlcnJvci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XHJcbiAgICAgICAgICAgIGlucHV0Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoZSk7XHJcbiAgICAgICAgICAgICAgIHRoaXMuaXNFbXB0eShlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tWYWxpZChlKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L/Rg9GB0YLQvtC1INC70Lgg0L/QvtC70LVcclxuICAgc3RhdGljIGlzRW1wdHkoaW5wdXQpIHtcclxuICAgICAgaWYgKGlucHV0LnRhcmdldCkgaW5wdXQgPSBpbnB1dC50YXJnZXQ7XHJcbiAgICAgIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPiAwKSBpbnB1dC5jbGFzc0xpc3QuYWRkKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLndpdGhWYWx1ZUNsYXNzTmFtZX1gKTtcclxuICAgICAgZWxzZSBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLndpdGhWYWx1ZUNsYXNzTmFtZX1gKTtcclxuICAgfVxyXG5cclxuICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC/0L7Qu9GPINC90LAg0LLQsNC70LjQtNCw0YbQuNGOXHJcbiAgIHN0YXRpYyB2YWxpZGF0ZShpbnB1dCkge1xyXG4gICAgICBpZiAoaW5wdXQudGFyZ2V0KSBpbnB1dCA9IGlucHV0LnRhcmdldDtcclxuICAgICAgY29uc3QgZXJyb3IgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIC8vIGNvbnN0IGlucHV0VHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZShcInR5cGVcIik7XHJcbiAgICAgIC8vIGxldCBwYXR0ZXJuID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwicGF0dGVyblwiKTtcclxuXHJcbiAgICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC+0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsdWVNaXNzaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5yZXF1aXJlZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC/0L4g0YLQuNC/0YNcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnR5cGVNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMudHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC/0L4g0L/QsNGC0YLQtdGA0L3Rg1xyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5wYXR0ZXJuKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudG9vU2hvcnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnRvb1Nob3J0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudG9vTG9uZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMudG9vTG9uZyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINGB0LvQuNGI0LrQvtC8INC60L7RgNC+0YLQutC+0LVcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnN0ZXBNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMuc3RlcE1pc21hdGNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LzQtdC90YzRiNC1INC00LjQsNC/0L7Qt9C+0L3QsFxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnJhbmdlVW5kZXJmbG93KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LHQvtC70YzRiNC1INC00LjQsNC/0L7Qt9C+0L3QsFxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucmFuZ2VPdmVyZmxvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMucmFuZ2VPdmVyZmxvdyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC60LDRgdGC0L7QvNC90LDRjyDQvtGI0LjQsdC60LBcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LmN1c3RvbUVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5jdXN0b21FcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwIGJhZElucHV0XHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS5iYWRJbnB1dCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMuYmFkSW5wdXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShgJHt0aGlzLm9wdGlvbnMuaW5wdXRDbGFzc05hbWV9LS0ke3RoaXMub3B0aW9ucy5pbnZhbGlkQ2xhc3NOYW1lfWApO1xyXG4gICAgICBlcnJvci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICB9XHJcblxyXG4gICAvLyDQodC+0L7QsdGJ0LDQtdC8INC+0LEg0L7RiNC40LHQutC1INCy0LDQu9C40LTQsNGG0LjQuFxyXG4gICBzdGF0aWMgc2V0SW52YWxpZChpbnB1dCwgdGV4dCkge1xyXG4gICAgICBjb25zdCBlcnJvciA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChgJHt0aGlzLm9wdGlvbnMuaW5wdXRDbGFzc05hbWV9LS0ke3RoaXMub3B0aW9ucy5pbnZhbGlkQ2xhc3NOYW1lfWApO1xyXG4gICAgICBlcnJvci5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICB9XHJcblxyXG4gICAvLyDQn9GA0L7QstC10YDRj9GCINC/0L7Qu9GPINC/0LXRgNC10LQg0L7RgtC/0YDQsNCy0LrQvtC5LCDQsiDRgdC70YPRh9Cw0LUsINC10YHQu9C4INC/0L4g0L3QuNC8INC90LUg0L/RgNC+0YXQvtC00LjQu9C4INC40LvQuCDQvdC1INC30LDQvNC10YLQuNC70Lgg0L7RiNC40LHQutGDXHJcbiAgIHN0YXRpYyBjaGVja1ZhbGlkKGUpIHtcclxuICAgICAgbGV0IGVycm9yRWxlbWVudHMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgY29uc3QgZm9ybSA9IHR5cGVvZiBlLmN1cnJlbnRUYXJnZXQgPT09IFwib2JqZWN0XCIgPyBlLmN1cnJlbnRUYXJnZXQgOiBlO1xyXG4gICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZS5jdXJyZW50VGFyZ2V0ID09PSBcIm9iamVjdFwiKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICBlcnJvckVsZW1lbnRzLnB1c2godGhpcy52YWxpZGF0ZShpbnB1dCkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGVycm9yRWxlbWVudHMgPSBlcnJvckVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICByZXR1cm4gZWxlbWVudCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChlcnJvckVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAvLyBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZXJyb3JFbGVtZW50c1swXS5wcmV2aW91c1NpYmxpbmcuZm9jdXMoKTtcclxuICAgfVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLdCf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80YstLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkZvcm1WYWxpZC5pbml0KCk7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICBcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRgNGD0LfQutCwINC60LvQsNGB0YHQsCDQodC+0LHRi9GC0LjQuSBcItC60LDRgdCw0L3QuNC5XCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIGluY2x1ZGUoJ21vZHVsZXMvX2V2ZW50VG91Y2guanMnKVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQntCx0YnQtdCz0L4g0LrQu9Cw0YHRgdCwXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8qKlxyXG4gKiDQntCx0YnQuNC5INC60LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQvNC+0LTRg9C70Y/QvNC4IERLXHJcbiAqXHJcbiAqXHJcbiAqL1xyXG5cclxuY2xhc3MgTm9kYURLIHtcclxuICAgX0tFWVMgPSB7XHJcbiAgICAgIEVTQzogMjcsXHJcbiAgICAgIFNQQUNFOiAzMixcclxuICAgICAgRU5URVI6IDEzLFxyXG4gICAgICBUQUI6IDksXHJcbiAgICAgIEFSUk9XX0xFRlQ6IDM3LFxyXG4gICAgICBBUlJPV19VUDogMzgsXHJcbiAgICAgIEFSUk9XX1JJR0hUOiAzOSxcclxuICAgICAgQVJST1dfRE9XTjogNDAsXHJcbiAgIH07XHJcbiAgICNmb2N1c2FibGVFbGVtZW50cyA9ICdhW2hyZWZdOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdCwgZGV0YWlscywgYXVkaW8sIHZpZGVvLCBvYmplY3QsIFtjb250ZW50ZWRpdGFibGU9XCJcIl0sIFtjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xyXG4gICAjZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIGZvY3VzVHJhcDogZmFsc2UsXHJcbiAgICAgIGNvbGxhcHNlT25Gb2N1c091dDogZmFsc2UsXHJcbiAgIH07XHJcblxyXG4gICAvLyAjZGVzdHJveWVkID0gZmFsc2U7IC8vINCl0YDQsNC90LjQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRgtC+0Lwg0YPQvdC40YfRgtC10LbQtdC9INC70Lgg0L7QsdGK0LXQutGCXHJcblxyXG4gICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuI2RlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgdGhpcy5fJGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9vcHRpb25zLnNlbGVjdG9yKTtcclxuICAgICAgaWYgKHRoaXMuI2NoZWNrKCkpIHRoaXMuI2luaXQoKTtcclxuICAgICAgZWxzZSB0aGlzLl9oYXNFcnJvcnMgPSB0cnVlO1xyXG4gICB9XHJcblxyXG4gICAjY2hlY2soKSB7XHJcbiAgICAgIGlmICghdGhpcy5fJGVsKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCd0LUg0L3QsNC50LTQtdC9INC60LvQsNGB0YEgLSAke3RoaXMuX29wdGlvbnMuc2VsZWN0b3J9YCk7XHJcbiAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10YIg0L3QsCDRgdC+0L7RgtCy0LXRgtGB0LLQuNC1INC6INC80LXQtNC40LAg0LfQsNC/0YDQvtGB0YNcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm1hdGNoTWVkaWEgIT09IFwidW5kZWZpbmVkXCIgJiYgIXdpbmRvdy5tYXRjaE1lZGlhKHRoaXMuX29wdGlvbnMubWF0Y2hNZWRpYSkubWF0Y2hlcykge1xyXG4gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0KCkge1xyXG4gICAgICB0aGlzLl8kZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB0aGlzLl9tYWluRWxDbGljayhlKSk7XHJcbiAgICAgIHRoaXMuXyRlbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4gdGhpcy5fY2hlY2tQcmVzcyhlKSwgdHJ1ZSk7XHJcbiAgIH1cclxuXHJcbiAgIF9pbml0Rm9jdXNhYmxlQ29udGVudCgpIHtcclxuICAgICAgdGhpcy5fJGxhc3RGb2N1c2FibGVFbCA9IHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIl0nKTtcclxuICAgICAgdGhpcy5fZ2V0Rm9jdXNhYmxlQ29udGVudCgpO1xyXG5cclxuICAgICAgLy8g0J/QvtGB0LvQtdC00L3QuNC5INGN0LvQtdC80LXQvdGCINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LIg0YTQvtC60YPRgdC1XHJcbiAgICAgIGlmICh0aGlzLl8kbGFzdEZvY3VzYWJsZUVsKSB0aGlzLl8kbGFzdEZvY3VzYWJsZUVsLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGN0YLQvtGCINGN0LvQtdC80LXQvdGCICjQutC+0YLQvtGA0YvQuSDQv9C+0YHQu9C10LTQvdC40Lkg0LIg0YTQvtC60YPRgdC1KSDQuNC3INGB0L/RgdC40LrQsCDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIg0YTQvtC60YPRgdCwXHJcbiAgICAgIHRoaXMuXyRmb2N1c2FibGVDb250ZW50ID0gdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQuZmlsdGVyKChlbCkgPT4ge1xyXG4gICAgICAgICBpZiAoZWwgIT09IHRoaXMuXyRsYXN0Rm9jdXNhYmxlRWwpIHJldHVybiBlbDtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgICNmb2N1c1RyYXBBbmRDb2xsYXBzZShlKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlRWwgPSB0aGlzLl8kZm9jdXNhYmxlQ29udGVudFswXTtcclxuICAgICAgY29uc3QgbGFzdEZvY3VzYWJsZUVsID0gdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnRbdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoIC0gMV07XHJcbiAgICAgIGNvbnN0IG5lZWRMYXN0Rm9jdXNhYmxlRWwgPSB0aGlzLl8kbGFzdEZvY3VzYWJsZUVsO1xyXG5cclxuICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgLyogc2hpZnQgKyB0YWIgKi8gaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0Rm9jdXNhYmxlRWwgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbmVlZExhc3RGb2N1c2FibGVFbCkge1xyXG4gICAgICAgICAgICBpZiAobmVlZExhc3RGb2N1c2FibGVFbCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBuZWVkTGFzdEZvY3VzYWJsZUVsICYmICF0aGlzLl9vcHRpb25zLmNvbGxhcHNlT25Gb2N1c091dCkgbmVlZExhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29sbGFwc2VPbkZvY3VzT3V0KSB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgIGxhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9IC8qIHRhYiAqLyBlbHNlIHtcclxuICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGVFbCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBuZWVkTGFzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgIGlmIChuZWVkTGFzdEZvY3VzYWJsZUVsICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5lZWRMYXN0Rm9jdXNhYmxlRWwpIG5lZWRMYXN0Rm9jdXNhYmxlRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmNvbGxhcHNlT25Gb2N1c091dCkgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICBmaXJzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX2NoZWNrUHJlc3MoZSkge1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkVTQykgdGhpcy5jbG9zZSgpO1xyXG5cclxuICAgICAgLy8g0JXRgdC70Lgg0YLRgNC10LHRg9C10YLRgdGPINC30LDRhdCy0LDRgtC40YLRjCDRhNC+0LrRg9GBINC90LAg0Y3Qu9C10LzQtdC90YLQtVxyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiVGFiXCIgfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLlRBQikge1xyXG4gICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5mb2N1c1RyYXAgfHwgdGhpcy5fb3B0aW9ucy5jb2xsYXBzZU9uRm9jdXNPdXQpIHRoaXMuI2ZvY3VzVHJhcEFuZENvbGxhcHNlKGUpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9tYWluRWxDbGljayhlKSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INC/0L4g0LrQvdC+0L/QutC1INC30LDQutGA0YvRgtC40Y9cclxuICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWNsb3NlPVwidHJ1ZVwiXScpIHx8IGUudGFyZ2V0LmRhdGFzZXQuY2xvc2UpIHtcclxuICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9nZXRGb2N1c2FibGVDb250ZW50KCkge1xyXG4gICAgICB0aGlzLl8kZm9jdXNhYmxlQ29udGVudCA9IFsuLi50aGlzLl8kZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLiNmb2N1c2FibGVFbGVtZW50cyldO1xyXG4gICB9XHJcblxyXG4gICBvcGVuKCkge1xyXG4gICAgICAvLyBpZiAodGhpcy4jZGVzdHJveWVkKSByZXR1cm4gY29uc29sZS5lcnJvcihg0J7QsdGK0LXQutGCINGBINC60LvQsNGB0YHQvtC8IC0gJHt0aGlzLl9vcHRpb25zLnNlbGVjdG9yfSDRg9C90LjRh9GC0L7QttC10L0g0Lgg0L3QtSDQvNC+0LbQtdGCINCx0YvRgtGMIFwi0J7RgtC60YDRi9GCXCJgKTtcclxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYWN0aXZlQ2xhc3MpIHRoaXMuXyRlbC5jbGFzc0xpc3QuYWRkKHRoaXMuX29wdGlvbnMuc2VsZWN0b3Iuc2xpY2UoMSkgKyB0aGlzLl9vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgZWxzZSB0aGlzLl8kZWwucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl8kZm9jdXNhYmxlQ29udGVudCA9PT0gXCJ1bmRlZmluZWRcIikgdGhpcy5faW5pdEZvY3VzYWJsZUNvbnRlbnQoKTtcclxuXHJcbiAgICAgIC8vINCU0LvRjyDQt9Cw0L/RgNC10YLQsCDQv9GA0L7QutGA0YPRgtC60Lgg0L7RgdC90L7QstC90L7Qs9C+INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAgd2luZG93LmRpc2FibGVTY3JvbGwoKTtcclxuICAgICAgLy8gZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcykgdGhpcy5fJGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5zZWxlY3Rvci5zbGljZSgxKSArIHRoaXMuX29wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG4gICAgICBlbHNlIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XHJcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG5cclxuICAgICAgLy8g0JTQu9GPINC/0YDQvtC60YDRg9GC0LrQuCDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICAvLyBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgfVxyXG5cclxuICAgZGVzdHJveSgpIHtcclxuICAgICAgdGhpcy5fJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5fbWFpbkVsQ2xpY2soZSkpO1xyXG4gICAgICB0aGlzLl8kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHRoaXMuX2NoZWNrUHJlc3MoZSksIHRydWUpO1xyXG4gICAgICB3aW5kb3cuZW5hYmxlU2Nyb2xsKCk7XHJcbiAgICAgIC8vIHRoaXMuI2Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqICDQn9Cg0JDQktCY0JvQkCDQn9CeINCh0J7Ql9CU0JDQndCY0K4g0JzQntCU0KPQm9CvXHJcbiAqXHJcbiAqIDEuINCY0YHQv9C+0LvRjNC30L7QstCw0YLRjCDQstC80LXRgdGC0L4g0YHQtdC70LXQutGC0YDQviDQs9C+0YLQvtCy0YvQuSDQvtCx0YrQtdC60YIuINCt0YLQviDQt9C90LDRh9C40YIsINGH0YLQviDQvdCwINCy0YXQvtC0XHJcbiAqINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7Qu9GD0YfQsNGC0Yw6XHJcbiAqIGNvbnN0IGVsID0gZG9jdW1lbnQucWV1cnlTZWxlY3QoXCIuZWxcIilcclxuICpcclxuICogY29uc3Qgbm9kYSA9IE5ldyBOb2RhREsoZWwsIHtvcHRpb25zfSk7XHJcbiAqXHJcbiAqIDIuINCV0YHQu9C4INCyINC/0YDQvtGG0LXRgdGB0LUg0YDQsNCx0L7RgtGLINC80L7QtNGD0LvRjyDRgdC+0LfQtNCw0LXRgtGB0Y8g0L3QvtCy0LDRjyDQvdC+0LTQsCDQsiBodG1sLCDRgtC+INC90LXQvtCx0YXQvtC00LjQvNC+XHJcbiAqINC10LUg0YHQvtC30LTQsNCy0LDRgtGMINC60LDQttC00YvQuSDRgNCw0Lcg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0Lgg0YPQtNCw0LvRj9GC0Ywg0L/RgNC4INC30LDQutGA0YvRgtC40LgsINCy0LrQu9GO0YfQsNGPINCy0YHQtVxyXG4gKiBldmVudCBMaXN0bmVyc1xyXG4gKlxyXG4gKiAzLiDQoNCw0LfQtNC10LvRj9GC0Ywg0YTRg9C90LrRhtC40Lgg0L/QviDQvdCw0L/RgNCw0LLQu9GP0LXQvdC40Y4g0LjQu9C4INGN0LvQtdC80LXQvdGC0LBcclxuICovXHJcblxyXG4vKipcclxuICpcclxuICogVE9ETzpcclxuICogMS4g0L/QtdGA0LXQtNC10LvQsNGC0Ywg0LLRi9Cy0L7QtCDQvtGI0LjQsdC+0Log0YfQtdGA0LXQtyB0aHJvdyBOZXcgRXJyb3JcclxuICovXHJcblxyXG5mdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCkge1xyXG4gICByZXR1cm4gXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDA7XHJcbn1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRgNGD0LfQutCwINC60LvQsNGB0YHQsCDQutCw0YHRgtC+0LzQuNC30LDRhtC40LggU2VsZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvKipcclxuICpcclxuICog0KHRgtGA0YPQutGC0LAg0L/QviDRgdC+0LfQtNCw0L3QuNGOINC60LDRgdGC0L7QvNC90L7Qs9C+IHNlbGVjdFxyXG4gKlxyXG4gKiDQlNC70Y8g0LzQvtCx0LjQu9GM0L3Ri9GFINCy0LXRgNGB0LjQuSDQtNC+0LvQttC10L0g0L7RgtGA0LDQttCw0YLRjNGB0Y8g0L3QsNGC0LjQstC90YvQuSBzZWxlY3QsINC00LvRjyDQv9C6INC60LDRgdGC0L7QvNC90YvQuVxyXG4gKlxyXG4gKi9cclxuXHJcbmNsYXNzIFNlbGVjdERLIHtcclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgdGhpcy5fS0VZUyA9IHtcclxuICAgICAgICAgRVNDOiAyNyxcclxuICAgICAgICAgU1BBQ0U6IDMyLFxyXG4gICAgICAgICBFTlRFUjogMTMsXHJcbiAgICAgICAgIFRBQjogOSxcclxuICAgICAgICAgQVJST1dfTEVGVDogMzcsXHJcbiAgICAgICAgIEFSUk9XX1VQOiAzOCxcclxuICAgICAgICAgQVJST1dfUklHSFQ6IDM5LFxyXG4gICAgICAgICBBUlJPV19ET1dOOiA0MCxcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5fZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgIHNlbGVjdENsYXNzTmFtZTogXCJzZWxlY3RcIixcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy5fZGVmYXVsdE9wdGlvbnMsIHRoaXMuY29uc3RydWN0b3JPcHRpb25zKTtcclxuICAgICAgdGhpcy5fc2VsZWN0TXVsdGlwbGUgPSBbXTtcclxuXHJcbiAgICAgIHRoaXMuXyRzZWxlY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInNlbGVjdFwiKTtcclxuICAgICAgaWYgKCF0aGlzLl8kc2VsZWN0cykgcmV0dXJuO1xyXG5cclxuICAgICAgdGhpcy5fJHNlbGVjdHMuZm9yRWFjaCgoc2VsZWN0LCBpKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuX3NlbGVjdE11bHRpcGxlW2ldID0gc2VsZWN0Lmhhc0F0dHJpYnV0ZShcIm11bHRpcGxlXCIpO1xyXG4gICAgICAgICB0aGlzLl9tYWtlQ3VzdG9tKHNlbGVjdCwgaSk7XHJcblxyXG4gICAgICAgICBzZWxlY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZSkgPT4gdGhpcy5fc2V0Q3VzdG9tVmFsdWUoZSwgaSkpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5faW5pdEN1c3RvbSgpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX21ha2VDdXN0b20oc2VsZWN0LCBpKSB7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0UGFyZW50ID0gc2VsZWN0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0T3B0aW9ucyA9IFsuLi5zZWxlY3QucXVlcnlTZWxlY3RvckFsbChcIm9wdGlvblwiKV07XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgY29uc3QgXyRzZWxlY3RQb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuXHJcbiAgICAgIGNvbnN0IF9zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgdmFsdWU6IF8kc2VsZWN0T3B0aW9uc1swXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgdGV4dDogXyRzZWxlY3RPcHRpb25zWzBdLmlubmVySFRNTCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF8kc2VsZWN0TWVudS5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fbWVudWApO1xyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fYnV0dG9uYCk7XHJcbiAgICAgIF8kc2VsZWN0UG9wdXAuY2xhc3NMaXN0LmFkZChgJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX3BvcHVwYCk7XHJcblxyXG4gICAgICBfJHNlbGVjdE9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBsKSA9PiB7XHJcbiAgICAgICAgIGNvbnN0IF8kc2VsZWN0T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICAgICBfJHNlbGVjdE9wdGlvbi50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICBpZiAodGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIHtcclxuICAgICAgICAgICAgXyRzZWxlY3RPcHRpb24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm1lbnVpdGVtY2hlY2tib3hcIik7XHJcbiAgICAgICAgICAgIF8kc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfJHNlbGVjdE9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibWVudWl0ZW1cIik7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIGlmIChsID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIF8kc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIF8kc2VsZWN0T3B0aW9uLnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgaWYgKG9wdGlvbi5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSkge1xyXG4gICAgICAgICAgICBfc2VsZWN0ZWRPcHRpb24udmFsdWUgPSBvcHRpb24uZ2V0QXR0cmlidXRlKFwidmFsdWVcIik7XHJcbiAgICAgICAgICAgIF9zZWxlY3RlZE9wdGlvbi50ZXh0ID0gb3B0aW9uLmlubmVySFRNTDtcclxuICAgICAgICAgICAgXyRzZWxlY3RPcHRpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIFwidHJ1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIHtcclxuICAgICAgICAgICAgICAgXyRzZWxlY3RPcHRpb24udGFiSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICBfJHNlbGVjdFBvcHVwLmZpcnN0Q2hpbGQucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpO1xyXG4gICAgICAgICAgICAgICBfJHNlbGVjdFBvcHVwLmZpcnN0Q2hpbGQudGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICBfJHNlbGVjdE9wdGlvbi5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fb3B0aW9uYCk7XHJcbiAgICAgICAgIF8kc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZShcImRhdGEtdmFsdWVcIiwgb3B0aW9uLmdldEF0dHJpYnV0ZShcInZhbHVlXCIpKTtcclxuICAgICAgICAgXyRzZWxlY3RPcHRpb24uaW5uZXJIVE1MID0gb3B0aW9uLmlubmVySFRNTDtcclxuICAgICAgICAgXyRzZWxlY3RQb3B1cC5hcHBlbmRDaGlsZChfJHNlbGVjdE9wdGlvbik7XHJcbiAgICAgICAgIC8vINCi0YDRg9C00L7QtdC80LrQviDQuCDRgtGA0LXQsdGD0LXRgiDQvtGC0YHQu9C10LbQuNCy0LDQvdC40Y8g0L/QviDRgNC+0LTQuNGC0LXRjiwg0L3QviBibHVyINCx0LXQtyDRhNC+0LrRg9GB0LjRgNC+0LLQutC4INC90LUg0YDQsNCx0L7RgtCw0LXRglxyXG4gICAgICAgICBfJHNlbGVjdE9wdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCAoZSkgPT4gdGhpcy5faGFuZGxlQmx1cihlLCBpKSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgXyRzZWxlY3RCdXR0b24uaW5uZXJIVE1MID0gX3NlbGVjdGVkT3B0aW9uLnRleHQ7XHJcblxyXG4gICAgICAvLy0tLS3QodGC0LjQu9C40LfQsNGG0LjRjy0tLS0tXHJcbiAgICAgIGlmIChzZWxlY3QuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpIF8kc2VsZWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwiXCIpO1xyXG4gICAgICBpZiAodGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIF8kc2VsZWN0TWVudS5zZXRBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiLCBcIlwiKTtcclxuICAgICAgaWYgKHNlbGVjdC5oYXNBdHRyaWJ1dGUoXCJzaXplXCIpKSBfJHNlbGVjdE1lbnUuc3R5bGUuc2V0UHJvcGVydHkoXCItLXNpemVcIiwgc2VsZWN0LmdldEF0dHJpYnV0ZShcInNpemVcIikpO1xyXG4gICAgICBpZiAoIXNlbGVjdC5oYXNBdHRyaWJ1dGUoXCJvcGVuXCIpICYmICF0aGlzLl9zZWxlY3RNdWx0aXBsZVtpXSkgXyRzZWxlY3RQb3B1cC5oaWRkZW4gPSB0cnVlO1xyXG5cclxuICAgICAgLy8tLS0tQVJJQS0tLS0tLS0tLS0tXHJcbiAgICAgIF8kc2VsZWN0TWVudS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibWVudVwiKTtcclxuICAgICAgXyRzZWxlY3RCdXR0b24uc2V0QXR0cmlidXRlKFwidHlwZVwiLCBcImJ1dHRvblwiKTtcclxuICAgICAgXyRzZWxlY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhhc3BvcHVwXCIsIFwidHJ1ZVwiKTtcclxuXHJcbiAgICAgIC8vLS0tLUV2ZW50cy0tLS0tLS0tLVxyXG4gICAgICBfJHNlbGVjdE1lbnUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB0aGlzLl9jbGljayhlLCBpKSk7XHJcbiAgICAgIF8kc2VsZWN0TWVudS5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4gdGhpcy5fY2hlY2tQcmVzcyhlLCBpKSwgdHJ1ZSk7XHJcblxyXG4gICAgICBfJHNlbGVjdE1lbnUuYXBwZW5kQ2hpbGQoXyRzZWxlY3RCdXR0b24pO1xyXG4gICAgICBfJHNlbGVjdE1lbnUuYXBwZW5kQ2hpbGQoXyRzZWxlY3RQb3B1cCk7XHJcbiAgICAgIF8kc2VsZWN0UGFyZW50LmFwcGVuZENoaWxkKF8kc2VsZWN0TWVudSk7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfaW5pdEN1c3RvbSgpIHtcclxuICAgICAgLy8gdGhpcy5fJHNlbGVjdExpc3QgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9X19tZW51YCldO1xyXG4gICAgICB0aGlzLl8kcG9wdXBzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fcG9wdXBgKV07XHJcbiAgICAgIHRoaXMuXyRidXR0b25zID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fYnV0dG9uYCldO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX2hhbmRsZUJsdXIoZSwgc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGlmICh0aGlzLl9zZWxlY3RNdWx0aXBsZVtzZWxlY3ROdW1iZXJdKSByZXR1cm47XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRUYXJnZXQgPSBlLmN1cnJlbnRUYXJnZXQ7XHJcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XHJcbiAgICAgICAgIGlmICghY3VycmVudFRhcmdldC5jbG9zZXN0KGAuJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX21lbnVgKS5jb250YWlucyhkb2N1bWVudC5hY3RpdmVFbGVtZW50KSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jbG9zZVNlbGVjdChzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX2NsaWNrKGUsIHNlbGVjdE51bWJlciA9IG51bGwpIHtcclxuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX29wdGlvbmApKSB7XHJcbiAgICAgICAgIHRoaXMuX2NoYW5nZU9wdGlvbkJ5Q2xpY2soZS50YXJnZXQsIHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkgdGhpcy5fY2xvc2VTZWxlY3Qoc2VsZWN0TnVtYmVyKTtcclxuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoYCR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9X19idXR0b25gKSkgdGhpcy50b2dnbGVPcGVuU2VsZWN0KHNlbGVjdE51bWJlcik7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfY2hlY2tQcmVzcyhlLCBzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5FU0MgJiYgIXRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHtcclxuICAgICAgICAgdGhpcy5fY2xvc2VTZWxlY3Qoc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX1VQIHx8IGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19MRUZUKSB7XHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgdGhpcy5fY2hhbmdlT3B0aW9uVG9QcmV2KHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19ET1dOIHx8IGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19SSUdIVCkge1xyXG4gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgIHRoaXMuX2NoYW5nZU9wdGlvblRvTmV4dChzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINCV0YHQu9C4INC+0YLQutGA0YvRgiBzZWxlY3RcclxuICAgICAgaWYgKCF0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0uaGFzQXR0cmlidXRlKFwiaGlkZGVuXCIpKSB7XHJcbiAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuRU5URVIpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHRoaXMuX2Nsb3NlU2VsZWN0KHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgICAgIGVsc2UgdGhpcy5fY2hhbmdlT3B0aW9uQnlDbGljayhlLnRhcmdldCwgc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgLy9zZWxlY3QgZnVuY1xyXG4gICBzdGF0aWMgdG9nZ2xlT3BlblNlbGVjdChzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgaWYgKHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5oYXNBdHRyaWJ1dGUoXCJoaWRkZW5cIikpIHRoaXMuX29wZW5TZWxlY3Qoc2VsZWN0TnVtYmVyKTtcclxuICAgICAgZWxzZSB0aGlzLl9jbG9zZVNlbGVjdChzZWxlY3ROdW1iZXIpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX29wZW5TZWxlY3Qoc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5oaWRkZW4gPSBmYWxzZTtcclxuICAgICAgdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnByZXZpb3VzU2libGluZy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnF1ZXJ5U2VsZWN0b3IoJ1t0YWJpbmRleD1cIjBcIl0nKS5mb2N1cyh7IGZvY3VzVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9jbG9zZVNlbGVjdChzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLmhpZGRlbiA9IHRydWU7XHJcbiAgICAgIHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5wcmV2aW91c1NpYmxpbmcuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICB0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0ucHJldmlvdXNTaWJsaW5nLmZvY3VzKHsgZm9jdXNWaXNpYmxlOiB0cnVlIH0pO1xyXG4gICB9XHJcblxyXG4gICAvLyBidG4gZnVuY1xyXG4gICBzdGF0aWMgX3NldEJ1dHRvbkJ5T3B0aW9uKG9wdGlvbiwgc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIHRoaXMuXyRidXR0b25zW3NlbGVjdE51bWJlcl0uaW5uZXJUZXh0ID0gb3B0aW9uLmlubmVyVGV4dDtcclxuICAgfVxyXG5cclxuICAgLy8gb3B0aW9uIGZ1bmNcclxuICAgc3RhdGljIF9nZXRDdXJyZW50T3B0aW9uKHNlbGVjdE51bWJlcikge1xyXG4gICAgICByZXR1cm4gdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnF1ZXJ5U2VsZWN0b3IoJ1t0YWJpbmRleD1cIjBcIl0nKTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9nZXRPcHRpb25zVmFsdWVzKHNlbGVjdE51bWJlcikge1xyXG4gICAgICBjb25zdCBvcHRpb25zID0gWy4uLnRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX29wdGlvbmApXTtcclxuICAgICAgcmV0dXJuIG9wdGlvbnMubWFwKChvcHRpb24pID0+IHtcclxuICAgICAgICAgcmV0dXJuIG9wdGlvbi5nZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIik7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX3Jlc2V0T3B0aW9uKG9wdGlvbikge1xyXG4gICAgICBvcHRpb24udGFiSW5kZXggPSAtMTtcclxuICAgICAgb3B0aW9uLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9zZXRPcHRpb24ob3B0aW9uKSB7XHJcbiAgICAgIG9wdGlvbi50YWJJbmRleCA9IDA7XHJcbiAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICBvcHRpb24uZm9jdXMoeyBmb2N1c1Zpc2libGU6IHRydWUgfSk7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfY2hhbmdlT3B0aW9uQnlDbGljayhvcHRpb24sIHNlbGVjdE51bWJlcikge1xyXG4gICAgICBjb25zdCBfJGN1cnJlbnRPcHRpb24gPSB0aGlzLl9nZXRDdXJyZW50T3B0aW9uKHNlbGVjdE51bWJlcik7XHJcbiAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkge1xyXG4gICAgICAgICB0aGlzLl9yZXNldE9wdGlvbihfJGN1cnJlbnRPcHRpb24pO1xyXG4gICAgICAgICB0aGlzLl9zZXRPcHRpb24ob3B0aW9uKTtcclxuXHJcbiAgICAgICAgIHRoaXMuX3NldEJ1dHRvbkJ5T3B0aW9uKG9wdGlvbiwgc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgdGhpcy5fc2V0TmF0aXZlVmFsdWUoc2VsZWN0TnVtYmVyLCBvcHRpb24uZGF0YXNldC52YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g0LXRgdC70LggbXVsdGlwbGVcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgIGNvbnN0IGFyaWFDaGVja2VkID0gb3B0aW9uLmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJ0cnVlXCIgPyBmYWxzZSA6IHRydWU7XHJcbiAgICAgICAgIC8vIF8kY3VycmVudE9wdGlvbi50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICBvcHRpb24uc2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIsIGFyaWFDaGVja2VkKTtcclxuICAgICAgICAgLy8gb3B0aW9uLnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgdGhpcy5fc2V0TmF0aXZlVmFsdWUoc2VsZWN0TnVtYmVyLCB0aGlzLl9nZXRPcHRpb25zVmFsdWVzKHNlbGVjdE51bWJlcikpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfY2hhbmdlT3B0aW9uVG9OZXh0KHNlbGVjdE51bWJlcikge1xyXG4gICAgICBjb25zdCBfJGN1cnJlbnRPcHRpb24gPSB0aGlzLl9nZXRDdXJyZW50T3B0aW9uKHNlbGVjdE51bWJlcik7XHJcbiAgICAgIGlmIChfJGN1cnJlbnRPcHRpb24ubmV4dFNpYmxpbmcgIT09IG51bGwpIHtcclxuICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RNdWx0aXBsZVtzZWxlY3ROdW1iZXJdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0T3B0aW9uKF8kY3VycmVudE9wdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE9wdGlvbihfJGN1cnJlbnRPcHRpb24ubmV4dFNpYmxpbmcpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5fc2V0QnV0dG9uQnlPcHRpb24oXyRjdXJyZW50T3B0aW9uLm5leHRTaWJsaW5nLCBzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXROYXRpdmVWYWx1ZShzZWxlY3ROdW1iZXIsIF8kY3VycmVudE9wdGlvbi5uZXh0U2libGluZy5kYXRhc2V0LnZhbHVlKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgXyRjdXJyZW50T3B0aW9uLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIF8kY3VycmVudE9wdGlvbi5uZXh0U2libGluZy50YWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIF8kY3VycmVudE9wdGlvbi5uZXh0U2libGluZy5mb2N1cyh7IGZvY3VzVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfY2hhbmdlT3B0aW9uVG9QcmV2KHNlbGVjdE51bWJlcikge1xyXG4gICAgICBjb25zdCBfJGN1cnJlbnRPcHRpb24gPSB0aGlzLl9nZXRDdXJyZW50T3B0aW9uKHNlbGVjdE51bWJlcik7XHJcbiAgICAgIGlmIChfJGN1cnJlbnRPcHRpb24ucHJldmlvdXNTaWJsaW5nICE9PSBudWxsKSB7XHJcbiAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNldE9wdGlvbihfJGN1cnJlbnRPcHRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRPcHRpb24oXyRjdXJyZW50T3B0aW9uLnByZXZpb3VzU2libGluZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25CeU9wdGlvbihfJGN1cnJlbnRPcHRpb24ucHJldmlvdXNTaWJsaW5nLCBzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICAgICB0aGlzLl9zZXROYXRpdmVWYWx1ZShzZWxlY3ROdW1iZXIsIF8kY3VycmVudE9wdGlvbi5wcmV2aW91c1NpYmxpbmcuZGF0YXNldC52YWx1ZSk7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIF8kY3VycmVudE9wdGlvbi50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICBfJGN1cnJlbnRPcHRpb24ucHJldmlvdXNTaWJsaW5nLnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgXyRjdXJyZW50T3B0aW9uLnByZXZpb3VzU2libGluZy5mb2N1cyh7IGZvY3VzVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIC8vbmF0aXZlIHNlbGVjdCBmdW5jXHJcbiAgIHN0YXRpYyBfc2V0TmF0aXZlVmFsdWUoc2VsZWN0TnVtYmVyLCB2YWx1ZSkge1xyXG4gICAgICBpZiAoIXRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHRoaXMuXyRzZWxlY3RzW3NlbGVjdE51bWJlcl0udmFsdWUgPSB2YWx1ZTtcclxuICAgICAgLy8g0LXRgdC70LggbXVsdGlwbGVcclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgIGNvbnN0IG5hdGl2ZU9wdGlvbnMgPSB0aGlzLl8kc2VsZWN0c1tzZWxlY3ROdW1iZXJdLm9wdGlvbnM7XHJcblxyXG4gICAgICAgICB2YWx1ZS5mb3JFYWNoKChvcHRpb25DdXN0b21WYWx1ZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBvcHRpb25DdXN0b21WYWx1ZSA9IG9wdGlvbkN1c3RvbVZhbHVlID09PSBcInRydWVcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgbmF0aXZlT3B0aW9uc1tpXS5zZWxlY3RlZCA9IG9wdGlvbkN1c3RvbVZhbHVlO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX3NldEN1c3RvbVZhbHVlKGUsIHNlbGVjdE51bWJlcikge1xyXG4gICAgICBpZiAoIXRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHtcclxuICAgICAgICAgY29uc3QgdmFsdWUgPSBlLmN1cnJlbnRUYXJnZXQudmFsdWU7XHJcbiAgICAgICAgIGNvbnN0IF8kY3VycmVudE9wdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRPcHRpb24oc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgY29uc3QgXyR0b1NldE9wdGlvbiA9IHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5xdWVyeVNlbGVjdG9yKGBbZGF0YS12YWx1ZT1cIiR7dmFsdWV9XCJdYCk7XHJcbiAgICAgICAgIHRoaXMuX3Jlc2V0T3B0aW9uKF8kY3VycmVudE9wdGlvbik7XHJcbiAgICAgICAgIHRoaXMuX3NldE9wdGlvbihfJHRvU2V0T3B0aW9uKTtcclxuICAgICAgICAgdGhpcy5fc2V0QnV0dG9uQnlPcHRpb24oXyR0b1NldE9wdGlvbiwgc2VsZWN0TnVtYmVyKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgY29uc3QgbmF0aXZlT3B0aW9ucyA9IHRoaXMuXyRzZWxlY3RzW3NlbGVjdE51bWJlcl0ub3B0aW9ucztcclxuICAgICAgICAgY29uc3QgY3VzdG9tT3B0aW9ucyA9IHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX29wdGlvbmApO1xyXG4gICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hdGl2ZU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY3VzdG9tT3B0aW9uc1tpXS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgbmF0aXZlT3B0aW9uc1tpXS5zZWxlY3RlZCk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9XHJcbn1cclxuXHJcblNlbGVjdERLLmluaXQoKTtcclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwIFwi0JzQvtC00LDQu9GM0L3Ri9GFINC+0LrQvtC9XCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8qXHJcblxyXG4gICDQn9C+0Y/QstC70Y/QtdGO0YnQuNC10YHRjyDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4gKNGN0YTRhNC10LrRgtGLINC/0L7Rj9Cy0LvQtdC90LjRjyDQvdCw0YHRgtGA0LDQuNCy0LDRjtGC0YHRjyDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvikuXHJcbiAgINCS0L7Qt9C80L7QttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC00LvRjyDQvtGB0L3QvtCy0L3QvtC5INC90LDQstCz0LjQsNGG0LjQuCDQvdCwINGB0LDQudGC0LUg0Lgg0LvRjtCx0YvRhSDQtNGA0YPQs9C40YUg0LzQtdC90Y4g0LjQu9C4INC80L7QtNCw0LvRjNC90YvRhSDQvtC60L7QvS5cclxuICAgXHJcbiAgICHQvdC10YIg0YDQtdCw0LvQuNC30LDRhtC40LghIGRhdGEtc2VsZWN0LWZpcnN0PVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LTQvtC70LbQvSDQv9C+0L/QsNGB0YLRjCDQsiDRhNC+0LrRg9GBINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXHJcbiAgIFxyXG5cclxuICAgZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIiAtINC90LXQvtCx0YXQvtC00LjQvNC+INGD0YHRgtCw0L3QvtCy0LjRgtGMINC90LAg0Y3Qu9C10LzQtdC90YIsINC60L7RgtC+0YDRi9C5INC00L7Qu9C20L0g0L/QvtC/0LDRgdGC0Ywg0LIg0YTQvtC60YPRgSDQsiDRgdCw0LzRi9C5INC/0L7RgdC70LXQtNC90LjQuSDQvNC+0LzQtdC90YJcclxuICAgZGF0YS1jbG9zZT1cInRydWVcIiAtINC90LXQvtCx0YXQvtC00LjQvNC+INGD0YHRgtCw0L3QvtCy0LjRgtGMINC90LAg0Y3Qu9C10LzQtdC90YIsINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LfQsNC60YDRi9Cy0LDRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviAo0YLQvtC70YzQutC+INC90LAg0Y3Qu9C10LzQtdC90YLRiyDQstC90YPRgtGA0Lgg0L7QutC90LApXHJcblxyXG5cclxuICAg0J7QsdGK0LXQutGCINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwOlxyXG4gICBzZWxlY3RvciAtINGB0LXQu9C10LrRgtC+0YAg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LAg0YEg0LrQvtGC0L7RgNGL0Lwg0LHRg9C00LXQvCDRgNCw0LHQvtGC0LDRgtGMXHJcbiAgIG9wZW5CdG5zU2VsZWN0b3IgLSDQutC90L7Qv9C60Lgg0L7RgtC60YDRi9GC0LjRjyAo0LzQvtCz0YPRgiDQsdGL0YLRjCDRg9C60LDQt9Cw0L3RiyDQstCy0LjQtNC1INC80LDRgdGB0LjQstCwKVxyXG4gICBjb250ZW50Q2xhc3MgLSDQutC70LDRgdGBLCDQutC+0YLQvtGA0YvQuSDQuNGB0L/QvtC70YzQt9GD0LXRgtGB0Y8g0LTQu9GPINC+0LHQtdGA0YLQutC4INGB0L7QtNC10YDQttC40LzQvtCz0L4gXCJjb250ZW50XCIsXHJcbiAgIG1hdGNoTWVkaWEgLSDQvNC10LTQuNCwINC30LDQv9GA0L7RgSwg0LIg0LrQvtGC0L7RgNC+0Lwg0LTQvtC70LbQtdC9INC30LDQv9GD0YHQutCw0YLRjNGB0Y8g0L3QvtCy0YvQuSDQutC70LDRgdGBIChub25lKVxyXG4gICBkaWFsb2dGdWxsU2NyZWVuIC0g0YPQutCw0LfRi9Cy0LDQtdGCINC+0YLQutGA0YvQstCw0YLRjCDQu9C4INC00LjQsNC70L7QsyAoZGlhbG9nKSDQvdCwINCy0LXRgdGMINGN0LrQsNGA0L0gKGRlZmF1bHQ6IHRydWUpXHJcblxyXG4gICBmb2N1c1RyYXAgLSDRgtGA0LXQsdGD0LXRgtGB0Y8g0LvQuCDQv9C10YDQtdGF0L7QtNC40YLRjCDRgtCw0LHQvtC8INGC0L7Qu9GM0LrQviDQv9C+INC80L7QtNCw0LvRjNC90L7QvNGDINC+0LrQvdGDIChkZWZhdWx0OiBmYWxzZSkg0L3QtSDRgNCw0LHQvtGC0LDQtdGCINGBIGNvbGxhcHNlT25Gb2N1c091dCA9IHRydWUgXHJcbiAgIGNvbGxhcHNlT25Gb2N1c091dCAtINGC0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC30LDQutGA0YvQstCw0YLRjCDQvtC60L3QviDQv9GA0Lgg0L/QvtGC0LXRgNC4INGE0L7QutGD0YHQsCAoZGVmYXVsdDogZmFsc2UpXHJcbiAgIFxyXG4gICBvdmVybGF5IC0g0YLRgNC10LHRg9C10YLRgdGPINC70Lgg0L7QstC10YDQu9C10LkgKGRlZmF1bHQ6IHRydWUpXHJcbiAgIG92YXJsYXlDbGFzcyAtINC60LvQsNGB0YEg0LTQu9GPINC+0LLQtdGA0LvRjdGPIChkZWZhdWx0OiBcIm92YXJsYXlcIilcclxuICAgb3ZlcmxheUJnIC0g0YbQstC10YIgYmcgKGRlZnVsdDogXCJyZ2JhKDAsMCwwLCAwLjUpXCIpXHJcblxyXG4gICBvbk9wZW4oKSAtINCk0YPQvdC60YbQuNGPINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4XHJcbiAgIG9uQ2xvc2UoKSAtINCk0YPQvdC60YbQuNGPINC/0YDQuCDQt9Cw0LrRgNGL0YLQuNC4XHJcbiAgIFxyXG4gICBtb2RhbCA9IG5ldyBNb2RhbERLKHtcclxuICAgICAgc2VsZWN0b3I6IFwiI21vZGFsXCIsXHJcbiAgICAgIG9wZW5CdG5zU2VsZWN0b3I6IFtcIi5idG4tLW9wZW5cIl0sXHJcbiAgICAgIGNvbnRlbnRDbGFzczogXCJjb250ZW50XCIsXHJcbiAgICAgIG1hdGhjTWVkaWE6ICcobWF4LXdpZHRoOiA1MHJlbSknLFxyXG4gICAgICBkaWFsb2dGdWxsU2NyZWVuOiB0cnVlLFxyXG4gICAgICBmb2N1c1RyYXA6IHRydWUsIC8vINCi0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC/0LXRgNC10LzQtdGJ0LDRgtGM0YHRjyDRgtCw0LHQvtC8INGC0L7Qu9GM0LrQviDQstC90YPRgtGA0Lgg0L7QsdGK0LXQutGC0LAgKGRlZmF1bHQ6IGZhbHNlKVxyXG4gICAgICBjb2xsYXBzZU9uRm9jdXNPdXQ6IHRydWUsIC8vINCi0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC30LDQutGA0YvQstCw0YLRjCDQv9GA0Lgg0L/QvtGC0LXRgNC4INGE0L7QutGD0YHQsFxyXG4gICAgICBvdmFybGF5Q2xhc3M6IFwib3ZlcmxheVwiLFxyXG4gICAgICBvdmVybGF5OiB0cnVlLFxyXG4gICAgICBvdmVybGF5Qmc6IFwicmdiYSgwLDAsMCwgMC41KVwiLFxyXG4gICAgICBvbk9wZW4oKSB7XHJcbiAgICAgICAgIGNvbnNvbGUubG9nKFwibW9kYWwgb3BlbmluZ1wiKTtcclxuICAgICAgfSxcclxuICAgICAgb25DbG9zZSgpIHtcclxuICAgICAgICAgY29uc29sZS5sb2coXCJtb2RhbCBjbG9zaW5nXCIpO1xyXG4gICAgICB9LFxyXG4gICB9KTtcclxuXHJcbiAgINCg0LXQsNC70LjQt9Cw0YbQuNGPINCyIGh0bWwg0LTQu9GPIGRpYWxvZ1xyXG4gICA8ZGlhbG9nIGNsYXNzPVwibW9kYWxcIiBpZD1cIm1vZGFsXCI+XHJcbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4tbW9kYWwtY2xvc2VcIiBkYXRhLWNsb3NlPVwidHJ1ZVwiPtGFPC9idXR0b24+XHJcbiAgICAgIDxwPtCt0YLQviDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L48L3A+XHJcbiAgIDwvZGlhbG9nPlxyXG5cclxuICAg0KDQtdCw0LvQuNC30LDRhtC40Y8g0LIgaHRtbCBcclxuICAgPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJtb2RhbFwiIGhpZGRlbj5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1tb2RhbC1jbG9zZVwiIGRhdGEtY2xvc2U9XCJ0cnVlXCI+0YU8L2J1dHRvbj5cclxuICAgICAgPHA+0K3RgtC+INC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjwvcD5cclxuICAgPC9kaXY+XHJcbiAgICBcclxuXHJcbiAgIFRPRE86XHJcbiAgINCa0L7Qs9C00LAg0LTQvtCx0LDQstC70Y4gYXJpYSDQsNGC0YDQuNCx0YPRgtGLLCDRgtC+INC40YHQv9C+0LvRjNC30L7QstCw0YLRjCDQuNGFINCy0LzQtdGB0YLQviDQutC70LDRgdGB0LAgYWN0aXZlXHJcbiAgIGFyaWEg0YPQutCw0LfRi9Cy0LDRgtGMINGH0YLQviDQvtC60L3QviDQv9C+0Y/QstC40LvQvtGB0YxcclxuKi9cclxuXHJcbmNsYXNzIE1vZGFsREsgZXh0ZW5kcyBOb2RhREsge1xyXG4gICAjZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIGRpYWxvZ0Z1bGxTY3JlZW46IHRydWUsXHJcbiAgICAgIGNvbnRlbnRDbGFzczogXCJjb250ZW50XCIsXHJcbiAgICAgIG92ZXJsYXk6IHRydWUsXHJcbiAgICAgIG92YXJsYXlDbGFzczogXCJvdmVybGF5XCIsXHJcbiAgICAgIG92ZXJsYXlCZzogXCJyZ2JhKDAsMCwwLCAwLjUpXCIsXHJcbiAgIH07XHJcbiAgICMkYWN0aXZlT3BlbkJ0bjsgLy8g0KXRgNCw0L3QuNC8INC90L7QtNGDINC60L3QvtC/0LrQuCwg0LrQvtGC0L7RgNC+0Lkg0L7RgtC60YDRi9C70LgsINC00LvRjyDQv9C10YDQtdCy0L7QtNCwINC90LAg0L3QtdC1INGE0L7QutGD0YHQtSwg0LrQvtCz0LQg0LfQsNC60YDQvtC10Lwg0L7QutC90L5cclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICBzdXBlcihvcHRpb25zKTtcclxuICAgICAgaWYgKHRoaXMuI2NoZWNrKCkpIHtcclxuICAgICAgICAgdGhpcy5fb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24odGhpcy4jZGVmYXVsdE9wdGlvbnMsIHRoaXMuX29wdGlvbnMpO1xyXG4gICAgICAgICB0aGlzLl8kb3BlbkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX29wdGlvbnMub3BlbkJ0bnNTZWxlY3Rvcik7XHJcblxyXG4gICAgICAgICB0aGlzLiNpbml0KCk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgI2NoZWNrKCkge1xyXG4gICAgICByZXR1cm4gIXRoaXMuX2hhc0Vycm9ycztcclxuICAgfVxyXG5cclxuICAgI2luaXQoKSB7XHJcbiAgICAgIGlmICh0aGlzLl8kZWwubm9kZU5hbWUgIT09IFwiRElBTE9HXCIpIHtcclxuICAgICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJkaWFsb2dcIik7XHJcbiAgICAgICAgIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0JTQvtCx0LDQstGP0LvQtdC8INGN0LvQtdC80LXQvdGCINC+0LHQtdGA0YLQutGDIChjb250ZW50KVxyXG4gICAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgY29udGVudC5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0b3Iuc2xpY2UoMSl9X18ke3RoaXMuX29wdGlvbnMuY29udGVudENsYXNzfWApO1xyXG4gICAgICBjb250ZW50LmlubmVySFRNTCA9IHRoaXMuXyRlbC5pbm5lckhUTUw7XHJcbiAgICAgIHRoaXMuXyRlbC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICB0aGlzLl8kZWwuYXBwZW5kQ2hpbGQoY29udGVudCk7XHJcblxyXG4gICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0L7QstC10YDQu9C10LlcclxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMub3ZlcmxheSAmJiB0aGlzLl8kZWwubm9kZU5hbWUgIT09IFwiRElBTE9HXCIpIHtcclxuICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblxyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuX29wdGlvbnMub3ZlcmxheUJnO1xyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLnBvc2l0aW9uID0gXCJmaXhlZFwiO1xyXG4gICAgICAgICBvdmVybGF5LnN0eWxlLmluc2V0ID0gXCIwXCI7XHJcbiAgICAgICAgIG92ZXJsYXkuY2xhc3NMaXN0LmFkZCh0aGlzLl9vcHRpb25zLnNlbGVjdG9yLnNsaWNlKDEpICsgXCJfX1wiICsgdGhpcy5fb3B0aW9ucy5vdmFybGF5Q2xhc3MpO1xyXG4gICAgICAgICBvdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsb3NlLmJpbmQodGhpcykpO1xyXG4gICAgICAgICBpZiAodGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUucG9zaXRpb24gPT09IFwic3RhdGljXCIpIHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKFwiOmZpcnN0LWNoaWxkXCIpLnN0eWxlLnBvc2l0aW9uID0gXCJyZWxhdGl2ZVwiO1xyXG4gICAgICAgICB0aGlzLl8kZWwuaW5zZXJ0QmVmb3JlKG92ZXJsYXksIHRoaXMuXyRlbC5maXJzdENoaWxkKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHRoaXMuXyRvcGVuQnRucykge1xyXG4gICAgICAgICAvLyDQodC+0LHRi9GC0LjRj1xyXG4gICAgICAgICB0aGlzLl8kb3BlbkJ0bnMuZm9yRWFjaCgob3BlbkJ0bikgPT4ge1xyXG4gICAgICAgICAgICBvcGVuQnRuLnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwgXCJkaWFsb2dcIik7XHJcbiAgICAgICAgICAgIG9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMub3Blbi5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX21haW5FbENsaWNrKGUpIHtcclxuICAgICAgc3VwZXIuX21haW5FbENsaWNrKGUpO1xyXG4gICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiRElBTE9HXCIpIHtcclxuICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgb3BlbigpIHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIGlmICh0aGlzLl8kZWwuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgPT09IFwiZmFsc2VcIiB8fCB0aGlzLl8kZWwuaGFzQXR0cmlidXRlKFwib3BlblwiKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICB0aGlzLiMkYWN0aXZlT3BlbkJ0biA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XHJcblxyXG4gICAgICAgICBpZiAodGhpcy5fJGVsLm5vZGVOYW1lID09PSBcIkRJQUxPR1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmRpYWxvZ0Z1bGxTY3JlZW4pIHRoaXMuXyRlbC5zaG93TW9kYWwoKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLl8kZWwuc2hvdygpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzdXBlci5vcGVuKCk7XHJcbiAgICAgICAgICAgIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICBpZiAodGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoID4gMCkgdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnRbMF0uZm9jdXMoKTtcclxuICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm9uT3BlbiA9PT0gXCJmdW5jdGlvblwiKSB0aGlzLl9vcHRpb25zLm9uT3BlbigpO1xyXG4gICAgICAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHtcclxuXHJcbiAgICAgICAgIC8vIH0sIDEpO1xyXG4gICAgICB9LCAxKTtcclxuICAgfVxyXG5cclxuICAgY2xvc2UoKSB7XHJcbiAgICAgIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJjbG9zaW5nXCIsIFwiXCIpO1xyXG4gICAgICBjb25zdCBfJGVsTHNBbmltID0gdGhpcy5fJGVsLm5vZGVOYW1lID09PSBcIkRJQUxPR1wiID8gdGhpcy5fJGVsIDogdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0b3Iuc2xpY2UoMSl9X18ke3RoaXMuX29wdGlvbnMuY29udGVudENsYXNzfWApO1xyXG4gICAgICBpZiAoXyRlbExzQW5pbS5nZXRBbmltYXRpb25zKCkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCd0LXQvtCx0YXQvtC00LjQvNC+INC00L7QsdCw0LLQuNGC0Ywg0LDQvdC40LzQsNGG0LjRjiDQtNC70Y9gLCBfJGVsTHNBbmltKTtcclxuICAgICAgICAgdGhpcy4jY2xvc2luZygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBfJGVsTHNBbmltLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgICAgIFwiYW5pbWF0aW9uZW5kXCIsXHJcbiAgICAgICAgICAgICgpID0+IHtcclxuICAgICAgICAgICAgICAgdGhpcy4jY2xvc2luZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7IG9uY2U6IHRydWUgfVxyXG4gICAgICAgICApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuIyRhY3RpdmVPcGVuQnRuLnRhYkluZGV4ICE9PSAtMSkgdGhpcy4jJGFjdGl2ZU9wZW5CdG4uZm9jdXMoKTtcclxuICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm9uQ2xvc2UgPT09IFwiZnVuY3Rpb25cIikgdGhpcy5fb3B0aW9ucy5vbkNsb3NlKCk7XHJcbiAgICAgIH0sIDEpO1xyXG5cclxuICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1haW5cIikucmVtb3ZlQXR0cmlidXRlKFwiaW5lcnRcIiwgXCJcIik7XHJcbiAgIH1cclxuXHJcbiAgICNjbG9zaW5nKCkge1xyXG4gICAgICB0aGlzLl8kZWwucmVtb3ZlQXR0cmlidXRlKFwiY2xvc2luZ1wiKTtcclxuICAgICAgaWYgKHRoaXMuXyRlbC5ub2RlTmFtZSA9PT0gXCJESUFMT0dcIikge1xyXG4gICAgICAgICB0aGlzLl8kZWwuY2xvc2UoKTtcclxuICAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxufVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQktC60LvQsNC00L7QuiAo0YLQsNCx0L7QsilcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gIGluY2x1ZGUoJ21vZHVsZXMvX3RhYnMuanMnKVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQl9Cw0L/RgNC10YLQsCDQv9GA0L7QutGA0YPRgtC60LhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gLy8gbGVmdDogMzcsIHVwOiAzOCwgcmlnaHQ6IDM5LCBkb3duOiA0MCxcclxuLy8gLy8gc3BhY2ViYXI6IDMyLCBwYWdldXA6IDMzLCBwYWdlZG93bjogMzQsIGVuZDogMzUsIGhvbWU6IDM2XHJcbi8vIHZhciBrZXlzID0geyAzNzogMSwgMzg6IDEsIDM5OiAxLCA0MDogMSB9O1xyXG5cclxuZnVuY3Rpb24gc2Nyb2xsUHJldmVudERlZmF1bHQoZSkge1xyXG4gICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cyhlKSB7XHJcbi8vICAgIGlmIChrZXlzW2Uua2V5Q29kZV0pIHtcclxuLy8gICAgICAgcHJldmVudERlZmF1bHQoZSk7XHJcbi8vICAgICAgIHJldHVybiBmYWxzZTtcclxuLy8gICAgfVxyXG4vLyB9XHJcblxyXG4vLyBtb2Rlcm4gQ2hyb21lIHJlcXVpcmVzIHsgcGFzc2l2ZTogZmFsc2UgfSB3aGVuIGFkZGluZyBldmVudFxyXG5sZXQgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbnRyeSB7XHJcbiAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICBcInRlc3RcIixcclxuICAgICAgbnVsbCxcclxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xyXG4gICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcclxuICAgICAgICAgfSxcclxuICAgICAgfSlcclxuICAgKTtcclxufSBjYXRjaCAoZSkge31cclxuXHJcbmNvbnN0IHdoZWVsT3B0ID0gc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XHJcbmNvbnN0IHdoZWVsRXZlbnQgPSBcIm9ud2hlZWxcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpID8gXCJ3aGVlbFwiIDogXCJtb3VzZXdoZWVsXCI7XHJcblxyXG4vLyBjYWxsIHRoaXMgdG8gRGlzYWJsZVxyXG53aW5kb3cuZGlzYWJsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgZmFsc2UpOyAvLyBvbGRlciBGRlxyXG4gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih3aGVlbEV2ZW50LCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgd2hlZWxPcHQpOyAvLyBtb2Rlcm4gZGVza3RvcFxyXG4gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgd2hlZWxPcHQpOyAvLyBtb2JpbGVcclxuICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHNjcm9sbFByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cywgZmFsc2UpO1xyXG59O1xyXG5cclxuLy8gY2FsbCB0aGlzIHRvIEVuYWJsZVxyXG53aW5kb3cuZW5hYmxlU2Nyb2xsID0gKCkgPT4ge1xyXG4gICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsIHNjcm9sbFByZXZlbnREZWZhdWx0LCBmYWxzZSk7XHJcbiAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKHdoZWVsRXZlbnQsIHNjcm9sbFByZXZlbnREZWZhdWx0LCB3aGVlbE9wdCk7XHJcbiAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHNjcm9sbFByZXZlbnREZWZhdWx0LCB3aGVlbE9wdCk7XHJcbiAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMsIGZhbHNlKTtcclxufTtcclxuXHJcbi8vIGNsYXNzIERpc2FibGVTY3JvbGwge1xyXG4vLyAgICBjb25zdHJ1Y3RvcigpIHtcclxuLy8gICAgICAgdGhpcy5zdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcclxuLy8gICAgICAgdGhpcy5pbml0KCk7XHJcbi8vICAgIH1cclxuXHJcbi8vICAgIGluaXQoKSB7XHJcbi8vICAgICAgIHRyeSB7XHJcbi8vICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxyXG4vLyAgICAgICAgICAgICBcInRlc3RcIixcclxuLy8gICAgICAgICAgICAgbnVsbCxcclxuLy8gICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xyXG4vLyAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgdGhpcy5zdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xyXG4vLyAgICAgICAgICAgICAgICB9LFxyXG4vLyAgICAgICAgICAgICB9KVxyXG4vLyAgICAgICAgICApO1xyXG4vLyAgICAgICB9IGNhdGNoIChlKSB7fVxyXG5cclxuLy8gICAgICAgdGhpcy53aGVlbE9wdCA9IHRoaXMuc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2U7XHJcbi8vICAgICAgIHRoaXMud2hlZWxFdmVudCA9IFwib253aGVlbFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikgPyBcIndoZWVsXCIgOiBcIm1vdXNld2hlZWxcIjtcclxuLy8gICAgfVxyXG5cclxuLy8gICAgcHJldmVudERlZmF1bHQoZSkge1xyXG4vLyAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbi8vICAgIH1cclxuXHJcbi8vICAgIC8vIGNhbGwgdGhpcyB0byBEaXNhYmxlXHJcbi8vICAgIGRpc2FibGUoKSB7XHJcbi8vICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3VwcG9ydHNQYXNzaXZlKTtcclxuLy8gICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCB0aGlzLnByZXZlbnREZWZhdWx0LCBmYWxzZSk7IC8vIG9sZGVyIEZGXHJcbi8vICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHRoaXMud2hlZWxFdmVudCwgdGhpcy5wcmV2ZW50RGVmYXVsdCwgdGhpcy53aGVlbE9wdCk7IC8vIG1vZGVybiBkZXNrdG9wXHJcbi8vICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMucHJldmVudERlZmF1bHQsIHRoaXMud2hlZWxPcHQpOyAvLyBtb2JpbGVcclxuLy8gICAgICAgLy8gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMucHJldmVudERlZmF1bHRGb3JTY3JvbGxLZXlzLCBmYWxzZSk7XHJcbi8vICAgIH1cclxuXHJcbi8vICAgIC8vIGNhbGwgdGhpcyB0byBFbmFibGVcclxuLy8gICAgZW5hYmxlKCkge1xyXG4vLyAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTU1vdXNlU2Nyb2xsXCIsIHRoaXMucHJldmVudERlZmF1bHQsIGZhbHNlKTtcclxuLy8gICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy53aGVlbEV2ZW50LCB0aGlzLnByZXZlbnREZWZhdWx0LCB0aGlzLndoZWVsT3B0KTtcclxuLy8gICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5wcmV2ZW50RGVmYXVsdCwgdGhpcy53aGVlbE9wdCk7XHJcbi8vICAgICAgIC8vIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLnByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cywgZmFsc2UpO1xyXG4vLyAgICB9XHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGRpc2FibGVTY3JvbGwgPSBuZXcgRGlzYWJsZVNjcm9sbCgpO1xyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwIFwi0JPQsNC70LXRgNC10LhcIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JPQsNC70LXRgNC10Y8g0LjQt9C+0LHRgNCw0LbQtdC90LjQuS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8qKlxyXG4gKlxyXG4gKlxyXG4gKiBkYXRhLWdhbGxlcnkgLSDQtNC70Y8g0L/QtdGA0LXQtNCw0YfQuCDQsdC+0LvRjNGI0LjRhSDQuNC30L7QsdGA0LDQttC10L3QuNC5XHJcbiAqIFxyXG4gKiDQntCx0YrQtdC60YI6XHJcbiAgIHNlbGVjdG9yIC0g0YHQtdC70LXQutGC0L7RgCDRgSDQutC+0YLQvtGA0YvQvCDQsdGD0LTQtdC8INGA0LDQsdC+0YLQsNGC0YxcclxuICAgb3BlbkJ0bnNTZWxlY3RvciAtINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPICjQvNC+0LPRg9GCINCx0YvRgtGMINGD0LrQsNC30LDQvdGLINCy0LLQuNC00LUg0LzQsNGB0YHQuNCy0LApXHJcbiAgIGNsb3NlQnRuc1NlbGVjdG9yOiAtINC60L3QvtC/0LrQuCDQt9Cw0LrRgNGL0YLQuNGPICjQvNC+0LPRg9GCINCx0YvRgtGMINGD0LrQsNC30LDQvdGLINCy0LLQuNC00LUg0LzQsNGB0YHQuNCy0LApXHJcbiAgIGRlc2NyaXB0aW9uIC0g0YLRgNC10LHRg9C10YLRgdGPINC70Lgg0LLRi9Cy0L7QtNC40YLRjCDQvtC/0LjRgdGB0LDQvdC40LUg0LjQtyDRgtGN0LPQsCBhbHQgKHRydWUpXHJcbiAgIGltZ3NMaXN0IC0g0YLRgNCx0YPQtdGC0YHRjyDQu9C4INGB0L7Qt9C00LDQstCw0YLRjCDRgdC/0LjRgdC+0Log0LjQt9C+0LHRgNCw0LbQtdC90LjQuSAodHJ1ZSlcclxuICAgbWF0Y2hNZWRpYSAtINC80LXQtNC40LAg0LfQsNC/0YDQvtGBLCDQsiDQutC+0YLQvtGA0L7QvCDQtNC+0LvQttC10L0g0LfQsNC/0YPRgdC60LDRgtGM0YHRjyDQvdC+0LLRi9C5INC60LvQsNGB0YEgKG5vbmUpXHJcblxyXG4gICBkYXRhLWNsb3NlPVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQt9Cw0LrRgNGL0LLQsNGC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+ICjRgtC+0LvRjNC60L4g0L3QsCDRjdC70LXQvNC10L3RgtGLINCy0L3Rg9GC0YDQuCDQvtC60L3QsClcclxuICAgZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIiAtINC90LXQvtCx0YXQvtC00LjQvNC+INGD0YHRgtCw0L3QvtCy0LjRgtGMINC90LAg0Y3Qu9C10LzQtdC90YIsINC60L7RgtC+0YDRi9C5INC00L7Qu9C20L0g0L/QvtC/0LDRgdGC0Ywg0LIg0YTQvtC60YPRgSDQsiDRgdCw0LzRi9C5INC/0L7RgdC70LXQtNC90LjQuSDQvNC+0LzQtdC90YJcclxuICAgZGF0YS1nYWxsZXJ5PVwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2ltZy9jZXJ0LzEtMS5qcGdcIiAtINGB0YHRi9C70LrQsCDQvdCwINGE0LDQudC7LCDQsdC+0LvRjNGI0L7Qs9C+INGA0LDQt9C80LXRgNCwXHJcblxyXG4gICBnID0gbmV3IEdhbGxlcnlESyh7XHJcbiAgICAgIHNlbGVjdG9yOiBcIi5nYWxsZXJ5XCIsIC8vINGB0LXQu9C10LrRgtC+0YAg0LrQvtC90YLQtdC50L3QtdGA0LAsINC60L7RgtC+0YDRi9C5INC+0LHRitC10LTQuNC90Y/QtdGCINCy0YHQtSDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbiAgICAgIGZvY3VzVHJhcDogdHJ1ZSxcclxuICAgICAgY29sbGFwc2VPbkZvY3VzT3V0OiBmYWxzZSxcclxuICAgfSk7XHJcblxyXG4gICAqIFRPRE86XHJcbiAgICogP9CU0L7QsdCw0LLQuNGC0Ywg0LfQvdCw0Log0LfQsNCz0YDRg9C30LrQuFxyXG4gICAqID/Qn9GA0Lgg0LTQstC+0LnQvdC+0Lwg0L3QsNC20LDRgtC40Lgg0YPQstC10LvQuNGH0LjQstCw0YLRjCDQsiDRgtC+0YfQutC1INC90LDQttCw0YLQuNGPXHJcblxyXG4gKi9cclxuY2xhc3MgR2FsbGVyeURLIGV4dGVuZHMgTm9kYURLIHtcclxuICAgI2RlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICBkZXNjcmlwdGlvbjogdHJ1ZSxcclxuICAgICAgaW1nc0xpc3Q6IHRydWUsXHJcbiAgIH07XHJcbiAgICNhY3RpdmVJbWdOdW07XHJcbiAgICNlbFBhZGRpbmc7XHJcbiAgICNBTklNVEFJT05fVElNRSA9IDMwMDtcclxuICAgI3RhcGVkVHdpY2UgPSBmYWxzZTtcclxuXHJcbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgc3VwZXIob3B0aW9ucyk7XHJcbiAgICAgIGlmICh0aGlzLiNjaGVjaygpKSB7XHJcbiAgICAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuI2RlZmF1bHRPcHRpb25zLCB0aGlzLl9vcHRpb25zKTtcclxuICAgICAgICAgdGhpcy5fJG9yaWdpbmFsSW1ncyA9IFsuLi50aGlzLl8kZWwucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKV07XHJcbiAgICAgICAgIHRoaXMuI2luaXQoKTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICAjY2hlY2soKSB7XHJcbiAgICAgIHJldHVybiAhdGhpcy5faGFzRXJyb3JzO1xyXG4gICB9XHJcblxyXG4gICAjaW5pdCgpIHtcclxuICAgICAgLy8g0J/RgNC+0YXQvtC00LjQvCDQv9C+INC+0YDQuNCz0LjQvdCw0LvRjNC90YvQvCDQuNC30L7QsdGA0LDQttC10L3QuNGP0LxcclxuICAgICAgdGhpcy5fJG9yaWdpbmFsSW1ncy5tYXAoKGltZywgaSkgPT4ge1xyXG4gICAgICAgICBpbWcuc3R5bGUuY3Vyc29yID0gXCJ6b29tLWluXCI7XHJcbiAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkpO1xyXG4gICAgICB9KTtcclxuICAgfVxyXG5cclxuICAgI2luaXRPbk9wZW4oKSB7XHJcbiAgICAgIHRoaXMuI2NyZWF0ZUdhbGxlcnkoKTtcclxuICAgICAgdGhpcy4jZWxQYWRkaW5nID0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl8kZWwpLmdldFByb3BlcnR5VmFsdWUoXCJwYWRkaW5nLWxlZnRcIikpO1xyXG5cclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nID0gdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeS1ka19faW1nXCIpO1xyXG4gICAgICB0aGlzLl8kaW1nUHJldmlld0xpc3QgPSBbLi4udGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1pZF1cIildO1xyXG4gICAgICBzdXBlci5fZ2V0Rm9jdXNhYmxlQ29udGVudCgpO1xyXG5cclxuICAgICAgdGhpcy5fb25Ub3VjaFN0YXJ0ID0gdGhpcy5fb25Ub3VjaFN0YXJ0LmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuX29uVG91Y2hFbmQgPSB0aGlzLl9vblRvdWNoRW5kLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuX29uVG91Y2hNb3ZlID0gdGhpcy5fb25Ub3VjaE1vdmUuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgIHRoaXMuI2luaXRUb3VjaExpc3RuZXJzKCk7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0VG91Y2hMaXN0bmVycygpIHtcclxuICAgICAgLy8gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVyZG93blwiLCB0aGlzLl9vblRvdWNoU3RhcnQpO1xyXG4gICAgICAvLyB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJ1cFwiLCB0aGlzLl9vblRvdWNoRW5kKTtcclxuICAgICAgLy8gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLl9vblRvdWNoTW92ZSk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblRvdWNoU3RhcnQpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuX29uVG91Y2hFbmQpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLl9vblRvdWNoTW92ZSk7XHJcbiAgIH1cclxuXHJcbiAgICNkZXN0cm95VG91Y2hMaXN0bmVycygpIHtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuX29uVG91Y2hTdGFydCk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5fb25Ub3VjaEVuZCk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMuX29uVG91Y2hNb3ZlKTtcclxuICAgfVxyXG5cclxuICAgI2NyZWF0ZUdhbGxlcnkoKSB7XHJcbiAgICAgIC8vINCh0L7Qt9C00LDQtdC8INCz0LDQu9C10YDQtdGOXHJcbiAgICAgIGNvbnN0ICRnYWxsZXJ5REsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAkZ2FsbGVyeURLLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrXCIpO1xyXG4gICAgICBpZiAoIXRoaXMuX29wdGlvbnMuaW1nc0xpc3QpICRnYWxsZXJ5REsuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGstLW5vLWxpc3RcIik7XHJcbiAgICAgICRnYWxsZXJ5REsuc2V0QXR0cmlidXRlKFwiaGlkZGVuXCIsIFwiXCIpO1xyXG4gICAgICAkZ2FsbGVyeURLLnNldEF0dHJpYnV0ZShcImFyaWEtbGl2ZVwiLCBcInBvbGl0ZVwiKTtcclxuICAgICAgJGdhbGxlcnlESy5pbm5lckhUTUwgPSB0aGlzLiNnZXRUZW1hcGxhdGUoKTtcclxuICAgICAgdGhpcy5fJGVsLmluc2VydEFkamFjZW50RWxlbWVudChcImJlZm9yZWVuZFwiLCAkZ2FsbGVyeURLKTtcclxuXHJcbiAgICAgIGNvbnN0ICRpbWdzTGlzdCA9ICRnYWxsZXJ5REsucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5LWRrX19saXN0XCIpO1xyXG4gICAgICAvLyDQn9GA0L7RhdC+0LTQuNC8INC/0L4g0L7RgNC40LPQuNC90LDQu9GM0L3Ri9C8INC40LfQvtCx0YDQsNC20LXQvdC40Y/QvFxyXG4gICAgICB0aGlzLl8kb3JpZ2luYWxJbWdzLm1hcCgoaW1nLCBpKSA9PiB7XHJcbiAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmltZ3NMaXN0KSB7XHJcbiAgICAgICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbiAgICAgICAgICAgIGNvbnN0IGltZ1ByZXZpZXcgPSBpbWcuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgICBpbWdQcmV2aWV3LnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgICAgICBpbWdQcmV2aWV3LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO1xyXG5cclxuICAgICAgICAgICAgaW1nUHJldmlldy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGkpO1xyXG4gICAgICAgICAgICBpbWdQcmV2aWV3LnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgaW1nUHJldmlldy50YWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIC8vIGltZ1ByZXZpZXcuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICAgIHRoaXMuc2V0SW1nKGkpO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuICAgICAgICAgICAgJGltZ3NMaXN0LmFwcGVuZENoaWxkKGltZ1ByZXZpZXcpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5fJGVsID0gJGdhbGxlcnlESztcclxuICAgfVxyXG5cclxuICAgI2dldFRlbWFwbGF0ZSgpIHtcclxuICAgICAgY29uc3QgZGVzY3JpcHRpb25DbGlwcGVkID0gdGhpcy5fb3B0aW9ucy5kZXNjcmlwdGlvbiA/IFwiXCIgOiBcImNsaXBwZWRcIjtcclxuICAgICAgY29uc3QgbGlzdCA9IHRoaXMuX29wdGlvbnMuaW1nc0xpc3QgPyAnPHVsIGNsYXNzPVwiZ2FsbGVyeS1ka19fbGlzdFwiIHJvbGU9XCJsaXN0XCI+PC91bD4nIDogXCJcIjtcclxuICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiZ2FsbGVyeS1ka19fYnRucy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJnYWxsZXJ5LWRrX190by1sZWZ0XCIgZGF0YS1wcmV2PVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCLQv9GA0LXQtNGL0LTRg9GJ0LXQtSDQuNC30L7QsdGA0LDQttC10L3QuNC1XCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJnYWxsZXJ5LWRrX190by1yaWdodFwiIGRhdGEtbmV4dD1cInRydWVcIiAgYXJpYS1sYWJlbD1cItGB0LvQtdC00YPRjtGJ0LXQtSDQuNC30L7QsdGA0LDQttC10L3QuNC1XCI+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJnYWxsZXJ5LWRrX196b29tXCIgZGF0YS16b29tPVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCLRg9Cy0LXQu9C40YfQuNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8P3htbCB2ZXJzaW9uPVwiMS4wXCIgPz48c3ZnIGNsYXNzPVwiZ2FsbGVyeS1ka19fem9vbS1zdmdcIiBkYXRhLXpvb209XCJ0cnVlXCIgZW5hYmxlLWJhY2tncm91bmQ9XCJuZXcgMCAwIDMyIDMyXCIgaWQ9XCJFZGl0YWJsZS1saW5lXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMzIgMzJcIiB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIj48Y2lyY2xlIGN4PVwiMTRcIiBjeT1cIjE0XCIgZmlsbD1cIm5vbmVcIiBpZD1cIlhNTElEXzk0X1wiIHI9XCI5XCIgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBzdHJva2Utd2lkdGg9XCIyXCIvPjxsaW5lIGZpbGw9XCJub25lXCIgaWQ9XCJYTUxJRF85M19cIiAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHN0cm9rZS13aWR0aD1cIjJcIiB4MT1cIjI3XCIgeDI9XCIyMC4zNjZcIiB5MT1cIjI3XCIgeTI9XCIyMC4zNjZcIi8+PGxpbmUgZmlsbD1cIm5vbmVcIiBpZD1cIlhNTElEXzk2X1wiICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHgxPVwiMTRcIiB4Mj1cIjE0XCIgeTE9XCIxMFwiIHkyPVwiMThcIi8+PGxpbmUgZmlsbD1cIm5vbmVcIiBpZD1cIlhNTElEXzk3X1wiICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIHgxPVwiMTBcIiB4Mj1cIjE4XCIgeTE9XCIxNFwiIHkyPVwiMTRcIi8+PC9zdmc+XHJcblxyXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImdhbGxlcnktZGtfX2Nsb3NlXCIgZGF0YS1jbG9zZT1cInRydWVcIiBkYXRhLXNlbGVjdC1sYXN0PVwidHJ1ZVwiIGFyaWEtbGFiZWw9XCLQt9Cw0LrRgNGL0YLRjCDQs9Cw0LvQtdGA0LXRjlwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImdhbGxlcnktZGtfX2ltZy13cmFwcGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWRrX19pbWdcIiBhcmlhLWxhYmVsbGVkYnk9XCJnYWxsZXJ5LWRrLWRlc2NyaXB0aW9uXCIgcm9sZT1cImltZ1wiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBpZD1cImdhbGxlcnktZGstZGVzY3JpcHRpb25cIiBjbGFzcz1cImdhbGxlcnktZGtfX2luZm8gc2Nyb2xsLS12ICR7ZGVzY3JpcHRpb25DbGlwcGVkfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAke2xpc3R9YDtcclxuICAgfVxyXG5cclxuICAgZGVzdHJveSgpIHtcclxuICAgICAgdGhpcy4jZGVzdHJveVRvdWNoTGlzdG5lcnMoKTtcclxuXHJcbiAgICAgIHRoaXMuXyRlbC5yZW1vdmUoKTtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIHRoaXMuXyRlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fb3B0aW9ucy5zZWxlY3Rvcik7XHJcbiAgICAgIH0sIDEpO1xyXG4gICB9XHJcblxyXG4gICBfY2hlY2tQcmVzcyhlKSB7XHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuRVNDICYmIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QuY29udGFpbnMoXCJnYWxsZXJ5LWRrX19pbWctLXpvb21cIikpIHtcclxuICAgICAgICAgdGhpcy5fc3RvcFpvb20oKTtcclxuICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHN1cGVyLl9jaGVja1ByZXNzKGUpO1xyXG5cclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5FTlRFUikge1xyXG4gICAgICAgICBpZiAoZS50YXJnZXQuZGF0YXNldC5pZCkgdGhpcy5zZXRJbWcoZS50YXJnZXQuZGF0YXNldC5pZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINGB0YLRgNC10LvQutCwINCy0L/RgNCw0LLQviDQuCDQstC90LjQt1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX1JJR0hUIHx8IGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19ET1dOKSB7XHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgdGhpcy5uZXh0SW1nKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8g0YHRgtGA0LXQu9C60LAg0LLQu9C10LLQviDQuCDQstCy0LXRgNGFXHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuQVJST1dfTEVGVCB8fCBlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuQVJST1dfVVApIHtcclxuICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB0aGlzLnByZXZJbWcoKTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBfbWFpbkVsQ2xpY2soZSkge1xyXG4gICAgICBzdXBlci5fbWFpbkVsQ2xpY2soZSk7XHJcbiAgICAgIC8vINCV0YHQu9C4INC/0L4g0LrQvdC+0L/QutC1INC30LDQutGA0YvRgtC40Y9cclxuICAgICAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuaWQpIHtcclxuICAgICAgICAgY29uc3QgaWQgPSBlLnRhcmdldC5kYXRhc2V0LmlkO1xyXG4gICAgICAgICBpZiAoIXRoaXMuXyRlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJnYWxsZXJ5LWRrLS1hY3RpdmVcIikpIHRoaXMub3BlbigpO1xyXG4gICAgICAgICB0aGlzLnNldEltZyhpZCk7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5vcGFjaXR5ID0gMDtcclxuICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1uZXh0PVwidHJ1ZVwiXScpIHx8IGUudGFyZ2V0LmRhdGFzZXQubmV4dCkgdGhpcy5uZXh0SW1nKCk7XHJcbiAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXByZXY9XCJ0cnVlXCJdJykgfHwgZS50YXJnZXQuZGF0YXNldC5wcmV2KSB0aGlzLnByZXZJbWcoKTtcclxuICAgICAgZWxzZSBpZiAoZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtem9vbT1cInRydWVcIl0nKSB8fCBlLnRhcmdldC5kYXRhc2V0Lnpvb20pIHRoaXMuX3pvb21JbWcoKTtcclxuICAgfVxyXG5cclxuICAgb3BlbigpIHtcclxuICAgICAgc3VwZXIub3BlbigpO1xyXG4gICAgICB0aGlzLiNpbml0T25PcGVuKCk7XHJcbiAgICAgIHRoaXMuXyRlbC5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1kay0tYWN0aXZlXCIpO1xyXG4gICAgICBpZiAodGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoID4gMCkgdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnRbMF0uZm9jdXMoKTtcclxuICAgfVxyXG5cclxuICAgY2xvc2UoKSB7XHJcbiAgICAgIHN1cGVyLmNsb3NlKCk7XHJcbiAgICAgIHRoaXMuXyRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1kay0tYWN0aXZlXCIpO1xyXG4gICAgICB0aGlzLmRlc3Ryb3koKTtcclxuICAgfVxyXG5cclxuICAgLy8gLS0tLS0tLS0t0KDQsNCx0L7RgtCwINGBINC40LfQvtCx0YDQsNC20LXQvdC40LXQvC0tLS0tLS0tLS1cclxuICAgc2V0SW1nKGltZ051bSkge1xyXG4gICAgICB0aGlzLiNhY3RpdmVJbWdOdW0gPSBpbWdOdW07XHJcblxyXG4gICAgICAvLyDQlNC10LnRgdGC0LLQuNGPINGBINGG0LXQvdGC0YDQsNC70YzQvdGL0Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtdC8XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka19faW1nLS1jaGFuZ2VcIik7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcke3RoaXMuX2dldEltZ1NyYyhpbWdOdW0pfScpYDtcclxuXHJcbiAgICAgIHRoaXMuX2dldEltZ0JhY2tncm91bmRTaXplKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICBjb25zdCBwb3NFbCA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnROb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICBpZiAoZGF0YS53IDwgcG9zRWwud2lkdGggJiYgZGF0YS5oIDwgcG9zRWwuaGVpZ2h0KSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImF1dG9cIjtcclxuICAgICAgICAgZWxzZSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvbnRhaW5cIjtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDQlNC10LnRgdGC0LLQuNGPINGBINC70LjRgdGC0L7QvCDQv9GA0LjQstGM0Y5cclxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuaW1nc0xpc3QpIHtcclxuICAgICAgICAgdGhpcy5fJGltZ1ByZXZpZXdMaXN0Lm1hcCgoaW1nKSA9PiB7XHJcbiAgICAgICAgICAgIGltZy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgdGhpcy5fJGltZ1ByZXZpZXdMaXN0W2ltZ051bV0uc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgIHRoaXMuXyRpbWdQcmV2aWV3TGlzdFtpbWdOdW1dLmZvY3VzKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINCU0LXQudGB0YLQstC40Y8g0YEg0L7Qv9C40YHQsNC90LjQtdC8XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeS1ka19faW5mb1wiKS5pbm5lckhUTUwgPSB0aGlzLl8kb3JpZ2luYWxJbWdzW2ltZ051bV0uZ2V0QXR0cmlidXRlKFwiYWx0XCIpID8gdGhpcy5fJG9yaWdpbmFsSW1nc1tpbWdOdW1dLmdldEF0dHJpYnV0ZShcImFsdFwiKSA6IFwiXCI7XHJcblxyXG4gICAgICAvLyDQodCx0YDQvtGBINGB0YLQuNC70LjQt9Cw0YbQuNC5INC4INC/0L7Qt9C40YbQuNC5XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIFwiMFwiKTtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGtfX2ltZy0tY2hhbmdlXCIpO1xyXG4gICAgICB9LCAxKTtcclxuICAgfVxyXG5cclxuICAgX2dldEltZ1NyYyhpbWdOdW0pIHtcclxuICAgICAgbGV0ICRjdXJyZW50SW1nID0gdGhpcy5fJG9yaWdpbmFsSW1nc1tpbWdOdW1dO1xyXG4gICAgICBjb25zdCBpbWdDbGFzcyA9ICRjdXJyZW50SW1nLnF1ZXJ5U2VsZWN0b3IoXCJpbWdcIik7IC8vICHQn9GA0L7QstC10YDRj9C10Lwg0YLRjdCzINC70Lgg0Y3RgtC+IHBpY3R1cmUg0LjQu9C4INGD0LbQtSBpbWdcclxuICAgICAgJGN1cnJlbnRJbWcgPSBpbWdDbGFzcyA/IGltZ0NsYXNzIDogJGN1cnJlbnRJbWc7XHJcblxyXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0LXRgdGC0Ywg0LvQuCDQtNCw0YLQsCDQsNGC0YDQuNCx0YPRgiDQtNC70Y8g0LHQvtC70YzRiNC+0LPQviDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbiAgICAgIGNvbnN0IGRhdGFTcmMgPSAkY3VycmVudEltZy5kYXRhc2V0LmdhbGxlcnk7XHJcbiAgICAgIGlmICh0eXBlb2YgZGF0YVNyYyAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICBjb25zdCB0ZW1wSW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgIHRlbXBJbWcuc3JjID0gZGF0YVNyYztcclxuICAgICAgICAgaWYgKHRlbXBJbWcud2lkdGggPiAwKSByZXR1cm4gZGF0YVNyYztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gJGN1cnJlbnRJbWcuc3JjO1xyXG4gICB9XHJcblxyXG4gICBuZXh0SW1nKCkge1xyXG4gICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIC0xICogd2luZG93LmlubmVyV2lkdGgpO1xyXG5cclxuICAgICAgdGhpcy4jYWN0aXZlSW1nTnVtID0gdGhpcy4jYWN0aXZlSW1nTnVtKysgPT09IHRoaXMuXyRvcmlnaW5hbEltZ3MubGVuZ3RoIC0gMSA/IDAgOiB0aGlzLiNhY3RpdmVJbWdOdW07XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIHdpbmRvdy5pbm5lcldpZHRoKTtcclxuICAgICAgICAgdGhpcy5zZXRJbWcodGhpcy4jYWN0aXZlSW1nTnVtKTtcclxuICAgICAgfSwgdGhpcy4jQU5JTVRBSU9OX1RJTUUpO1xyXG4gICB9XHJcblxyXG4gICBwcmV2SW1nKCkge1xyXG4gICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIHdpbmRvdy5pbm5lcldpZHRoKTtcclxuICAgICAgdGhpcy4jYWN0aXZlSW1nTnVtID0gdGhpcy4jYWN0aXZlSW1nTnVtLS0gPT09IDAgPyB0aGlzLl8kb3JpZ2luYWxJbWdzLmxlbmd0aCAtIDEgOiB0aGlzLiNhY3RpdmVJbWdOdW07XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIC0xICogd2luZG93LmlubmVyV2lkdGgpO1xyXG4gICAgICAgICB0aGlzLnNldEltZyh0aGlzLiNhY3RpdmVJbWdOdW0pO1xyXG4gICAgICB9LCB0aGlzLiNBTklNVEFJT05fVElNRSk7XHJcbiAgIH1cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0t0KDQsNCx0L7RgtCwINGBINC30YPQvNC+0LwtLS0tLS0tLS0tXHJcbiAgIF96b29tSW1nKGUpIHtcclxuICAgICAgbGV0IHNjYWxlQmcgPSAxLjI7XHJcbiAgICAgIHRoaXMuX2lzWm9vbWluZyA9IHRydWU7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka19faW1nLS16b29tXCIpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka19faW1nLXdyYXBwZXItLXpvb21cIik7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiY292ZXJcIjtcclxuXHJcbiAgICAgIGNvbnN0IHBhcnJlbnRXID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudEVsZW1lbnQuY2xpZW50V2lkdGggLSB0aGlzLiNlbFBhZGRpbmcgKiAyO1xyXG4gICAgICBjb25zdCBwYXJyZW50SCA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIHRoaXMuI2VsUGFkZGluZyAqIDI7XHJcbiAgICAgIHRoaXMuX2dldEltZ0JhY2tncm91bmRTaXplKCkudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICBsZXQgdyA9IGRhdGEudztcclxuICAgICAgICAgbGV0IGggPSBkYXRhLmg7XHJcbiAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEudyA+IHBhcnJlbnRXKTtcclxuICAgICAgICAgLy8gY29uc29sZS5sb2cocGFycmVudEgpO1xyXG4gICAgICAgICBpZiAoZGF0YS53ID4gcGFycmVudFcgKiBzY2FsZUJnIHx8IGRhdGEuaCA+IHBhcnJlbnRIICogc2NhbGVCZykge1xyXG4gICAgICAgICAgICBsZXQgem9vbUZhY3RvcjtcclxuICAgICAgICAgICAgaWYgKGRhdGEudyA+IGRhdGEuaCkge1xyXG4gICAgICAgICAgICAgICB6b29tRmFjdG9yID0gcGFycmVudFcgLyBkYXRhLnc7XHJcbiAgICAgICAgICAgICAgIHcgPSBwYXJyZW50VztcclxuICAgICAgICAgICAgICAgaCA9IGRhdGEuaCAqIHpvb21GYWN0b3I7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgIHpvb21GYWN0b3IgPSBwYXJyZW50SCAvIGRhdGEuaDtcclxuICAgICAgICAgICAgICAgdyA9IGRhdGEudyAqIHpvb21GYWN0b3I7XHJcbiAgICAgICAgICAgICAgIGggPSBwYXJyZW50SDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGAke3cgKiBzY2FsZUJnfXB4ICR7aCAqIHNjYWxlQmd9cHhgO1xyXG4gICAgICAgICBpZiAoaXNUb3VjaERldmljZSgpKSB7XHJcbiAgICAgICAgICAgIHNjYWxlQmcgPSAyO1xyXG4gICAgICAgICAgICAvLyB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtfX2ltZy0tdG91Y2hcIik7XHJcbiAgICAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGBjb3ZlcmA7XHJcbiAgICAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS53aWR0aCA9IGAke3cgKiBzY2FsZUJnfXB4YDtcclxuICAgICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmhlaWdodCA9IGAke2ggKiBzY2FsZUJnfXB4YDtcclxuICAgICAgICAgfSBlbHNlIHRoaXMuX3N0YXJ0Wm9vbSgpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IGAke3BhcnJlbnRXICogc2NhbGVCZ31weCAke3BhcnJlbnRIICogc2NhbGVCZ31weGA7XHJcbiAgIH1cclxuXHJcbiAgIF9zdGFydFpvb20oKSB7XHJcbiAgICAgIHRoaXMuX21vdXNlTW92ZU1haW5JbWcgPSB0aGlzLl9tb3VzZU1vdmVNYWluSW1nLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX21vdXNlTW92ZU1haW5JbWcsIGZhbHNlKTtcclxuXHJcbiAgICAgIHRoaXMuX3N0b3Bab29tID0gdGhpcy5fc3RvcFpvb20uYmluZCh0aGlzKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdG9wWm9vbSwgZmFsc2UpO1xyXG4gICB9XHJcblxyXG4gICBfc3RvcFpvb20oKSB7XHJcbiAgICAgIHRoaXMuX2lzWm9vbWluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgaWYgKGlzVG91Y2hEZXZpY2UoKSkge1xyXG4gICAgICAgICB0aGlzLiNpbml0VG91Y2hMaXN0bmVycygpO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUud2lkdGggPSBcIlwiO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuaGVpZ2h0ID0gXCJcIjtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrX19pbWctLXRvdWNoXCIpO1xyXG4gICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLnpvb20gPSBcIjEwMCVcIjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IGBgO1xyXG5cclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrX19pbWctLXpvb21cIik7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrX19pbWctd3JhcHBlci0tem9vbVwiKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fbW91c2VNb3ZlTWFpbkltZywgZmFsc2UpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX3N0b3Bab29tLCBmYWxzZSk7XHJcblxyXG4gICAgICB0aGlzLl8kaW1nUHJldmlld0xpc3RbdGhpcy4jYWN0aXZlSW1nTnVtXS5mb2N1cygpO1xyXG4gICAgICB0aGlzLnNldEltZyh0aGlzLiNhY3RpdmVJbWdOdW0pO1xyXG4gICB9XHJcblxyXG4gICBfbW91c2VNb3ZlTWFpbkltZyhlKSB7XHJcbiAgICAgIGNvbnN0IHBvc0VsID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICBjb25zdCBzdGVwU2l6ZVggPSArdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplLnNwbGl0KFwicHhcIilbMF0gPiBwb3NFbC53aWR0aCA/IChlLm9mZnNldFggLyAocG9zRWwud2lkdGggLSB0aGlzLiNlbFBhZGRpbmcgKiAyKSkgKiAxMDAgKyBcIiVcIiA6IFwiY2VudGVyXCI7XHJcblxyXG4gICAgICBjb25zdCBzdGVwU2l6ZVkgPSArdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplLnNwbGl0KFwicHhcIilbMV0gPiBwb3NFbC5oZWlnaHQgPyAoZS5vZmZzZXRZIC8gKHBvc0VsLmhlaWdodCAtIHRoaXMuI2VsUGFkZGluZyAqIDIpKSAqIDEwMCArIFwiJVwiIDogXCJjZW50ZXJcIjtcclxuXHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBgJHtzdGVwU2l6ZVh9ICR7c3RlcFNpemVZfWA7XHJcbiAgIH1cclxuXHJcbiAgIF9nZXRJbWdCYWNrZ3JvdW5kU2l6ZSgpIHtcclxuICAgICAgY29uc3QgaW1hZ2VTcmMgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlLnJlcGxhY2UoL3VybFxcKChbJ1wiXSk/KC4qPylcXDFcXCkvZ2ksIFwiJDJcIikuc3BsaXQoXCIsXCIpWzBdO1xyXG4gICAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICBpbWFnZS5zcmMgPSBpbWFnZVNyYztcclxuXHJcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgY29uc3QgdyA9IGltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICByZXNvbHZlKHsgdywgaCB9KTtcclxuICAgICAgICAgICAgLy8gaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgfVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0t0KDQsNCx0L7RgtCwINGBINGC0LDRhyDRgdC+0LHRi9GC0LjRj9C80LgtLS0tLS0tLS0tXHJcbiAgIF9vblRvdWNoU3RhcnQoZSkge1xyXG4gICAgICAvLyDQldGB0LvQuCDQtNCy0LDQudC90L7QtSDQvdCw0LbQsNGC0LjQtVxyXG4gICAgICBpZiAoZS50b3VjaGVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLl90YXBUd2ljZURldGVjdGlvbi5iaW5kKHRoaXMpKGUpKSB7XHJcbiAgICAgICAgIC8vIGlmICh0aGlzLl90YXBUd2ljZURldGVjdGlvbi5iaW5kKHRoaXMpKGUpKSB7XHJcbiAgICAgICAgIGlmICghdGhpcy5faXNab29taW5nKSB0aGlzLl96b29tSW1nKGUpO1xyXG4gICAgICAgICBlbHNlIHRoaXMuX3N0b3Bab29tKCk7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0JXRgdC70Lgg0YLRj9C90YPRglxyXG4gICAgICB0aGlzLl9zdGFydERyYWcoZSk7XHJcbiAgIH1cclxuXHJcbiAgIF9vblRvdWNoRW5kKGUpIHtcclxuICAgICAgaWYgKHRoaXMuX3NjYWxpbmcpIHRoaXMuX3N0b3BTY2FsZShlKTtcclxuICAgICAgZWxzZSBpZiAodGhpcy5fZGlyZWN0aW9uKSB0aGlzLl9zdG9wRHJhZyhlKTtcclxuICAgfVxyXG5cclxuICAgX29uVG91Y2hNb3ZlKGUpIHtcclxuICAgICAgaWYgKHRoaXMuX3NjYWxpbmcpIHRoaXMuX29uU2NhbGluZyhlKTtcclxuICAgICAgZWxzZSB0aGlzLl9kcmFnZ2luZyhlKTtcclxuICAgfVxyXG5cclxuICAgLy8gINCi0Y/QvdC10Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQstC70LXQstC+XFzQstC/0YDQsNCy0L4sINCy0LLQtdGA0YVcXNCy0L3QuNC3XHJcbiAgIF9zdGFydERyYWcoZSkge1xyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBmYWxzZTsgLy8g0YLQsNC6INC20LUg0YHQu9GD0LbQuNGCINGE0LvQsNCz0L7QvCDRjdGC0L4g0YHQvtCx0YvRgtC40Y9cclxuXHJcbiAgICAgIHRoaXMuX2NsaWNrWCA9IGUucGFnZVg7XHJcbiAgICAgIHRoaXMuX2NsaWNrWSA9IGUucGFnZVk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka19faW1nLS1vbi1kcmFnXCIpO1xyXG4gICB9XHJcblxyXG4gICBfc3RvcERyYWcoZSkge1xyXG4gICAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvaW50ZXJtb3ZlXCIsIHRoaXMuX2RyYWdnaW5nKTtcclxuICAgICAgY29uc3QgY2xvc2VQZXJjZW50ID0gMC41O1xyXG4gICAgICBjb25zdCBwb3NFbCA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgY29uc3QgY2xvc2VQb3MgPSBwb3NFbC5oZWlnaHQgKiBjbG9zZVBlcmNlbnQ7XHJcblxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGtfX2ltZy0tb24tZHJhZ1wiKTtcclxuICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgaWYgKHBvc0VsLnggPCAtNzApIHRoaXMubmV4dEltZygpO1xyXG4gICAgICAgICBlbHNlIGlmIChwb3NFbC54ID4gNzApIHRoaXMucHJldkltZygpO1xyXG4gICAgICAgICBlbHNlIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgXCIwXCIpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gXCJ0b3BcIikgaWYgKHBvc0VsLnkgPiBjbG9zZVBvcyB8fCBwb3NFbC55IDwgLWNsb3NlUG9zKSB0aGlzLmNsb3NlKCk7XHJcblxyXG4gICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJ0b3BcIiwgXCIwXCIpO1xyXG4gICAgICB0aGlzLl8kZWwuc3R5bGUub3BhY2l0eSA9IDE7XHJcblxyXG4gICAgICB0aGlzLl9kaXJlY3Rpb24gPSBmYWxzZTtcclxuICAgfVxyXG5cclxuICAgX2RyYWdnaW5nKGUpIHtcclxuICAgICAgaWYgKHRoaXMuX2lzWm9vbWluZykgcmV0dXJuO1xyXG5cclxuICAgICAgY29uc3QgZHJhZ1ggPSBlLnBhZ2VYO1xyXG4gICAgICBjb25zdCBkcmFnWSA9IGUucGFnZVk7XHJcbiAgICAgIGNvbnN0IGRyYWdTaGlmdFggPSBkcmFnWCAtIHRoaXMuX2NsaWNrWDtcclxuICAgICAgY29uc3QgZHJhZ1NoaWZ0WSA9IGRyYWdZIC0gdGhpcy5fY2xpY2tZO1xyXG4gICAgICAvLyBpZiAoTWF0aC5hYnMoZHJhZ1NoaWZ0WCkgPiAyMCB8fCBNYXRoLmFicyhkcmFnU2hpZnRZKSA+IDIwKSBkcmFnID0gdHJ1ZTtcclxuICAgICAgaWYgKCF0aGlzLl9kaXJlY3Rpb24gJiYgTWF0aC5hYnMoZHJhZ1NoaWZ0WCkgKyBNYXRoLmFicyhkcmFnU2hpZnRZKSA+IDIwKSB7XHJcbiAgICAgICAgIGlmIChNYXRoLmFicyhkcmFnU2hpZnRYKSA+IE1hdGguYWJzKGRyYWdTaGlmdFkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RpcmVjdGlvbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICB9IGVsc2UgdGhpcy5fZGlyZWN0aW9uID0gXCJ0b3BcIjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHRoaXMuX3NldE1haW5JbWdTdHlsZVBvcyhcImxlZnRcIiwgZHJhZ1NoaWZ0WCk7XHJcbiAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2RpcmVjdGlvbiA9PT0gXCJ0b3BcIikge1xyXG4gICAgICAgICAgICB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJ0b3BcIiwgZHJhZ1NoaWZ0WSk7XHJcbiAgICAgICAgICAgIHRoaXMuX21ha2VHYWxsZXJ5VHJhbnNwYXJlbnQoKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9zZXRNYWluSW1nU3R5bGVQb3MoZGlyZWN0aW9uLCBzaGlmdCkge1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuc2V0UHJvcGVydHkoZGlyZWN0aW9uLCBgJHtzaGlmdH1weGApO1xyXG4gICB9XHJcblxyXG4gICBfbWFrZUdhbGxlcnlUcmFuc3BhcmVudCgpIHtcclxuICAgICAgY29uc3QgcG9zRWwgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IHRyYW5zcGFyZW50UGVyY2VybnQgPSAwLjc7XHJcbiAgICAgIGNvbnN0IHRyYW5zcGFyZW50UG9zID0gcG9zRWwuaGVpZ2h0ICogdHJhbnNwYXJlbnRQZXJjZXJudDsgLy8g0JrQvtC70LjRh9C10YHQstGC0L4g0L/QuNC60YHQtdC70LXQuSwg0LrQvtCz0LTQsCBvcGFjaXR5INCx0YPQtNC10YIgMCAo0L7RgiDRhtC10L3RgtGA0LApXHJcbiAgICAgIHRoaXMuXyRlbC5zdHlsZS5vcGFjaXR5ID0gMSAtIE1hdGguYWJzKHBvc0VsLnkpIC8gdHJhbnNwYXJlbnRQb3M7XHJcbiAgIH1cclxuXHJcbiAgIF90YXBUd2ljZURldGVjdGlvbihlKSB7XHJcbiAgICAgIGlmICghdGhpcy4jdGFwZWRUd2ljZSkge1xyXG4gICAgICAgICB0aGlzLiN0YXBlZFR3aWNlID0gdHJ1ZTtcclxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuI3RhcGVkVHdpY2UgPSBmYWxzZTtcclxuICAgICAgICAgfSwgMzAwKTtcclxuICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgIH1cclxuICAgLy9fX19fX19fX19fX19fX19fX19fX19fX1xyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG59XHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0t0JzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgY29uc3QgaHVtYnVyZ2VyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oYW1idXJnZXJcIik7XHJcbiAgIGNvbnN0IGxvZ28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhlYWRlcl9fbG9nb1wiKTtcclxuICAgY29uc3QgbWFpbk5hdiA9IG5ldyBNb2RhbERLKHtcclxuICAgICAgc2VsZWN0b3I6IFwiLm5hdlwiLFxyXG4gICAgICBvcGVuQnRuc1NlbGVjdG9yOiBbJy5oYW1idXJnZXInXSxcclxuICAgICAgY29sbGFwc2VPbkZvY3VzT3V0OiB0cnVlLFxyXG4gICAgICBvbk9wZW4oKSB7XHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICAgICBodW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLFwidHJ1ZVwiKTtcclxuICAgICAgICAgbG9nby5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyX19sb2dvLS1hY3RpdmVcIik7XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgICAgICBodW1idXJnZXJCdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICBsb2dvLmNsYXNzTGlzdC5yZW1vdmUoXCJoZWFkZXJfX2xvZ28tLWFjdGl2ZVwiKTtcclxuICAgICAgfSxcclxuICAgfSk7XHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS3Qk9Cw0LvQtdGA0LXRjy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyBnID0gbmV3IEdhbGxlcnlESyh7XHJcbiAgIC8vIHNlbGVjdG9yOiBcIi5nYWxsZXJ5XCIsIC8vINGB0LXQu9C10LrRgtC+0YAg0LrQvtC90YLQtdC50L3QtdGA0LAsINC60L7RgtC+0YDRi9C5INC+0LHRitC10LTQuNC90Y/QtdGCINCy0YHQtSDQuNC30L7QsdGA0LDQttC10L3QuNGPXHJcbiAgIC8vIGZvY3VzVHJhcDogdHJ1ZSxcclxuICAgLy8gY29sbGFwc2VPbkZvY3VzT3V0OiBmYWxzZSxcclxuLy8gfSk7XHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS3QntGC0L/RgNCw0LLQutCwINC/0L7Rh9GC0YstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAwNmNjOWE2ZC1hZTUwLTRkZmItYWM3OS0xZWM3ZjQ4MjM4MTYgXHJcbiAgIGNvbnN0IGJ0blNlbmRNYWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2J0blNlbmRNYWlsJyk7XHJcbiAgIGNvbnN0IGZvcm0gID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtXCIpO1xyXG4gICBjb25zdCBzZW5kTWFpbCA9IChlKSA9PiB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChGb3JtVmFsaWQuY2hlY2tWYWxpZChmb3JtKSkge1xyXG5cclxuICAgICAgICAgYnRuU2VuZE1haWwuY2xhc3NMaXN0LmFkZChcIm1zZy0tc2VuZGluZ1wiKTtcclxuICAgICAgICAgYnRuU2VuZE1haWwuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XHJcbiAgICAgICAgIGNvbnN0IHJlbW92ZURvbmUgPSAoKT0+e1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwibXNnXCIpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1zZy0tZG9uZVwiKS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsIHJlbW92ZURvbmUpO1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwibXNnLS1kb25lXCIpO1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAvLyDRgtCw0LnQvNCw0YPRgiDQtNC70Y8gXCLQvtGC0L/RgNCw0LLQutC4XCJcclxuICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJtc2ctLXNlbmRpbmdcIik7XHJcbiAgICAgICAgICAgIGJ0blNlbmRNYWlsLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5jbGFzc0xpc3QuYWRkKFwibXNnXCIpO1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5jbGFzc0xpc3QuYWRkKFwibXNnLS1zZW5kXCIpO1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgXCJva1wiKTtcclxuICAgICAgICAgfSwgMjAwMCk7XHJcblxyXG4gICAgICAgICAvLyDRgtCw0LnQvNCw0YPRgiDQv9C+INC60L7RgtC+0YDQvtC80YMg0L/QvtC60LDQt9GL0LLQsNC10Lwg0LjQutC+0L3QutGDXHJcbiAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYnRuU2VuZE1haWwuY2xhc3NMaXN0LnJlbW92ZShcIm1zZy0tc2VuZFwiKTtcclxuICAgICAgICAgICAgYnRuU2VuZE1haWwucmVtb3ZlQXR0cmlidXRlKFwiZGF0YS10eXBlXCIpO1xyXG4gICAgICAgICAgICBidG5TZW5kTWFpbC5jbGFzc0xpc3QuYWRkKFwibXNnLS1kb25lXCIpO1xyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tc2ctLWRvbmVcIikuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCByZW1vdmVEb25lKTtcclxuXHJcbiAgICAgICAgIH0sIDQwMDApO1xyXG5cclxuXHJcbiAgICAgIC8vIEVtYWlsLnNlbmQoe1xyXG4gICAgICAvLyAgICBTZWN1cmVUb2tlbiA6IFwiMDZjYzlhNmQtYWU1MC00ZGZiLWFjNzktMWVjN2Y0ODIzODE2IFwiLFxyXG4gICAgICAvLyAgICBUbyA6ICdkYW5pbGEua29yb3Rrb3ZAZ21haWwuY29tJyxcclxuICAgICAgLy8gICAgRnJvbSA6IFwieW91QGlzcC5jb21cIixcclxuICAgICAgLy8gICAgU3ViamVjdCA6IFwiVGhpcyBpcyB0aGUgc3ViamVjdFwiLFxyXG4gICAgICAvLyAgICBCb2R5IDogXCJBbmQgdGhpcyBpcyB0aGUgYm9keVwiXHJcbiAgICAgIC8vIH0pLnRoZW4oXHJcbiAgICAgIC8vIG1lc3NhZ2UgPT4gY29uc29sZS5sb2cobWVzc2FnZSlcclxuICAgICAgLy8gKTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICAgaWYgKGJ0blNlbmRNYWlsKSBidG5TZW5kTWFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT4gc2VuZE1haWwoZSkpO1xyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQv9C+0YDRgtGE0L7Qu9C40L4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIGNvbnN0IHBvcnRmb2xpb0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19fbGlzdFwiKTtcclxuICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9ydGZvbGlvSXRlbUNvbG5lJyk7XHJcbiAgIGlmIChwb3J0Zm9saW9MaXN0KSB7XHJcbiAgICAgIFxyXG4gICAgICByZWFkRmlsZShcIi4vZmlsZXMvcG9ydGZvbGlvL2RhdGEuanNvblwiLCBmdW5jdGlvbih0ZXh0KXtcclxuICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XHJcbiAgICAgICAgIGRhdGEuZm9yRWFjaCgoZWwsIGkpID0+IHsgXHJcbiAgICAgICAgICAgIGFkZFBvcnRmb2xpb0l0ZW0oZWwpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIGZ1bmN0aW9uIHJlYWRGaWxlKGZpbGUsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgcmF3RmlsZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgcmF3RmlsZS5vdmVycmlkZU1pbWVUeXBlKFwiYXBwbGljYXRpb24vanNvblwiKTtcclxuICAgIHJhd0ZpbGUub3BlbihcIkdFVFwiLCBmaWxlLCB0cnVlKTtcclxuICAgIHJhd0ZpbGUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHJhd0ZpbGUucmVhZHlTdGF0ZSA9PT0gNCAmJiByYXdGaWxlLnN0YXR1cyA9PSBcIjIwMFwiKSB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKHJhd0ZpbGUucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAgIHJhd0ZpbGUuc2VuZChudWxsKTtcclxuICAgfVxyXG5cclxuICAgZnVuY3Rpb24gYWRkUG9ydGZvbGlvSXRlbShlbCl7XHJcbiAgICAgIGNvbnN0IHByb3Rmb2xpb0RhdGUgPSBuZXcgRGF0ZShlbC5jcmVhdGVEYXRlKTtcclxuXHJcbiAgICAgIGNvbnN0IGNsb25lID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgIGNvbnN0IHBvcnRmb2xpb0l0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19faXRlbVwiKTtcclxuICAgICAgY29uc3QgcG9ydGZvbGlvSW1nID0gcG9ydGZvbGlvSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19faW1nXCIpO1xyXG4gICAgICBjb25zdCBwb3J0Zm9saW9EYXRlID0gcG9ydGZvbGlvSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19fZGF0ZVwiKTtcclxuICAgICAgY29uc3QgcG9ydGZvbGlvTmFtZSA9IHBvcnRmb2xpb0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3J0Zm9saW9fX25hbWVcIik7XHJcbiAgICAgIGNvbnN0IHBvcnRmb2xpb0NvbnRlbnQgPSBwb3J0Zm9saW9JdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9ydGZvbGlvX19jb250ZW50XCIpO1xyXG4gICAgICBjb25zdCBwb3J0Zm9saW9MaW5rID0gcG9ydGZvbGlvSXRlbS5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19fbGlua1wiKTtcclxuXHJcbiAgICAgIFxyXG4gICAgICBwb3J0Zm9saW9JdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtY3JlYXRlLWRhdGVcIiwgZWwuY3JlYXRlRGF0ZSlcclxuICAgICAgcG9ydGZvbGlvSXRlbS5zZXRBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIiwgZWwudHlwZSlcclxuICAgICAgcG9ydGZvbGlvSXRlbS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibGlzdGl0ZW1cIilcclxuXHJcbiAgICAgICAgIFxyXG4gICAgICBwb3J0Zm9saW9JbWcuc3JjID0gZWwuaW1nO1xyXG4gICAgICBwb3J0Zm9saW9EYXRlLnNldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIsIGVsLmNyZWF0ZURhdGUpO1xyXG4gICAgICBwb3J0Zm9saW9EYXRlLmlubmVySFRNTCA9IGdldERhdGVUb0l0ZW0ocHJvdGZvbGlvRGF0ZSlcclxuICAgICAgcG9ydGZvbGlvTmFtZS5pbm5lckhUTUwgPSBlbC5uYW1lXHJcbiAgICAgIHBvcnRmb2xpb0NvbnRlbnQuaW5uZXJIVE1MID0gZWwuY29udGVudFxyXG4gICAgICBwb3J0Zm9saW9MaW5rLmhyZWYgPSBlbC5saW5rXHJcblxyXG4gICAgICBwb3J0Zm9saW9JdGVtLmFwcGVuZENoaWxkKHBvcnRmb2xpb0ltZylcclxuICAgICAgcG9ydGZvbGlvSXRlbS5hcHBlbmRDaGlsZChwb3J0Zm9saW9EYXRlKVxyXG4gICAgICBwb3J0Zm9saW9JdGVtLmFwcGVuZENoaWxkKHBvcnRmb2xpb05hbWUpXHJcbiAgICAgIHBvcnRmb2xpb0l0ZW0uYXBwZW5kQ2hpbGQocG9ydGZvbGlvQ29udGVudClcclxuICAgICAgcG9ydGZvbGlvSXRlbS5hcHBlbmRDaGlsZChwb3J0Zm9saW9MaW5rKVxyXG5cclxuICAgICAgcG9ydGZvbGlvTGlzdC5hcHBlbmRDaGlsZChwb3J0Zm9saW9JdGVtKVxyXG4gICB9XHJcblxyXG4gICBmdW5jdGlvbiBnZXREYXRlVG9JdGVtKGRhdGUpIHtcclxuICAgICAgLy8gY29uc3QgbW9udGhOYW1lcyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsXHJcbiAgICAgIC8vIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJcclxuICAgICAgLy8gXTtcclxuICAgICAgY29uc3QgbW9udGhOYW1lcyA9IFtcItCv0L3QstCw0YDRjFwiLCBcItCk0LXQstGA0LDQu9GMXCIsIFwi0JzQsNGA0YJcIiwgXCLQkNC/0YDQtdC70YxcIiwgXCLQnNCw0LlcIiwgXCLQmNGO0L3RjFwiLCBcItCY0Y7Qu9GMXCIsIFwi0JDQstCz0YPRgdGCXCIsIFwi0KHQtdC90YLRj9Cx0YDRjFwiLCBcItCe0LrRgtGP0LHRgNGMXCIsIFwi0J3QvtGP0LHRgNGMXCIsIFwi0JTQtdC60LDQsdGA0YxcIl07XHJcbiAgICAgIHJldHVybiBgJHttb250aE5hbWVzW2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWA7XHJcbiAgIH1cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgXHJcbiAgICAgIFxyXG4gICB9KSgpO1xyXG4iXSwibmFtZXMiOlsibWFpbkZvbnQiLCJGb250RmFjZU9ic2VydmVyIiwiaHRtbCIsImRvY3VtZW50IiwiZG9jdW1lbnRFbGVtZW50IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJsb2FkIiwidGhlbiIsInJlbW92ZSIsImFkZCIsInNlc3Npb25TdG9yYWdlIiwiZm9udHNMb2FkZWQiLCJjYXRjaCIsIkZvcm1WYWxpZCIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsInRoaXMiLCJjb25zdHJ1Y3Rvck9wdGlvbnMiLCJpbml0IiwiT2JqZWN0IiwiYXNzaWduIiwiZm9ybUNsYXNzTmFtZSIsImVycm9yQ2xhc3NOYW1lIiwiaW5wdXRDbGFzc05hbWUiLCJpbnZhbGlkQ2xhc3NOYW1lIiwid2l0aFZhbHVlQ2xhc3NOYW1lIiwiZXJyb3JzIiwicmVxdWlyZWQiLCJlbWFpbCIsInR5cGUiLCJwYXR0ZXJuIiwidG9vU2hvcnQiLCJ0b29Mb25nIiwic3RlcE1pc21hdGNoIiwicmFuZ2VVbmRlcmZsb3ciLCJyYW5nZU92ZXJmbG93IiwiY3VzdG9tRXJyb3IiLCJiYWRJbnB1dCIsImZvcm1zIiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJsZXQiLCJpbnB1dHMiLCJmb3JtIiwidGV4dGFyZWEiLCJjb25jYXQiLCJlcnJvciIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJpbnB1dCIsImluc2VydEFkamFjZW50RWxlbWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ2YWxpZGF0ZSIsImUiLCJpc0VtcHR5IiwiY2hlY2tWYWxpZCIsInRhcmdldCIsInZhbHVlIiwibGVuZ3RoIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwidmFsaWRpdHkiLCJ2YWxpZCIsInZhbHVlTWlzc2luZyIsInNldEludmFsaWQiLCJ0eXBlTWlzbWF0Y2giLCJwYXR0ZXJuTWlzbWF0Y2giLCJpbm5lckhUTUwiLCJ0ZXh0IiwiZXJyb3JFbGVtZW50cyIsIkFycmF5IiwiY3VycmVudFRhcmdldCIsInByZXZlbnREZWZhdWx0IiwicHVzaCIsImZpbHRlciIsImVsZW1lbnQiLCJ1bmRlZmluZWQiLCJwcmV2aW91c1NpYmxpbmciLCJmb2N1cyIsIk5vZGFESyIsIl9LRVlTIiwiRVNDIiwiU1BBQ0UiLCJFTlRFUiIsIlRBQiIsIkFSUk9XX0xFRlQiLCJBUlJPV19VUCIsIkFSUk9XX1JJR0hUIiwiQVJST1dfRE9XTiIsIiNmb2N1c2FibGVFbGVtZW50cyIsIiNkZWZhdWx0T3B0aW9ucyIsImZvY3VzVHJhcCIsImNvbGxhcHNlT25Gb2N1c091dCIsIl9vcHRpb25zIiwiXyRlbCIsInF1ZXJ5U2VsZWN0b3IiLCJzZWxlY3RvciIsIiNjaGVjayIsIiNpbml0IiwiX2hhc0Vycm9ycyIsIm1hdGNoTWVkaWEiLCJ3aW5kb3ciLCJtYXRjaGVzIiwiY29uc29sZSIsIl9tYWluRWxDbGljayIsIl9jaGVja1ByZXNzIiwiX2luaXRGb2N1c2FibGVDb250ZW50IiwiXyRsYXN0Rm9jdXNhYmxlRWwiLCJfZ2V0Rm9jdXNhYmxlQ29udGVudCIsInRhYkluZGV4IiwiXyRmb2N1c2FibGVDb250ZW50IiwiZWwiLCIjZm9jdXNUcmFwQW5kQ29sbGFwc2UiLCJmaXJzdEZvY3VzYWJsZUVsIiwibGFzdEZvY3VzYWJsZUVsIiwibmVlZExhc3RGb2N1c2FibGVFbCIsInNoaWZ0S2V5IiwiYWN0aXZlRWxlbWVudCIsImNsb3NlIiwia2V5Q29kZSIsImtleSIsImNsb3Nlc3QiLCJkYXRhc2V0Iiwib3BlbiIsImFjdGl2ZUNsYXNzIiwic2xpY2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJkaXNhYmxlU2Nyb2xsIiwiZGVzdHJveSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbmFibGVTY3JvbGwiLCJfZGVmYXVsdE9wdGlvbnMiLCJzZWxlY3RDbGFzc05hbWUiLCJfc2VsZWN0TXVsdGlwbGUiLCJfJHNlbGVjdHMiLCJzZWxlY3QiLCJpIiwiaGFzQXR0cmlidXRlIiwiX21ha2VDdXN0b20iLCJfc2V0Q3VzdG9tVmFsdWUiLCJfaW5pdEN1c3RvbSIsIl8kc2VsZWN0UGFyZW50IiwicGFyZW50RWxlbWVudCIsIl8kc2VsZWN0T3B0aW9ucyIsIl8kc2VsZWN0TWVudSIsIl8kc2VsZWN0QnV0dG9uIiwiXyRzZWxlY3RQb3B1cCIsIl9zZWxlY3RlZE9wdGlvbiIsImdldEF0dHJpYnV0ZSIsIm9wdGlvbiIsImwiLCJfJHNlbGVjdE9wdGlvbiIsImZpcnN0Q2hpbGQiLCJhcHBlbmRDaGlsZCIsIl9oYW5kbGVCbHVyIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsImhpZGRlbiIsIl9jbGljayIsIl8kcG9wdXBzIiwiXyRidXR0b25zIiwic2VsZWN0TnVtYmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiX2Nsb3NlU2VsZWN0IiwiX2NoYW5nZU9wdGlvbkJ5Q2xpY2siLCJ0b2dnbGVPcGVuU2VsZWN0IiwiX2NoYW5nZU9wdGlvblRvUHJldiIsIl9jaGFuZ2VPcHRpb25Ub05leHQiLCJfb3BlblNlbGVjdCIsImZvY3VzVmlzaWJsZSIsIl9zZXRCdXR0b25CeU9wdGlvbiIsImlubmVyVGV4dCIsIl9nZXRDdXJyZW50T3B0aW9uIiwiX2dldE9wdGlvbnNWYWx1ZXMiLCJtYXAiLCJfcmVzZXRPcHRpb24iLCJfc2V0T3B0aW9uIiwiYXJpYUNoZWNrZWQiLCJfJGN1cnJlbnRPcHRpb24iLCJfc2V0TmF0aXZlVmFsdWUiLCJuZXh0U2libGluZyIsIm5hdGl2ZU9wdGlvbnMiLCJvcHRpb25DdXN0b21WYWx1ZSIsInNlbGVjdGVkIiwiY3VzdG9tT3B0aW9ucyIsIl8kdG9TZXRPcHRpb24iLCJzY3JvbGxQcmV2ZW50RGVmYXVsdCIsInN1cHBvcnRzUGFzc2l2ZSIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwid2hlZWxPcHQiLCJwYXNzaXZlIiwid2hlZWxFdmVudCIsImh1bWJ1cmdlckJ0biIsImxvZ28iLCJjYWxsYmFjayIsInJhd0ZpbGUiLCJkaWFsb2dGdWxsU2NyZWVuIiwiY29udGVudENsYXNzIiwib3ZlcmxheSIsIm92YXJsYXlDbGFzcyIsIm92ZXJsYXlCZyIsIiMkYWN0aXZlT3BlbkJ0biIsInN1cGVyIiwiXyRvcGVuQnRucyIsIm9wZW5CdG5zU2VsZWN0b3IiLCJub2RlTmFtZSIsImNvbnRlbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb3NpdGlvbiIsImluc2V0IiwiYmluZCIsImluc2VydEJlZm9yZSIsIm9wZW5CdG4iLCJzZXRUaW1lb3V0Iiwic2hvd01vZGFsIiwic2hvdyIsIm9uT3BlbiIsIl8kZWxMc0FuaW0iLCJnZXRBbmltYXRpb25zIiwiI2Nsb3NpbmciLCJvbmNlIiwib25DbG9zZSIsImJ0blNlbmRNYWlsIiwicmVtb3ZlRG9uZSIsInNlbmRNYWlsIiwicG9ydGZvbGlvTGlzdCIsInRlbXBsYXRlIiwiZmlsZSIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJwcm90Zm9saW9EYXRlIiwiRGF0ZSIsImNyZWF0ZURhdGUiLCJjbG9uZSIsImNsb25lTm9kZSIsInBvcnRmb2xpb0l0ZW0iLCJwb3J0Zm9saW9JbWciLCJwb3J0Zm9saW9EYXRlIiwicG9ydGZvbGlvTmFtZSIsInBvcnRmb2xpb0NvbnRlbnQiLCJwb3J0Zm9saW9MaW5rIiwic3JjIiwiaW1nIiwiZGF0ZSIsImdldE1vbnRoIiwiZ2V0RnVsbFllYXIiLCJnZXREYXRlVG9JdGVtIiwibmFtZSIsImhyZWYiLCJsaW5rIiwiYWRkUG9ydGZvbGlvSXRlbSIsIlhNTEh0dHBSZXF1ZXN0Iiwib3ZlcnJpZGVNaW1lVHlwZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJzdGF0dXMiLCJyZXNwb25zZVRleHQiLCJzZW5kIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUtBLElBQUlBLEVBQVcsSUFBSUMsaUJBQWlCLFVBU2hDQyxFQUFPQyxTQUFTQyxnQkFFaEJGLEVBQUtHLFVBQVVDLFNBQVMsa0JBQ3pCTixFQUNJTyxPQUNBQyxLQUFLLFdBQ0hOLEVBQUtHLFVBQVVJLE9BQU8saUJBQ3RCUCxFQUFLRyxVQUFVSyxJQUFJLGdCQUNuQkMsZUFBZUMsYUFBYyxJQUUvQkMsTUFBTSxXQUNKWCxFQUFLRyxVQUFVSSxPQUFPLGlCQUN0QlAsRUFBS0csVUFBVUssSUFBSSxnQkFDbkJDLGVBQWVDLGFBQWMsVUErQmhDRSxFQUNIQyxZQUFZQyxHQUNUQyxLQUFLQyxtQkFBcUJGLEVBQzFCQyxLQUFLRSxPQUdSQSxjQXFCR0YsS0FBS0QsUUFBVUksT0FBT0MsT0FwQkMsQ0FDcEJDLGNBQWUsT0FDZkMsZUFBZ0IsUUFDaEJDLGVBQWdCLGNBQ2hCQyxpQkFBa0IsVUFDbEJDLG1CQUFvQixZQUNwQkMsT0FBUSxDQUNMQyxTQUFVLDhCQUNWQyxNQUFPLHVDQUNQQyxLQUFNLGdDQUNOQyxRQUFTLGdDQUNUQyxTQUFVLG1CQUNWQyxRQUFTLGlCQUNUQyxhQUFjLG9DQUNkQyxlQUFnQixtQkFDaEJDLGNBQWUsbUJBQ2ZDLFlBQWEsU0FDYkMsU0FBVSxhQUc2QnJCLEtBQUtDLG9CQUVsREQsS0FBS3NCLE1BQVFwQyxTQUFTcUMsaUJBQWlCLFFBQ2xDdkIsS0FBS3NCLE9BRVZ0QixLQUFLc0IsTUFBTUUsUUFBUSxJQUVoQkMsSUFBSUMsRUFBUyxJQUFJQyxFQUFLSixpQkFBaUIsVUFDdkMsSUFBTUssRUFBVyxJQUFJRCxFQUFLSixpQkFBaUIsYUFDM0NHLEVBQVNBLEVBQU9HLE9BQU9ELEdBQ3ZCRixFQUFPRixRQUFRLElBRVosTUFBTU0sRUFBUTVDLFNBQVM2QyxjQUFjLFFBQ3JDRCxFQUFNMUMsVUFBVUssSUFBT08sS0FBS0QsUUFBUU0s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
