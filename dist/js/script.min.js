!function(){var t=new FontFaceObserver("LyuLin"),e=document.documentElement;e.classList.contains("fonts-loading")&&t.load().then(function(){e.classList.remove("fonts-loading"),e.classList.add("fonts-loaded"),sessionStorage.fontsLoaded=!0}).catch(function(){e.classList.remove("fonts-loading"),e.classList.add("fonts-failed"),sessionStorage.fontsLoaded=!1});class n{constructor(t){this.constructorOptions=t,this.init()}static init(){this.options=Object.assign({formClassName:"form",errorClassName:"error",inputClassName:"form__input",invalidClassName:"invalid",withValueClassName:"not-empty",errors:{required:"Заполните обязательное поле",email:"Пожалуйста, введите правильный email",type:"Не соответствует формату поля",pattern:"Не соответствует формату поля",tooShort:"Слишком короткое",tooLong:"Слишком динное",stepMismatch:"Неверный шаг (введенный диапозон)",rangeUnderflow:"Меньше диапозона",rangeOverflow:"Больше диапозона",customError:"Ошибка",badInput:"badInput"}},this.constructorOptions),this.forms=document.querySelectorAll("form"),this.forms&&this.forms.forEach(t=>{let e=[...t.querySelectorAll("input")];var s=[...t.querySelectorAll("textarea")];e=e.concat(s),e.forEach(t=>{const e=document.createElement("span");e.classList.add(this.options.formClassName+"__"+this.options.errorClassName),e.setAttribute("aria-live","polite"),t.insertAdjacentElement("afterend",e),t.addEventListener("blur",t=>{this.validate(t),this.isEmpty(t)})}),t.addEventListener("submit",t=>{this.checkValid(t)})})}static isEmpty(t){0<(t=t.target?t.target:t).value.length?t.classList.add(this.options.inputClassName+"--"+this.options.withValueClassName):t.classList.remove(this.options.inputClassName+"--"+this.options.withValueClassName)}static validate(t){const e=(t=t.target?t.target:t).nextElementSibling;if(!t.validity.valid){if(t.validity.valueMissing)return this.setInvalid(t,this.options.errors.required),e;if(t.validity.typeMismatch)return this.setInvalid(t,this.options.errors.type),e;if(t.validity.patternMismatch)return this.setInvalid(t,this.options.errors.pattern),e;if(t.validity.tooShort)return this.setInvalid(t,this.options.errors.tooShort),e;if(t.validity.tooLong)return this.setInvalid(t,this.options.errors.tooLong),e;if(t.validity.stepMismatch)return this.setInvalid(t,this.options.errors.stepMismatch),e;if(t.validity.rangeUnderflow)return this.setInvalid(t,this.options.errors.rangeUnderflow),e;if(t.validity.rangeOverflow)return this.setInvalid(t,this.options.errors.rangeOverflow),e;if(t.validity.customError)return this.setInvalid(t,this.options.errors.customError),e;if(t.validity.badInput)return this.setInvalid(t,this.options.errors.badInput),e}t.classList.remove(this.options.inputClassName+"--"+this.options.invalidClassName),e.innerHTML=""}static setInvalid(t,e){const s=t.nextElementSibling;t.classList.add(this.options.inputClassName+"--"+this.options.invalidClassName),s.innerHTML=e}static checkValid(t){let e=new Array;const s="object"==typeof t.currentTarget?t.currentTarget:t,i=s.querySelectorAll("input");if("object"==typeof t.currentTarget&&t.preventDefault(),i.forEach(t=>{e.push(this.validate(t))}),e=e.filter(function(t){return void 0!==t}),0===e.length)return!0;e[0].previousSibling.focus()}}n.init();class s{_KEYS={ESC:27,SPACE:32,ENTER:13,TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40};#focusableElements='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), select, details, audio, video, object, [contenteditable=""], [contenteditable="true"], [tabindex]:not([tabindex="-1"])';#defaultOptions={focusTrap:!1,collapseOnFocusOut:!1};constructor(t){this._options=Object.assign(this.#defaultOptions,t),this._$el=document.querySelector(this._options.selector),this.#check()?this.#init():this._hasErrors=!0}#check(){return this._$el?!(void 0!==this._options.matchMedia&&!window.matchMedia(this._options.matchMedia).matches):(console.error("Не найден класс - "+this._options.selector),!1)}#init(){this._$el.addEventListener("click",t=>this._mainElClick(t)),this._$el.addEventListener("keydown",t=>this._checkPress(t),!0)}_initFocusableContent(){this._$lastFocusableEl=this._$el.querySelector('[data-select-last="true"]'),this._getFocusableContent(),this._$lastFocusableEl&&(this._$lastFocusableEl.tabIndex=-1),this._$focusableContent=this._$focusableContent.filter(t=>{if(t!==this._$lastFocusableEl)return t})}#focusTrapAndCollapse(t){const e=this._$focusableContent[0],s=this._$focusableContent[this._$focusableContent.length-1],i=this._$lastFocusableEl;t.shiftKey?document.activeElement!==e&&document.activeElement!==i||(i&&document.activeElement!==i&&!this._options.collapseOnFocusOut?i.focus():(this._options.collapseOnFocusOut&&this.close(),s.focus()),t.preventDefault()):document.activeElement!==s&&document.activeElement!==i||(i&&document.activeElement!==i?i.focus():(this._options.collapseOnFocusOut&&this.close(),e.focus()),t.preventDefault())}_checkPress(t){t.keyCode===this._KEYS.ESC&&this.close(),"Tab"!==t.key&&t.keyCode!==this._KEYS.TAB||(this._options.focusTrap||this._options.collapseOnFocusOut)&&this.#focusTrapAndCollapse(t)}_mainElClick(t){(t.target.closest('[data-close="true"]')||t.target.dataset.close)&&this.close()}_getFocusableContent(){this._$focusableContent=[...this._$el.querySelectorAll(this.#focusableElements)]}open(){this._options.activeClass?this._$el.classList.add(this._options.selector.slice(1)+this._options.activeClass):this._$el.removeAttribute("hidden"),void 0===this._$focusableContent&&this._initFocusableContent(),window.disableScroll()}close(){this._options.activeClass?this._$el.classList.remove(this._options.selector.slice(1)+this._options.activeClass):this._$el.setAttribute("hidden",""),this.destroy()}destroy(){this._$el.removeEventListener("click",t=>this._mainElClick(t)),this._$el.removeEventListener("keydown",t=>this._checkPress(t),!0),window.enableScroll()}}function i(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}(class{constructor(t){this.constructorOptions=t,this.init()}static init(){this._KEYS={ESC:27,SPACE:32,ENTER:13,TAB:9,ARROW_LEFT:37,ARROW_UP:38,ARROW_RIGHT:39,ARROW_DOWN:40},this._defaultOptions={selectClassName:"select"},this._options=Object.assign(this._defaultOptions,this.constructorOptions),this._selectMultiple=[],this._$selects=document.querySelectorAll("select"),this._$selects&&(this._$selects.forEach((t,e)=>{this._selectMultiple[e]=t.hasAttribute("multiple"),this._makeCustom(t,e),t.addEventListener("change",t=>this._setCustomValue(t,e))}),this._initCustom(),this.menuEvent=new Event("menuchange"))}static _makeCustom(t,i){const e=t.parentElement,s=[...t.querySelectorAll("option")],o=document.createElement("div"),n=document.createElement("button"),a=document.createElement("ul"),l={value:s[0].getAttribute("value"),text:s[0].innerHTML};e.classList.add(""+this._options.selectClassName),t.classList.add(this._options.selectClassName+"__native"),o.classList.add(this._options.selectClassName+"__menu"),n.classList.add(this._options.selectClassName+"__button"),a.classList.add(this._options.selectClassName+"__popup"),s.forEach((t,e)=>{const s=document.createElement("li");s.tabIndex=-1,this._selectMultiple[i]?(s.setAttribute("role","menuitemcheckbox"),s.setAttribute("aria-checked","false")):s.setAttribute("role","menuitem"),0===e&&(this._selectMultiple[i]||s.setAttribute("aria-checked","true"),s.tabIndex=0),t.hasAttribute("selected")&&0!==i&&(l.value=t.getAttribute("value"),l.text=t.innerHTML,s.setAttribute("aria-checked","true"),this._selectMultiple[i]||(s.tabIndex=0,a.firstChild.removeAttribute("aria-checked"),a.firstChild.tabIndex=-1)),s.classList.add(this._options.selectClassName+"__option"),s.setAttribute("data-value",t.getAttribute("value")),s.innerHTML=t.innerHTML,a.appendChild(s),s.addEventListener("blur",t=>this._handleBlur(t,i))}),n.innerHTML=l.text,t.hasAttribute("disabled")&&n.setAttribute("disabled",""),this._selectMultiple[i]&&o.setAttribute("multiple",""),t.hasAttribute("size")&&o.style.setProperty("--size",t.getAttribute("size")),t.hasAttribute("open")||this._selectMultiple[i]||(a.hidden=!0),o.setAttribute("role","menu"),n.setAttribute("type","button"),n.setAttribute("aria-expanded","false"),n.setAttribute("aria-haspopup","true"),o.addEventListener("click",t=>this._click(t,i)),o.addEventListener("keydown",t=>this._checkPress(t,i),!0),o.appendChild(n),o.appendChild(a),e.appendChild(o)}static _initCustom(){this._$popups=[...document.querySelectorAll(`.${this._options.selectClassName}__popup`)],this._$buttons=[...document.querySelectorAll(`.${this._options.selectClassName}__button`)]}static _handleBlur(t,e){if(!this._selectMultiple[e]){const s=t.currentTarget;requestAnimationFrame(()=>{s.closest(`.${this._options.selectClassName}__menu`).contains(document.activeElement)||this._closeSelect(e)})}}static _click(t,e=null){t.target.classList.contains(this._options.selectClassName+"__option")?(this._changeOptionByClick(t.target,e),this._selectMultiple[e]||this._closeSelect(e)):t.target.classList.contains(this._options.selectClassName+"__button")&&this.toggleOpenSelect(e)}static _checkPress(t,e){if(t.keyCode!==this._KEYS.ESC||this._selectMultiple[e])return t.keyCode===this._KEYS.ARROW_UP||t.keyCode===this._KEYS.ARROW_LEFT?(t.preventDefault(),void this._changeOptionToPrev(e)):t.keyCode===this._KEYS.ARROW_DOWN||t.keyCode===this._KEYS.ARROW_RIGHT?(t.preventDefault(),void this._changeOptionToNext(e)):void(this._$popups[e].hasAttribute("hidden")||t.keyCode===this._KEYS.ENTER&&(t.preventDefault(),this._selectMultiple[e]?this._changeOptionByClick(t.target,e):this._closeSelect(e)));this._closeSelect(e)}static toggleOpenSelect(t){this._$popups[t].hasAttribute("hidden")?this._openSelect(t):this._closeSelect(t)}static _openSelect(t){this._$popups[t].hidden=!1,this._$popups[t].previousSibling.setAttribute("aria-expanded","true"),this._$popups[t].querySelector('[tabindex="0"]').focus({focusVisible:!0})}static _closeSelect(t){this._$popups[t].hidden=!0,this._$popups[t].previousSibling.setAttribute("aria-expanded","false"),this._$popups[t].previousSibling.focus({focusVisible:!0})}static _setButtonByOption(t,e){this._$buttons[e].innerText=t.innerText}static _getCurrentOption(t){return this._$popups[t].querySelector('[tabindex="0"]')}static _getOptionsValues(t){const e=[...this._$popups[t].querySelectorAll(`.${this._options.selectClassName}__option`)];return e.map(t=>t.getAttribute("aria-checked"))}static _resetOption(t){t.tabIndex=-1,t.removeAttribute("aria-checked")}static _setOption(t){t.tabIndex=0,t.setAttribute("aria-checked","true"),t.focus({focusVisible:!0})}static _changeOptionByClick(t,e){var s,i=this._getCurrentOption(e);this._selectMultiple[e]?(s="true"!==t.getAttribute("aria-checked"),t.setAttribute("aria-checked",s),this._setNativeValue(e,this._getOptionsValues(e))):(this._resetOption(i),this._setOption(t),this._setButtonByOption(t,e),this._setNativeValue(e,t.dataset.value))}static _changeOptionToNext(t){const e=this._getCurrentOption(t);null!==e.nextSibling&&(this._selectMultiple[t]?(e.tabIndex=-1,e.nextSibling.tabIndex=0,e.nextSibling.focus({focusVisible:!0})):(this._resetOption(e),this._setOption(e.nextSibling),this._setButtonByOption(e.nextSibling,t),this._setNativeValue(t,e.nextSibling.dataset.value)))}static _changeOptionToPrev(t){const e=this._getCurrentOption(t);null!==e.previousSibling&&(this._selectMultiple[t]?(e.tabIndex=-1,e.previousSibling.tabIndex=0,e.previousSibling.focus({focusVisible:!0})):(this._resetOption(e),this._setOption(e.previousSibling),this._setButtonByOption(e.previousSibling,t),this._setNativeValue(t,e.previousSibling.dataset.value)))}static _setNativeValue(t,e){if(this._selectMultiple[t]){const s=this._$selects[t].options;e.forEach((t,e)=>{t="true"===t,s[e].selected=t})}else this._$selects[t].value=e;this._$selects[t].dispatchEvent(this.menuEvent)}static _setCustomValue(t,e){if(this._selectMultiple[e]){var s=this._$selects[e].options;const o=this._$popups[e].querySelectorAll(`.${this._options.selectClassName}__option`);for(let t=0;t<s.length;t++)o[t].setAttribute("aria-checked",s[t].selected)}else{var i=t.currentTarget.value,t=this._getCurrentOption(e),i=this._$popups[e].querySelector(`[data-value="${i}"]`);this._resetOption(t),this._setOption(i),this._setButtonByOption(i,e)}}}).init();function o(t){t.preventDefault()}let a=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){a=!0}}))}catch(t){}const l=!!a&&{passive:!1},r="onwheel"in document.createElement("div")?"wheel":"mousewheel";window.disableScroll=()=>{window.addEventListener("DOMMouseScroll",o,!1),window.addEventListener(r,o,l),window.addEventListener("touchmove",o,l)},window.enableScroll=()=>{window.removeEventListener("DOMMouseScroll",o,!1),window.removeEventListener(r,o,l),window.removeEventListener("touchmove",o,l)};window.addEventListener("load",t=>{const e=document.querySelector(".aside"),s=document.querySelector(".loading");s.classList.add("loading--remove"),s.addEventListener("animationend",()=>{s.parentElement.removeChild(s)}),e.classList.add("aside--load")});const c=document.querySelector(".hamburger"),u=document.querySelector(".header__logo");new class extends s{#defaultOptions={dialogFullScreen:!0,contentClass:"content",overlay:!0,ovarlayClass:"overlay",overlayBg:"rgba(0,0,0, 0.5)"};#$activeOpenBtn;constructor(t){super(t),this.#check()&&(this._options=Object.assign(this.#defaultOptions,this._options),this._$openBtns=document.querySelectorAll(this._options.openBtnsSelector),this.#init())}#check(){return!this._hasErrors}#init(){"DIALOG"!==this._$el.nodeName&&(this._$el.setAttribute("role","dialog"),this._$el.setAttribute("aria-modal","true"),this._$el.setAttribute("aria-hidden","true"));const t=document.createElement("div");if(t.classList.add(this._options.selector.slice(1)+"__"+this._options.contentClass),t.innerHTML=this._$el.innerHTML,this._$el.innerHTML="",this._$el.appendChild(t),this._options.overlay&&"DIALOG"!==this._$el.nodeName){const e=document.createElement("div");e.style.backgroundColor=this._options.overlayBg,e.style.position="fixed",e.style.inset="0",e.classList.add(this._options.selector.slice(1)+"__"+this._options.ovarlayClass),e.addEventListener("click",this.close.bind(this)),"static"===this._$el.querySelector(":first-child").style.position&&(this._$el.querySelector(":first-child").style.position="relative"),this._$el.insertBefore(e,this._$el.firstChild)}this._$openBtns&&this._$openBtns.forEach(t=>{t.setAttribute("aria-haspopup","dialog"),t.addEventListener("click",this.open.bind(this))})}_mainElClick(t){super._mainElClick(t),"DIALOG"===t.target.nodeName&&this.close()}open(){setTimeout(()=>{"false"===this._$el.getAttribute("aria-hidden")||this._$el.hasAttribute("open")?this.close():(this.#$activeOpenBtn=document.activeElement,"DIALOG"===this._$el.nodeName?this._options.dialogFullScreen?this._$el.showModal():this._$el.show():(super.open(),this._$el.setAttribute("aria-hidden","false")),0<this._$focusableContent.length&&!i()&&this._$focusableContent[0].focus(),"function"==typeof this._options.onOpen&&this._options.onOpen())},1)}close(){this._$el.setAttribute("closing","");const t="DIALOG"===this._$el.nodeName?this._$el:this._$el.querySelector(`.${this._options.selector.slice(1)}__`+this._options.contentClass);0===t.getAnimations().length?(console.error("Необходимо добавить анимацию для",t),this.#closing()):t.addEventListener("animationend",()=>{this.#closing()},{once:!0}),setTimeout(()=>{-1!==this.#$activeOpenBtn.tabIndex&&this.#$activeOpenBtn.focus(),"function"==typeof this._options.onClose&&this._options.onClose()},1)}#closing(){this._$el.removeAttribute("closing"),"DIALOG"===this._$el.nodeName?(this._$el.close(),super.destroy()):(this._$el.setAttribute("aria-hidden","true"),super.close())}}({selector:".nav",openBtnsSelector:[".hamburger"],collapseOnFocusOut:!0,onOpen(){c.classList.add("is-active"),c.setAttribute("aria-expanded","true"),u.classList.add("header__logo--active")},onClose(){c.classList.remove("is-active"),c.setAttribute("aria-expanded","false"),u.classList.remove("header__logo--active")}});const h=document.querySelector("#btnSendMail"),d=document.querySelector("#form");h&&("undefined"!=typeof emailjs&&emailjs.init("2WyxNkrXZ5yfWQ-uh"),h.addEventListener("click",t=>(t=>{var e=d.querySelector('[name="name"]'),s=d.querySelector('[name="email"]'),i=d.querySelector('[name="message"]'),i={from_name:e.value,reply_to:s.value,message:i.value};if(t.preventDefault(),n.checkValid(d)){h.classList.add("msg--sending"),h.setAttribute("disabled","");const o=()=>{h.classList.remove("msg"),document.querySelector(".msg--done").removeEventListener("animationend",o),h.classList.remove("msg--done")};emailjs.send("service_aq7mfsb","template_sty9rtw",i).then(function(t){h.classList.remove("msg--sending"),h.removeAttribute("disabled"),h.classList.add("msg"),h.classList.add("msg--send"),h.setAttribute("data-type","ok")},function(t){h.classList.remove("msg--sending"),h.removeAttribute("disabled"),h.classList.add("msg"),h.classList.add("msg--send"),h.setAttribute("data-type","error"),console.log("failed send email: ",t)}),setTimeout(()=>{h.classList.remove("msg--send"),h.removeAttribute("data-type"),h.classList.add("msg--done"),document.querySelector(".msg--done").addEventListener("animationend",o),d.reset()},3e3)}})(t)));var p,_,t=document.querySelector(".portfolio__list");const m=document.querySelector("#portfolioItemColne");if(t){const f=(p=t,_="./files/portfolio/data.json",{changedData:null,readFile(){const t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET",_,!0),t.onreadystatechange=()=>{4===t.readyState&&"200"==t.status&&(this.fileData=JSON.parse(t.responseText),this.changedData=[...this.fileData],this.sortBy("createDate","new"),this.printPorfolioItems(this.changedData))},t.send(null)},printPorfolioItems(t){this.clearPorfolioList(),t.forEach(t=>{this.addPortfolioItem(t)})},addPortfolioItem(t){var e=new Date(t.createDate);const s=m.content.cloneNode(!0),i=s.querySelector(".portfolio__item"),o=i.querySelector(".portfolio__img"),n=i.querySelector(".portfolio__date"),a=i.querySelector(".portfolio__name"),l=i.querySelector(".portfolio__content"),r=i.querySelector(".portfolio__more-info"),c=i.querySelector(".portfolio__link");i.setAttribute("data-create-date",t.createDate),i.setAttribute("data-type",t.type),i.setAttribute("role","listitem"),o.src=t.img,n.setAttribute("datetime",t.createDate),n.innerHTML=this.getDateToItem(e),a.innerHTML=t.name,l.innerHTML=t.content,r.innerHTML=t.more_info,c.href=t.link,i.appendChild(o),p.appendChild(i)},getDateToItem(t){return["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][t.getMonth()]+" "+t.getFullYear()},clearPorfolioList(){p.innerHTML=""},filterBy(e,s){this.changedData="all"!==s?this.fileData.filter(t=>t[e]===s):[...this.fileData]},sortBy(s,t){switch(t){case"new":this.changedData=this.changedData.sort((t,e)=>t[s]<e[s]?1:-1);break;case"old":this.changedData=this.changedData.sort((t,e)=>t[s]>e[s]?1:-1);break;default:this.changedData=this.shuffle(this.changedData)}},shuffle(t){let e=t.length,s;for(;0!=e;)s=Math.floor(Math.random()*e),e--,[t[e],t[s]]=[t[s],t[e]];return t}});f.readFile();const b=document.querySelectorAll(".options__select");function v(t){const e={};t.forEach(t=>{e[t.dataset.type]={name:t.name,value:t.value}}),f.filterBy(e.filter.name,e.filter.value),f.sortBy(e.sort.name,e.sort.value),f.printPorfolioItems(f.changedData)}b&&b.forEach(t=>{t.addEventListener("change",()=>v(b)),t.addEventListener("menuchange",()=>v(b))})}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXMiOlsic2NyaXB0Lm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xyXG4gICAoXCJ1c2Ugc3RyaWN0XCIpXHJcblxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0YjRgNC40YTRgtC+0LIg0YfQtdGA0LXQtyDRgdC60YDQuNC/0YItLS0tLS0tLS0tLS1cclxuICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0KjQoNCY0KTQotCrLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbnZhciBtYWluRm9udCA9IG5ldyBGb250RmFjZU9ic2VydmVyKFwiTHl1TGluXCIpO1xyXG4vLyB2YXIgUmFsZXdheSA9IG5ldyBGb250RmFjZU9ic2VydmVyKFwiUmFsZXdheVwiKTtcclxuXHJcbi8vIC8vINCX0LDQs9GA0YPQttCw0LXQvCDQstGB0LUg0YjRgNC40YTRgtGLINGB0YDQsNC30YMg0JfQtNC10YHRjCDQu9GD0YfRiNC1INC30LDQs9GA0YPQttCw0YLRjCDRiNGA0LjRhNGC0YssINC60L7RgtC+0YDRi9C1INC90LUg0Y/QstC70Y/RjtGC0YHRjyDQvtGB0L3QvtCy0L3Ri9C80LgsINC90L4g0L3QsNGF0L7QtNGP0YLRjNGB0Y8g0LIg0LLQtdGA0YXQvdC10Lkg0YfQsNGB0YLQuCDRgdGC0YDQsNC90LjRhtGLLlxyXG4vLyBQcm9taXNlLmFsbChbTW9udHNlcnJhdC5sb2FkKCldKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgY29uc29sZS5sb2coXCJNb250c2VycmF0INC30LDQs9GA0YPQttC10L1cIik7XHJcbi8vIH0pO1xyXG5cclxuLy8g0JTQvtCx0LDQstC70LXQvCDQvdC10L7QsdGF0L7QtNC40LzRi9C1INC60LvQsNGB0YHRiyDQv9GA0Lgg0LfQsNCz0YDRg9C30LrQtSDQvdGD0LbQvdC+0LPQviDRiNGA0LjRhNGC0LBcclxudmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG5pZiAoaHRtbC5jbGFzc0xpc3QuY29udGFpbnMoXCJmb250cy1sb2FkaW5nXCIpKSB7XHJcbiAgIG1haW5Gb250XHJcbiAgICAgIC5sb2FkKClcclxuICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJmb250cy1sb2FkaW5nXCIpO1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoXCJmb250cy1sb2FkZWRcIik7XHJcbiAgICAgICAgIHNlc3Npb25TdG9yYWdlLmZvbnRzTG9hZGVkID0gdHJ1ZTsgLy8g0JfQsNCz0YDRg9C20LDQtdC8INCyINC60Y3RiFxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5yZW1vdmUoXCJmb250cy1sb2FkaW5nXCIpO1xyXG4gICAgICAgICBodG1sLmNsYXNzTGlzdC5hZGQoXCJmb250cy1mYWlsZWRcIik7XHJcbiAgICAgICAgIHNlc3Npb25TdG9yYWdlLmZvbnRzTG9hZGVkID0gZmFsc2U7XHJcbiAgICAgIH0pO1xyXG59XHJcblxyXG4vLyDQl9C00LXRgdGMINC70YPRh9GI0LUg0LfQsNCz0YDRg9C20LDRgtGMINGI0YDQuNGE0YLRiyDQutC+0YLQvtGA0YvQtSDQvdC1INC+0YHQvdC+0LLQvdGL0LUg0Lgg0L3QsNGF0L7QtNGP0YLRjNGB0Y8g0LIg0L3QuNC20L3QtdC5INGH0LDRgdGC0Lgg0YHRgtGA0LDQvdC40YbRi1xyXG4vLyBNb250c2VycmF0LmxvYWQoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuLy8gICAgY29uc29sZS5sb2coXCLQl9Cw0LPRgNGD0LbQtdC9IElucHV0IE1vbm9cIik7XHJcbi8vIH0pO1xyXG4vLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YPQt9C60LAg0LrQu9Cw0YHRgdCwINCQ0LrQutCw0YDQtNC40L7QvS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gaW5jbHVkZSgnbW9kdWxlcy9fYWNjb3JkaW9uLmpzJylcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwINCS0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvC0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8g0JTQu9GPINCy0LDQu9C40LTQsNGG0LjQuCDRhNC+0YDQvNGLINC90LAg0YHQsNC50YLQtVxyXG5cclxuLy8g0JLRi9C90LXRgdGC0Lgg0Y3RgtC+0YIg0LzQvtC00YPQu9GMINCy0LLQuNC00LUg0L7RgtC00LXQu9GM0L3QvtCz0L4g0L/RgNC+0LXQutGC0LAsINCy0YvQstC10YHRgtC4INC90LAg0LPQuNGC0YXQsNCxINGBINC+0L/QuNGB0LDQvdC40LXQvFxyXG5cclxuLy8gLS0tLS0tLS0tLS3Qn9GA0LjQvNC10YAg0YDQsNCx0L7RgtGLINGBINC60L3QvtC/0LrQvtC5INGE0L7RgNC80Ysg0L7RgtC/0YDQsNCy0LrQuCDQsdC10Lcgc3VibWl0LS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBjb25zdCBzdWJtaXRCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5hcHBvaW50bWVudC1mb3JtX19zdWJtaXRcIik7XHJcbi8vIHN1Ym1pdEJ0bnMuZm9yRWFjaCgoc3VibWl0QnRuKSA9PiB7XHJcbi8vICAgIHN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcclxuLy8gICAgICAgY29uc3QgdGhpc0Zvcm0gPSBlLmN1cnJlbnRUYXJnZXQuY2xvc2VzdChcImZvcm1cIik7XHJcbi8vICAgICAgIGlmIChGb3JtVmFsaWQuY2hlY2tWYWxpZCh0aGlzRm9ybSkpIHtcclxuLy8gICAgICAgICAgY29uc29sZS5sb2coXCLQntGC0L/RgNCw0LLQu9GP0LXQvCDRhNC+0YDQvNGDXCIpO1xyXG4vLyAgICAgICB9XHJcbi8vICAgIH0pO1xyXG4vLyB9KTtcclxuY2xhc3MgRm9ybVZhbGlkIHtcclxuICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgICB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgICAgIHRoaXMuaW5pdCgpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgICAgIGZvcm1DbGFzc05hbWU6IFwiZm9ybVwiLFxyXG4gICAgICAgICBlcnJvckNsYXNzTmFtZTogXCJlcnJvclwiLFxyXG4gICAgICAgICBpbnB1dENsYXNzTmFtZTogXCJmb3JtX19pbnB1dFwiLFxyXG4gICAgICAgICBpbnZhbGlkQ2xhc3NOYW1lOiBcImludmFsaWRcIixcclxuICAgICAgICAgd2l0aFZhbHVlQ2xhc3NOYW1lOiBcIm5vdC1lbXB0eVwiLFxyXG4gICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgcmVxdWlyZWQ6IFwi0JfQsNC/0L7Qu9C90LjRgtC1INC+0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVwiLFxyXG4gICAgICAgICAgICBlbWFpbDogXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0L/RgNCw0LLQuNC70YzQvdGL0LkgZW1haWxcIixcclxuICAgICAgICAgICAgdHlwZTogXCLQndC1INGB0L7QvtGC0LLQtdGC0YHRgtCy0YPQtdGCINGE0L7RgNC80LDRgtGDINC/0L7Qu9GPXCIsXHJcbiAgICAgICAgICAgIHBhdHRlcm46IFwi0J3QtSDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0LXRgiDRhNC+0YDQvNCw0YLRgyDQv9C+0LvRj1wiLFxyXG4gICAgICAgICAgICB0b29TaG9ydDogXCLQodC70LjRiNC60L7QvCDQutC+0YDQvtGC0LrQvtC1XCIsXHJcbiAgICAgICAgICAgIHRvb0xvbmc6IFwi0KHQu9C40YjQutC+0Lwg0LTQuNC90L3QvtC1XCIsXHJcbiAgICAgICAgICAgIHN0ZXBNaXNtYXRjaDogXCLQndC10LLQtdGA0L3Ri9C5INGI0LDQsyAo0LLQstC10LTQtdC90L3Ri9C5INC00LjQsNC/0L7Qt9C+0L0pXCIsXHJcbiAgICAgICAgICAgIHJhbmdlVW5kZXJmbG93OiBcItCc0LXQvdGM0YjQtSDQtNC40LDQv9C+0LfQvtC90LBcIixcclxuICAgICAgICAgICAgcmFuZ2VPdmVyZmxvdzogXCLQkdC+0LvRjNGI0LUg0LTQuNCw0L/QvtC30L7QvdCwXCIsXHJcbiAgICAgICAgICAgIGN1c3RvbUVycm9yOiBcItCe0YjQuNCx0LrQsFwiLFxyXG4gICAgICAgICAgICBiYWRJbnB1dDogXCJiYWRJbnB1dFwiLFxyXG4gICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyk7XHJcblxyXG4gICAgICB0aGlzLmZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImZvcm1cIik7XHJcbiAgICAgIGlmICghdGhpcy5mb3JtcykgcmV0dXJuO1xyXG5cclxuICAgICAgdGhpcy5mb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XHJcbiAgICAgICAgIC8vIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIlwiKTtcclxuICAgICAgICAgbGV0IGlucHV0cyA9IFsuLi5mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKV07XHJcbiAgICAgICAgIGNvbnN0IHRleHRhcmVhID0gWy4uLmZvcm0ucXVlcnlTZWxlY3RvckFsbChcInRleHRhcmVhXCIpXTtcclxuICAgICAgICAgaW5wdXRzID0gaW5wdXRzLmNvbmNhdCh0ZXh0YXJlYSk7XHJcbiAgICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQlNC+0LHQsNCy0Y/Qu9C10Lwg0LXQu9C10LzQtdC90YIg0LTQu9GPINCy0YvQstC+0LTQsCDQvtGI0LjQsdC+0LpcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgZXJyb3IuY2xhc3NMaXN0LmFkZChgJHt0aGlzLm9wdGlvbnMuZm9ybUNsYXNzTmFtZX1fXyR7dGhpcy5vcHRpb25zLmVycm9yQ2xhc3NOYW1lfWApO1xyXG4gICAgICAgICAgICBlcnJvci5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XHJcbiAgICAgICAgICAgIGlucHV0Lmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIGVycm9yKTtcclxuXHJcbiAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMudmFsaWRhdGUoZSk7XHJcbiAgICAgICAgICAgICAgIHRoaXMuaXNFbXB0eShlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tWYWxpZChlKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICB9XHJcblxyXG4gICAvLyDQn9GA0L7QstC10YDRj9C10Lwg0L/Rg9GB0YLQvtC1INC70Lgg0L/QvtC70LVcclxuICAgc3RhdGljIGlzRW1wdHkoaW5wdXQpIHtcclxuICAgICAgaWYgKGlucHV0LnRhcmdldCkgaW5wdXQgPSBpbnB1dC50YXJnZXQ7XHJcbiAgICAgIGlmIChpbnB1dC52YWx1ZS5sZW5ndGggPiAwKSBpbnB1dC5jbGFzc0xpc3QuYWRkKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLndpdGhWYWx1ZUNsYXNzTmFtZX1gKTtcclxuICAgICAgZWxzZSBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGAke3RoaXMub3B0aW9ucy5pbnB1dENsYXNzTmFtZX0tLSR7dGhpcy5vcHRpb25zLndpdGhWYWx1ZUNsYXNzTmFtZX1gKTtcclxuICAgfVxyXG5cclxuICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC/0L7Qu9GPINC90LAg0LLQsNC70LjQtNCw0YbQuNGOXHJcbiAgIHN0YXRpYyB2YWxpZGF0ZShpbnB1dCkge1xyXG4gICAgICBpZiAoaW5wdXQudGFyZ2V0KSBpbnB1dCA9IGlucHV0LnRhcmdldDtcclxuICAgICAgY29uc3QgZXJyb3IgPSBpbnB1dC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICAgIC8vIGNvbnN0IGlucHV0VHlwZSA9IGlucHV0LmdldEF0dHJpYnV0ZShcInR5cGVcIik7XHJcbiAgICAgIC8vIGxldCBwYXR0ZXJuID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwicGF0dGVyblwiKTtcclxuXHJcbiAgICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINC+0LHRj9C30LDRgtC10LvRjNC90L7QtSDQv9C+0LvQtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudmFsdWVNaXNzaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5yZXF1aXJlZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC/0L4g0YLQuNC/0YNcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnR5cGVNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMudHlwZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC/0L4g0L/QsNGC0YLQtdGA0L3Rg1xyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucGF0dGVybk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5wYXR0ZXJuKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudG9vU2hvcnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnRvb1Nob3J0KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0YHQu9C40YjQutC+0Lwg0LrQvtGA0L7RgtC60L7QtVxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkudG9vTG9uZykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMudG9vTG9uZyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINGB0LvQuNGI0LrQvtC8INC60L7RgNC+0YLQutC+0LVcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LnN0ZXBNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMuc3RlcE1pc21hdGNoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LzQtdC90YzRiNC1INC00LjQsNC/0L7Qt9C+0L3QsFxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucmFuZ2VVbmRlcmZsb3cpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRJbnZhbGlkKGlucHV0LCB0aGlzLm9wdGlvbnMuZXJyb3JzLnJhbmdlVW5kZXJmbG93KTtcclxuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0LHQvtC70YzRiNC1INC00LjQsNC/0L7Qt9C+0L3QsFxyXG4gICAgICAgICBpZiAoaW5wdXQudmFsaWRpdHkucmFuZ2VPdmVyZmxvdykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMucmFuZ2VPdmVyZmxvdyk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwINC60LDRgdGC0L7QvNC90LDRjyDQvtGI0LjQsdC60LBcclxuICAgICAgICAgaWYgKGlucHV0LnZhbGlkaXR5LmN1c3RvbUVycm9yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0SW52YWxpZChpbnB1dCwgdGhpcy5vcHRpb25zLmVycm9ycy5jdXN0b21FcnJvcik7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAvLyDQn9GA0L7QstC10YDQutCwIGJhZElucHV0XHJcbiAgICAgICAgIGlmIChpbnB1dC52YWxpZGl0eS5iYWRJbnB1dCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldEludmFsaWQoaW5wdXQsIHRoaXMub3B0aW9ucy5lcnJvcnMuYmFkSW5wdXQpO1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShgJHt0aGlzLm9wdGlvbnMuaW5wdXRDbGFzc05hbWV9LS0ke3RoaXMub3B0aW9ucy5pbnZhbGlkQ2xhc3NOYW1lfWApO1xyXG4gICAgICBlcnJvci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICB9XHJcblxyXG4gICAvLyDQodC+0L7QsdGJ0LDQtdC8INC+0LEg0L7RiNC40LHQutC1INCy0LDQu9C40LTQsNGG0LjQuFxyXG4gICBzdGF0aWMgc2V0SW52YWxpZChpbnB1dCwgdGV4dCkge1xyXG4gICAgICBjb25zdCBlcnJvciA9IGlucHV0Lm5leHRFbGVtZW50U2libGluZztcclxuICAgICAgaW5wdXQuY2xhc3NMaXN0LmFkZChgJHt0aGlzLm9wdGlvbnMuaW5wdXRDbGFzc05hbWV9LS0ke3RoaXMub3B0aW9ucy5pbnZhbGlkQ2xhc3NOYW1lfWApO1xyXG4gICAgICBlcnJvci5pbm5lckhUTUwgPSB0ZXh0O1xyXG4gICB9XHJcblxyXG4gICAvLyDQn9GA0L7QstC10YDRj9GCINC/0L7Qu9GPINC/0LXRgNC10LQg0L7RgtC/0YDQsNCy0LrQvtC5LCDQsiDRgdC70YPRh9Cw0LUsINC10YHQu9C4INC/0L4g0L3QuNC8INC90LUg0L/RgNC+0YXQvtC00LjQu9C4INC40LvQuCDQvdC1INC30LDQvNC10YLQuNC70Lgg0L7RiNC40LHQutGDXHJcbiAgIHN0YXRpYyBjaGVja1ZhbGlkKGUpIHtcclxuICAgICAgbGV0IGVycm9yRWxlbWVudHMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgY29uc3QgZm9ybSA9IHR5cGVvZiBlLmN1cnJlbnRUYXJnZXQgPT09IFwib2JqZWN0XCIgPyBlLmN1cnJlbnRUYXJnZXQgOiBlO1xyXG4gICAgICBjb25zdCBpbnB1dHMgPSBmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcclxuXHJcbiAgICAgIGlmICh0eXBlb2YgZS5jdXJyZW50VGFyZ2V0ID09PSBcIm9iamVjdFwiKSBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICAgICBlcnJvckVsZW1lbnRzLnB1c2godGhpcy52YWxpZGF0ZShpbnB1dCkpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGVycm9yRWxlbWVudHMgPSBlcnJvckVsZW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICByZXR1cm4gZWxlbWVudCAhPT0gdW5kZWZpbmVkO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGlmIChlcnJvckVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAvLyBmb3JtLnN1Ym1pdCgpO1xyXG4gICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZXJyb3JFbGVtZW50c1swXS5wcmV2aW91c1NpYmxpbmcuZm9jdXMoKTtcclxuICAgfVxyXG59XHJcblxyXG4vLyAtLS0tLS0tLS0tLdCf0YDQvtCy0LXRgNC60LAg0LLQsNC70LjQtNCw0YbQuNGPINGE0L7RgNC80YstLS0tLS0tLS0tLS0tLS0tLS0tXHJcbkZvcm1WYWxpZC5pbml0KCk7XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICBcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRgNGD0LfQutCwINC60LvQsNGB0YHQsCDQodC+0LHRi9GC0LjQuSBcItC60LDRgdCw0L3QuNC5XCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIGluY2x1ZGUoJ21vZHVsZXMvX2V2ZW50VG91Y2guanMnKVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQntCx0YnQtdCz0L4g0LrQu9Cw0YHRgdCwXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8qKlxyXG4gKiDQntCx0YnQuNC5INC60LvQsNGB0YEg0LTQu9GPINGA0LDQsdC+0YLRiyDRgSDQvNC+0LTRg9C70Y/QvNC4IERLXHJcbiAqXHJcbiAqXHJcbiAqL1xyXG5cclxuY2xhc3MgTm9kYURLIHtcclxuICAgX0tFWVMgPSB7XHJcbiAgICAgIEVTQzogMjcsXHJcbiAgICAgIFNQQUNFOiAzMixcclxuICAgICAgRU5URVI6IDEzLFxyXG4gICAgICBUQUI6IDksXHJcbiAgICAgIEFSUk9XX0xFRlQ6IDM3LFxyXG4gICAgICBBUlJPV19VUDogMzgsXHJcbiAgICAgIEFSUk9XX1JJR0hUOiAzOSxcclxuICAgICAgQVJST1dfRE9XTjogNDAsXHJcbiAgIH07XHJcbiAgICNmb2N1c2FibGVFbGVtZW50cyA9ICdhW2hyZWZdOm5vdChbZGlzYWJsZWRdKSwgYnV0dG9uOm5vdChbZGlzYWJsZWRdKSwgdGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksIHNlbGVjdCwgZGV0YWlscywgYXVkaW8sIHZpZGVvLCBvYmplY3QsIFtjb250ZW50ZWRpdGFibGU9XCJcIl0sIFtjb250ZW50ZWRpdGFibGU9XCJ0cnVlXCJdLCBbdGFiaW5kZXhdOm5vdChbdGFiaW5kZXg9XCItMVwiXSknO1xyXG4gICAjZGVmYXVsdE9wdGlvbnMgPSB7XHJcbiAgICAgIGZvY3VzVHJhcDogZmFsc2UsXHJcbiAgICAgIGNvbGxhcHNlT25Gb2N1c091dDogZmFsc2UsXHJcbiAgIH07XHJcblxyXG4gICAvLyAjZGVzdHJveWVkID0gZmFsc2U7IC8vINCl0YDQsNC90LjQvCDQuNC90YTQvtGA0LzQsNGG0LjQuCDQviDRgtC+0Lwg0YPQvdC40YfRgtC10LbQtdC9INC70Lgg0L7QsdGK0LXQutGCXHJcblxyXG4gICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuI2RlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcclxuICAgICAgdGhpcy5fJGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9vcHRpb25zLnNlbGVjdG9yKTtcclxuICAgICAgaWYgKHRoaXMuI2NoZWNrKCkpIHRoaXMuI2luaXQoKTtcclxuICAgICAgZWxzZSB0aGlzLl9oYXNFcnJvcnMgPSB0cnVlO1xyXG4gICB9XHJcblxyXG4gICAjY2hlY2soKSB7XHJcbiAgICAgIGlmICghdGhpcy5fJGVsKSB7XHJcbiAgICAgICAgIGNvbnNvbGUuZXJyb3IoYNCd0LUg0L3QsNC50LTQtdC9INC60LvQsNGB0YEgLSAke3RoaXMuX29wdGlvbnMuc2VsZWN0b3J9YCk7XHJcbiAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICAvLyDQn9GA0L7QstC10YDRj9C10YIg0L3QsCDRgdC+0L7RgtCy0LXRgtGB0LLQuNC1INC6INC80LXQtNC40LAg0LfQsNC/0YDQvtGB0YNcclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9vcHRpb25zLm1hdGNoTWVkaWEgIT09IFwidW5kZWZpbmVkXCIgJiYgIXdpbmRvdy5tYXRjaE1lZGlhKHRoaXMuX29wdGlvbnMubWF0Y2hNZWRpYSkubWF0Y2hlcykge1xyXG4gICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0KCkge1xyXG4gICAgICB0aGlzLl8kZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB0aGlzLl9tYWluRWxDbGljayhlKSk7XHJcbiAgICAgIHRoaXMuXyRlbC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4gdGhpcy5fY2hlY2tQcmVzcyhlKSwgdHJ1ZSk7XHJcbiAgIH1cclxuXHJcbiAgIF9pbml0Rm9jdXNhYmxlQ29udGVudCgpIHtcclxuICAgICAgdGhpcy5fJGxhc3RGb2N1c2FibGVFbCA9IHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIl0nKTtcclxuICAgICAgdGhpcy5fZ2V0Rm9jdXNhYmxlQ29udGVudCgpO1xyXG5cclxuICAgICAgLy8g0J/QvtGB0LvQtdC00L3QuNC5INGN0LvQtdC80LXQvdGCINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LIg0YTQvtC60YPRgdC1XHJcbiAgICAgIGlmICh0aGlzLl8kbGFzdEZvY3VzYWJsZUVsKSB0aGlzLl8kbGFzdEZvY3VzYWJsZUVsLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGN0YLQvtGCINGN0LvQtdC80LXQvdGCICjQutC+0YLQvtGA0YvQuSDQv9C+0YHQu9C10LTQvdC40Lkg0LIg0YTQvtC60YPRgdC1KSDQuNC3INGB0L/RgdC40LrQsCDQstGB0LXRhSDRjdC70LXQvNC10L3RgtC+0LIg0YTQvtC60YPRgdCwXHJcbiAgICAgIHRoaXMuXyRmb2N1c2FibGVDb250ZW50ID0gdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQuZmlsdGVyKChlbCkgPT4ge1xyXG4gICAgICAgICBpZiAoZWwgIT09IHRoaXMuXyRsYXN0Rm9jdXNhYmxlRWwpIHJldHVybiBlbDtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgICNmb2N1c1RyYXBBbmRDb2xsYXBzZShlKSB7XHJcbiAgICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlRWwgPSB0aGlzLl8kZm9jdXNhYmxlQ29udGVudFswXTtcclxuICAgICAgY29uc3QgbGFzdEZvY3VzYWJsZUVsID0gdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnRbdGhpcy5fJGZvY3VzYWJsZUNvbnRlbnQubGVuZ3RoIC0gMV07XHJcbiAgICAgIGNvbnN0IG5lZWRMYXN0Rm9jdXNhYmxlRWwgPSB0aGlzLl8kbGFzdEZvY3VzYWJsZUVsO1xyXG5cclxuICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcclxuICAgICAgICAgLyogc2hpZnQgKyB0YWIgKi8gaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0Rm9jdXNhYmxlRWwgfHwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gbmVlZExhc3RGb2N1c2FibGVFbCkge1xyXG4gICAgICAgICAgICBpZiAobmVlZExhc3RGb2N1c2FibGVFbCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBuZWVkTGFzdEZvY3VzYWJsZUVsICYmICF0aGlzLl9vcHRpb25zLmNvbGxhcHNlT25Gb2N1c091dCkgbmVlZExhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuY29sbGFwc2VPbkZvY3VzT3V0KSB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgIGxhc3RGb2N1c2FibGVFbC5mb2N1cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9IC8qIHRhYiAqLyBlbHNlIHtcclxuICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGVFbCB8fCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBuZWVkTGFzdEZvY3VzYWJsZUVsKSB7XHJcbiAgICAgICAgICAgIGlmIChuZWVkTGFzdEZvY3VzYWJsZUVsICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IG5lZWRMYXN0Rm9jdXNhYmxlRWwpIG5lZWRMYXN0Rm9jdXNhYmxlRWwuZm9jdXMoKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgIGlmICh0aGlzLl9vcHRpb25zLmNvbGxhcHNlT25Gb2N1c091dCkgdGhpcy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICBmaXJzdEZvY3VzYWJsZUVsLmZvY3VzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX2NoZWNrUHJlc3MoZSkge1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkVTQykgdGhpcy5jbG9zZSgpO1xyXG5cclxuICAgICAgLy8g0JXRgdC70Lgg0YLRgNC10LHRg9C10YLRgdGPINC30LDRhdCy0LDRgtC40YLRjCDRhNC+0LrRg9GBINC90LAg0Y3Qu9C10LzQtdC90YLQtVxyXG4gICAgICBpZiAoZS5rZXkgPT09IFwiVGFiXCIgfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLlRBQikge1xyXG4gICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5mb2N1c1RyYXAgfHwgdGhpcy5fb3B0aW9ucy5jb2xsYXBzZU9uRm9jdXNPdXQpIHRoaXMuI2ZvY3VzVHJhcEFuZENvbGxhcHNlKGUpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9tYWluRWxDbGljayhlKSB7XHJcbiAgICAgIC8vINCV0YHQu9C4INC/0L4g0LrQvdC+0L/QutC1INC30LDQutGA0YvRgtC40Y9cclxuICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLWNsb3NlPVwidHJ1ZVwiXScpIHx8IGUudGFyZ2V0LmRhdGFzZXQuY2xvc2UpIHtcclxuICAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIF9nZXRGb2N1c2FibGVDb250ZW50KCkge1xyXG4gICAgICB0aGlzLl8kZm9jdXNhYmxlQ29udGVudCA9IFsuLi50aGlzLl8kZWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLiNmb2N1c2FibGVFbGVtZW50cyldO1xyXG4gICB9XHJcblxyXG4gICBvcGVuKCkge1xyXG4gICAgICAvLyBpZiAodGhpcy4jZGVzdHJveWVkKSByZXR1cm4gY29uc29sZS5lcnJvcihg0J7QsdGK0LXQutGCINGBINC60LvQsNGB0YHQvtC8IC0gJHt0aGlzLl9vcHRpb25zLnNlbGVjdG9yfSDRg9C90LjRh9GC0L7QttC10L0g0Lgg0L3QtSDQvNC+0LbQtdGCINCx0YvRgtGMIFwi0J7RgtC60YDRi9GCXCJgKTtcclxuICAgICAgaWYgKHRoaXMuX29wdGlvbnMuYWN0aXZlQ2xhc3MpIHRoaXMuXyRlbC5jbGFzc0xpc3QuYWRkKHRoaXMuX29wdGlvbnMuc2VsZWN0b3Iuc2xpY2UoMSkgKyB0aGlzLl9vcHRpb25zLmFjdGl2ZUNsYXNzKTtcclxuICAgICAgZWxzZSB0aGlzLl8kZWwucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xyXG5cclxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl8kZm9jdXNhYmxlQ29udGVudCA9PT0gXCJ1bmRlZmluZWRcIikgdGhpcy5faW5pdEZvY3VzYWJsZUNvbnRlbnQoKTtcclxuXHJcbiAgICAgIC8vINCU0LvRjyDQt9Cw0L/RgNC10YLQsCDQv9GA0L7QutGA0YPRgtC60Lgg0L7RgdC90L7QstC90L7Qs9C+INC60L7QvdGC0LXQvdGC0LBcclxuICAgICAgd2luZG93LmRpc2FibGVTY3JvbGwoKTtcclxuICAgICAgLy8gZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5hY3RpdmVDbGFzcykgdGhpcy5fJGVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fb3B0aW9ucy5zZWxlY3Rvci5zbGljZSgxKSArIHRoaXMuX29wdGlvbnMuYWN0aXZlQ2xhc3MpO1xyXG4gICAgICBlbHNlIHRoaXMuXyRlbC5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XHJcbiAgICAgIHRoaXMuZGVzdHJveSgpO1xyXG5cclxuICAgICAgLy8g0JTQu9GPINC/0YDQvtC60YDRg9GC0LrQuCDQvtGB0L3QvtCy0L3QvtCz0L4g0LrQvtC90YLQtdC90YLQsFxyXG4gICAgICAvLyBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJcIjtcclxuICAgfVxyXG5cclxuICAgZGVzdHJveSgpIHtcclxuICAgICAgdGhpcy5fJGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4gdGhpcy5fbWFpbkVsQ2xpY2soZSkpO1xyXG4gICAgICB0aGlzLl8kZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgKGUpID0+IHRoaXMuX2NoZWNrUHJlc3MoZSksIHRydWUpO1xyXG4gICAgICB3aW5kb3cuZW5hYmxlU2Nyb2xsKCk7XHJcbiAgICAgIC8vIHRoaXMuI2Rlc3Ryb3llZCA9IHRydWU7XHJcbiAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqICDQn9Cg0JDQktCY0JvQkCDQn9CeINCh0J7Ql9CU0JDQndCY0K4g0JzQntCU0KPQm9CvXHJcbiAqXHJcbiAqIDEuINCY0YHQv9C+0LvRjNC30L7QstCw0YLRjCDQstC80LXRgdGC0L4g0YHQtdC70LXQutGC0YDQviDQs9C+0YLQvtCy0YvQuSDQvtCx0YrQtdC60YIuINCt0YLQviDQt9C90LDRh9C40YIsINGH0YLQviDQvdCwINCy0YXQvtC0XHJcbiAqINC90LXQvtCx0YXQvtC00LjQvNC+INC/0L7Qu9GD0YfQsNGC0Yw6XHJcbiAqIGNvbnN0IGVsID0gZG9jdW1lbnQucWV1cnlTZWxlY3QoXCIuZWxcIilcclxuICpcclxuICogY29uc3Qgbm9kYSA9IE5ldyBOb2RhREsoZWwsIHtvcHRpb25zfSk7XHJcbiAqXHJcbiAqIDIuINCV0YHQu9C4INCyINC/0YDQvtGG0LXRgdGB0LUg0YDQsNCx0L7RgtGLINC80L7QtNGD0LvRjyDRgdC+0LfQtNCw0LXRgtGB0Y8g0L3QvtCy0LDRjyDQvdC+0LTQsCDQsiBodG1sLCDRgtC+INC90LXQvtCx0YXQvtC00LjQvNC+XHJcbiAqINC10LUg0YHQvtC30LTQsNCy0LDRgtGMINC60LDQttC00YvQuSDRgNCw0Lcg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0Lgg0YPQtNCw0LvRj9GC0Ywg0L/RgNC4INC30LDQutGA0YvRgtC40LgsINCy0LrQu9GO0YfQsNGPINCy0YHQtVxyXG4gKiBldmVudCBMaXN0bmVyc1xyXG4gKlxyXG4gKiAzLiDQoNCw0LfQtNC10LvRj9GC0Ywg0YTRg9C90LrRhtC40Lgg0L/QviDQvdCw0L/RgNCw0LLQu9GP0LXQvdC40Y4g0LjQu9C4INGN0LvQtdC80LXQvdGC0LBcclxuICovXHJcblxyXG4vKipcclxuICpcclxuICogVE9ETzpcclxuICogMS4g0L/QtdGA0LXQtNC10LvQsNGC0Ywg0LLRi9Cy0L7QtCDQvtGI0LjQsdC+0Log0YfQtdGA0LXQtyB0aHJvdyBOZXcgRXJyb3JcclxuICovXHJcblxyXG5mdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCkge1xyXG4gICByZXR1cm4gXCJvbnRvdWNoc3RhcnRcIiBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMCB8fCBuYXZpZ2F0b3IubXNNYXhUb3VjaFBvaW50cyA+IDA7XHJcbn1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRgNGD0LfQutCwINC60LvQsNGB0YHQsCDQutCw0YHRgtC+0LzQuNC30LDRhtC40LggU2VsZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvKipcclxuICpcclxuICog0KHRgtGA0YPQutGC0LAg0L/QviDRgdC+0LfQtNCw0L3QuNGOINC60LDRgdGC0L7QvNC90L7Qs9C+IHNlbGVjdFxyXG4gKlxyXG4gKiDQlNC70Y8g0LzQvtCx0LjQu9GM0L3Ri9GFINCy0LXRgNGB0LjQuSDQtNC+0LvQttC10L0g0L7RgtGA0LDQttCw0YLRjNGB0Y8g0L3QsNGC0LjQstC90YvQuSBzZWxlY3QsINC00LvRjyDQv9C6INC60LDRgdGC0L7QvNC90YvQuVxyXG4gKlxyXG4gKiDQlNC70Y8g0L7RgtGB0LvQtdC20LjQstCw0L3QuNGPINC40LfQvNC10L3QtdC90LjQuSDQsiDQutCw0YHRgtC+0LzQvdC+0Lwgc2VsZWN0INC80L7QttC90L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMOiBhZGRFdmVudExpc3RlbmVyKFwibWVudWNoYW5nZVwiLCB7fSlcclxuICpcclxuICovXHJcblxyXG5jbGFzcyBTZWxlY3RESyB7XHJcbiAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy5jb25zdHJ1Y3Rvck9wdGlvbnMgPSBvcHRpb25zO1xyXG4gICAgICB0aGlzLmluaXQoKTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgIHRoaXMuX0tFWVMgPSB7XHJcbiAgICAgICAgIEVTQzogMjcsXHJcbiAgICAgICAgIFNQQUNFOiAzMixcclxuICAgICAgICAgRU5URVI6IDEzLFxyXG4gICAgICAgICBUQUI6IDksXHJcbiAgICAgICAgIEFSUk9XX0xFRlQ6IDM3LFxyXG4gICAgICAgICBBUlJPV19VUDogMzgsXHJcbiAgICAgICAgIEFSUk9XX1JJR0hUOiAzOSxcclxuICAgICAgICAgQVJST1dfRE9XTjogNDAsXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuX2RlZmF1bHRPcHRpb25zID0ge1xyXG4gICAgICAgICBzZWxlY3RDbGFzc05hbWU6IFwic2VsZWN0XCIsXHJcbiAgICAgIH07XHJcbiAgICAgIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuX2RlZmF1bHRPcHRpb25zLCB0aGlzLmNvbnN0cnVjdG9yT3B0aW9ucyk7XHJcbiAgICAgIHRoaXMuX3NlbGVjdE11bHRpcGxlID0gW107XHJcblxyXG4gICAgICB0aGlzLl8kc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJzZWxlY3RcIik7XHJcbiAgICAgIGlmICghdGhpcy5fJHNlbGVjdHMpIHJldHVybjtcclxuXHJcbiAgICAgIHRoaXMuXyRzZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaSkgPT4ge1xyXG4gICAgICAgICB0aGlzLl9zZWxlY3RNdWx0aXBsZVtpXSA9IHNlbGVjdC5oYXNBdHRyaWJ1dGUoXCJtdWx0aXBsZVwiKTtcclxuICAgICAgICAgdGhpcy5fbWFrZUN1c3RvbShzZWxlY3QsIGkpO1xyXG5cclxuICAgICAgICAgc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGUpID0+IHRoaXMuX3NldEN1c3RvbVZhbHVlKGUsIGkpKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuX2luaXRDdXN0b20oKTtcclxuICAgICAgdGhpcy5tZW51RXZlbnQgPSBuZXcgRXZlbnQoXCJtZW51Y2hhbmdlXCIpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX21ha2VDdXN0b20oc2VsZWN0LCBpKSB7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0UGFyZW50ID0gc2VsZWN0LnBhcmVudEVsZW1lbnQ7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0T3B0aW9ucyA9IFsuLi5zZWxlY3QucXVlcnlTZWxlY3RvckFsbChcIm9wdGlvblwiKV07XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0TWVudSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGNvbnN0IF8kc2VsZWN0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgY29uc3QgXyRzZWxlY3RQb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiKTtcclxuXHJcbiAgICAgIGNvbnN0IF9zZWxlY3RlZE9wdGlvbiA9IHtcclxuICAgICAgICAgdmFsdWU6IF8kc2VsZWN0T3B0aW9uc1swXS5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgdGV4dDogXyRzZWxlY3RPcHRpb25zWzBdLmlubmVySFRNTCxcclxuICAgICAgfTtcclxuXHJcbiAgICAgIF8kc2VsZWN0UGFyZW50LmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9YCk7XHJcbiAgICAgIHNlbGVjdC5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fbmF0aXZlYCk7XHJcbiAgICAgIF8kc2VsZWN0TWVudS5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fbWVudWApO1xyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fYnV0dG9uYCk7XHJcbiAgICAgIF8kc2VsZWN0UG9wdXAuY2xhc3NMaXN0LmFkZChgJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX3BvcHVwYCk7XHJcblxyXG4gICAgICBfJHNlbGVjdE9wdGlvbnMuZm9yRWFjaCgob3B0aW9uLCBsKSA9PiB7XHJcbiAgICAgICAgIGNvbnN0IF8kc2VsZWN0T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICAgICBfJHNlbGVjdE9wdGlvbi50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICBpZiAodGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIHtcclxuICAgICAgICAgICAgXyRzZWxlY3RPcHRpb24uc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcIm1lbnVpdGVtY2hlY2tib3hcIik7XHJcbiAgICAgICAgICAgIF8kc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfJHNlbGVjdE9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwibWVudWl0ZW1cIik7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIGlmIChsID09PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbaV0pIF8kc2VsZWN0T3B0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIF8kc2VsZWN0T3B0aW9uLnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgaWYgKG9wdGlvbi5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSAmJiBpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIF9zZWxlY3RlZE9wdGlvbi52YWx1ZSA9IG9wdGlvbi5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKTtcclxuICAgICAgICAgICAgX3NlbGVjdGVkT3B0aW9uLnRleHQgPSBvcHRpb24uaW5uZXJIVE1MO1xyXG4gICAgICAgICAgICBfJHNlbGVjdE9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgXCJ0cnVlXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RNdWx0aXBsZVtpXSkge1xyXG4gICAgICAgICAgICAgICBfJHNlbGVjdE9wdGlvbi50YWJJbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgIF8kc2VsZWN0UG9wdXAuZmlyc3RDaGlsZC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIik7XHJcbiAgICAgICAgICAgICAgIF8kc2VsZWN0UG9wdXAuZmlyc3RDaGlsZC50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIF8kc2VsZWN0T3B0aW9uLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9X19vcHRpb25gKTtcclxuICAgICAgICAgXyRzZWxlY3RPcHRpb24uc2V0QXR0cmlidXRlKFwiZGF0YS12YWx1ZVwiLCBvcHRpb24uZ2V0QXR0cmlidXRlKFwidmFsdWVcIikpO1xyXG4gICAgICAgICBfJHNlbGVjdE9wdGlvbi5pbm5lckhUTUwgPSBvcHRpb24uaW5uZXJIVE1MO1xyXG4gICAgICAgICBfJHNlbGVjdFBvcHVwLmFwcGVuZENoaWxkKF8kc2VsZWN0T3B0aW9uKTtcclxuICAgICAgICAgLy8g0KLRgNGD0LTQvtC10LzQutC+INC4INGC0YDQtdCx0YPQtdGCINC+0YLRgdC70LXQttC40LLQsNC90LjRjyDQv9C+INGA0L7QtNC40YLQtdGOLCDQvdC+IGJsdXIg0LHQtdC3INGE0L7QutGD0YHQuNGA0L7QstC60Lgg0L3QtSDRgNCw0LHQvtGC0LDQtdGCXHJcbiAgICAgICAgIF8kc2VsZWN0T3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIChlKSA9PiB0aGlzLl9oYW5kbGVCbHVyKGUsIGkpKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5pbm5lckhUTUwgPSBfc2VsZWN0ZWRPcHRpb24udGV4dDtcclxuXHJcbiAgICAgIC8vLS0tLdCh0YLQuNC70LjQt9Cw0YbQuNGPLS0tLS1cclxuICAgICAgaWYgKHNlbGVjdC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSkgXyRzZWxlY3RCdXR0b24uc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJcIik7XHJcbiAgICAgIGlmICh0aGlzLl9zZWxlY3RNdWx0aXBsZVtpXSkgXyRzZWxlY3RNZW51LnNldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIsIFwiXCIpO1xyXG4gICAgICBpZiAoc2VsZWN0Lmhhc0F0dHJpYnV0ZShcInNpemVcIikpIF8kc2VsZWN0TWVudS5zdHlsZS5zZXRQcm9wZXJ0eShcIi0tc2l6ZVwiLCBzZWxlY3QuZ2V0QXR0cmlidXRlKFwic2l6ZVwiKSk7XHJcbiAgICAgIGlmICghc2VsZWN0Lmhhc0F0dHJpYnV0ZShcIm9wZW5cIikgJiYgIXRoaXMuX3NlbGVjdE11bHRpcGxlW2ldKSBfJHNlbGVjdFBvcHVwLmhpZGRlbiA9IHRydWU7XHJcblxyXG4gICAgICAvLy0tLS1BUklBLS0tLS0tLS0tLS1cclxuICAgICAgXyRzZWxlY3RNZW51LnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJtZW51XCIpO1xyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIFwiYnV0dG9uXCIpO1xyXG4gICAgICBfJHNlbGVjdEJ1dHRvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgIF8kc2VsZWN0QnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtaGFzcG9wdXBcIiwgXCJ0cnVlXCIpO1xyXG5cclxuICAgICAgLy8tLS0tRXZlbnRzLS0tLS0tLS0tXHJcbiAgICAgIF8kc2VsZWN0TWVudS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHRoaXMuX2NsaWNrKGUsIGkpKTtcclxuICAgICAgXyRzZWxlY3RNZW51LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIChlKSA9PiB0aGlzLl9jaGVja1ByZXNzKGUsIGkpLCB0cnVlKTtcclxuXHJcbiAgICAgIF8kc2VsZWN0TWVudS5hcHBlbmRDaGlsZChfJHNlbGVjdEJ1dHRvbik7XHJcbiAgICAgIF8kc2VsZWN0TWVudS5hcHBlbmRDaGlsZChfJHNlbGVjdFBvcHVwKTtcclxuICAgICAgXyRzZWxlY3RQYXJlbnQuYXBwZW5kQ2hpbGQoXyRzZWxlY3RNZW51KTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9pbml0Q3VzdG9tKCkge1xyXG4gICAgICAvLyB0aGlzLl8kc2VsZWN0TGlzdCA9IFsuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX21lbnVgKV07XHJcbiAgICAgIHRoaXMuXyRwb3B1cHMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9X19wb3B1cGApXTtcclxuICAgICAgdGhpcy5fJGJ1dHRvbnMgPSBbLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5fb3B0aW9ucy5zZWxlY3RDbGFzc05hbWV9X19idXR0b25gKV07XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfaGFuZGxlQmx1cihlLCBzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgaWYgKHRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHJldHVybjtcclxuICAgICAgY29uc3QgY3VycmVudFRhcmdldCA9IGUuY3VycmVudFRhcmdldDtcclxuICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICAgaWYgKCFjdXJyZW50VGFyZ2V0LmNsb3Nlc3QoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fbWVudWApLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlU2VsZWN0KHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfY2xpY2soZSwgc2VsZWN0TnVtYmVyID0gbnVsbCkge1xyXG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKGAke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fb3B0aW9uYCkpIHtcclxuICAgICAgICAgdGhpcy5fY2hhbmdlT3B0aW9uQnlDbGljayhlLnRhcmdldCwgc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RNdWx0aXBsZVtzZWxlY3ROdW1iZXJdKSB0aGlzLl9jbG9zZVNlbGVjdChzZWxlY3ROdW1iZXIpO1xyXG4gICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhgJHt0aGlzLl9vcHRpb25zLnNlbGVjdENsYXNzTmFtZX1fX2J1dHRvbmApKSB0aGlzLnRvZ2dsZU9wZW5TZWxlY3Qoc2VsZWN0TnVtYmVyKTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9jaGVja1ByZXNzKGUsIHNlbGVjdE51bWJlcikge1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkVTQyAmJiAhdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkge1xyXG4gICAgICAgICB0aGlzLl9jbG9zZVNlbGVjdChzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuQVJST1dfVVAgfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX0xFRlQpIHtcclxuICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICB0aGlzLl9jaGFuZ2VPcHRpb25Ub1ByZXYoc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX0RPV04gfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX1JJR0hUKSB7XHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgdGhpcy5fY2hhbmdlT3B0aW9uVG9OZXh0KHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g0JXRgdC70Lgg0L7RgtC60YDRi9GCIHNlbGVjdFxyXG4gICAgICBpZiAoIXRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5oYXNBdHRyaWJ1dGUoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5FTlRFUikge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkgdGhpcy5fY2xvc2VTZWxlY3Qoc2VsZWN0TnVtYmVyKTtcclxuICAgICAgICAgICAgZWxzZSB0aGlzLl9jaGFuZ2VPcHRpb25CeUNsaWNrKGUudGFyZ2V0LCBzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICAvL3NlbGVjdCBmdW5jXHJcbiAgIHN0YXRpYyB0b2dnbGVPcGVuU2VsZWN0KHNlbGVjdE51bWJlcikge1xyXG4gICAgICBpZiAodGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLmhhc0F0dHJpYnV0ZShcImhpZGRlblwiKSkgdGhpcy5fb3BlblNlbGVjdChzZWxlY3ROdW1iZXIpO1xyXG4gICAgICBlbHNlIHRoaXMuX2Nsb3NlU2VsZWN0KHNlbGVjdE51bWJlcik7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfb3BlblNlbGVjdChzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLmhpZGRlbiA9IGZhbHNlO1xyXG4gICAgICB0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0ucHJldmlvdXNTaWJsaW5nLnNldEF0dHJpYnV0ZShcImFyaWEtZXhwYW5kZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICB0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0ucXVlcnlTZWxlY3RvcignW3RhYmluZGV4PVwiMFwiXScpLmZvY3VzKHsgZm9jdXNWaXNpYmxlOiB0cnVlIH0pO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX2Nsb3NlU2VsZWN0KHNlbGVjdE51bWJlcikge1xyXG4gICAgICB0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0uaGlkZGVuID0gdHJ1ZTtcclxuICAgICAgdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnByZXZpb3VzU2libGluZy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgIHRoaXMuXyRwb3B1cHNbc2VsZWN0TnVtYmVyXS5wcmV2aW91c1NpYmxpbmcuZm9jdXMoeyBmb2N1c1Zpc2libGU6IHRydWUgfSk7XHJcbiAgIH1cclxuXHJcbiAgIC8vIGJ0biBmdW5jXHJcbiAgIHN0YXRpYyBfc2V0QnV0dG9uQnlPcHRpb24ob3B0aW9uLCBzZWxlY3ROdW1iZXIpIHtcclxuICAgICAgdGhpcy5fJGJ1dHRvbnNbc2VsZWN0TnVtYmVyXS5pbm5lclRleHQgPSBvcHRpb24uaW5uZXJUZXh0O1xyXG4gICB9XHJcblxyXG4gICAvLyBvcHRpb24gZnVuY1xyXG4gICBzdGF0aWMgX2dldEN1cnJlbnRPcHRpb24oc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLl8kcG9wdXBzW3NlbGVjdE51bWJlcl0ucXVlcnlTZWxlY3RvcignW3RhYmluZGV4PVwiMFwiXScpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX2dldE9wdGlvbnNWYWx1ZXMoc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbLi4udGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fb3B0aW9uYCldO1xyXG4gICAgICByZXR1cm4gb3B0aW9ucy5tYXAoKG9wdGlvbikgPT4ge1xyXG4gICAgICAgICByZXR1cm4gb3B0aW9uLmdldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiKTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfcmVzZXRPcHRpb24ob3B0aW9uKSB7XHJcbiAgICAgIG9wdGlvbi50YWJJbmRleCA9IC0xO1xyXG4gICAgICBvcHRpb24ucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpO1xyXG4gICB9XHJcblxyXG4gICBzdGF0aWMgX3NldE9wdGlvbihvcHRpb24pIHtcclxuICAgICAgb3B0aW9uLnRhYkluZGV4ID0gMDtcclxuICAgICAgb3B0aW9uLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBcInRydWVcIik7XHJcbiAgICAgIG9wdGlvbi5mb2N1cyh7IGZvY3VzVmlzaWJsZTogdHJ1ZSB9KTtcclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9jaGFuZ2VPcHRpb25CeUNsaWNrKG9wdGlvbiwgc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IF8kY3VycmVudE9wdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRPcHRpb24oc2VsZWN0TnVtYmVyKTtcclxuICAgICAgaWYgKCF0aGlzLl9zZWxlY3RNdWx0aXBsZVtzZWxlY3ROdW1iZXJdKSB7XHJcbiAgICAgICAgIHRoaXMuX3Jlc2V0T3B0aW9uKF8kY3VycmVudE9wdGlvbik7XHJcbiAgICAgICAgIHRoaXMuX3NldE9wdGlvbihvcHRpb24pO1xyXG5cclxuICAgICAgICAgdGhpcy5fc2V0QnV0dG9uQnlPcHRpb24ob3B0aW9uLCBzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICB0aGlzLl9zZXROYXRpdmVWYWx1ZShzZWxlY3ROdW1iZXIsIG9wdGlvbi5kYXRhc2V0LnZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICAvLyDQtdGB0LvQuCBtdWx0aXBsZVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAgY29uc3QgYXJpYUNoZWNrZWQgPSBvcHRpb24uZ2V0QXR0cmlidXRlKFwiYXJpYS1jaGVja2VkXCIpID09PSBcInRydWVcIiA/IGZhbHNlIDogdHJ1ZTtcclxuICAgICAgICAgLy8gXyRjdXJyZW50T3B0aW9uLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgIG9wdGlvbi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWNoZWNrZWRcIiwgYXJpYUNoZWNrZWQpO1xyXG4gICAgICAgICAvLyBvcHRpb24udGFiSW5kZXggPSAwO1xyXG4gICAgICAgICB0aGlzLl9zZXROYXRpdmVWYWx1ZShzZWxlY3ROdW1iZXIsIHRoaXMuX2dldE9wdGlvbnNWYWx1ZXMoc2VsZWN0TnVtYmVyKSk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9jaGFuZ2VPcHRpb25Ub05leHQoc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IF8kY3VycmVudE9wdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRPcHRpb24oc2VsZWN0TnVtYmVyKTtcclxuICAgICAgaWYgKF8kY3VycmVudE9wdGlvbi5uZXh0U2libGluZyAhPT0gbnVsbCkge1xyXG4gICAgICAgICBpZiAoIXRoaXMuX3NlbGVjdE11bHRpcGxlW3NlbGVjdE51bWJlcl0pIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzZXRPcHRpb24oXyRjdXJyZW50T3B0aW9uKTtcclxuICAgICAgICAgICAgdGhpcy5fc2V0T3B0aW9uKF8kY3VycmVudE9wdGlvbi5uZXh0U2libGluZyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9zZXRCdXR0b25CeU9wdGlvbihfJGN1cnJlbnRPcHRpb24ubmV4dFNpYmxpbmcsIHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE5hdGl2ZVZhbHVlKHNlbGVjdE51bWJlciwgXyRjdXJyZW50T3B0aW9uLm5leHRTaWJsaW5nLmRhdGFzZXQudmFsdWUpO1xyXG4gICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBfJGN1cnJlbnRPcHRpb24udGFiSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgXyRjdXJyZW50T3B0aW9uLm5leHRTaWJsaW5nLnRhYkluZGV4ID0gMDtcclxuICAgICAgICAgICAgXyRjdXJyZW50T3B0aW9uLm5leHRTaWJsaW5nLmZvY3VzKHsgZm9jdXNWaXNpYmxlOiB0cnVlIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgc3RhdGljIF9jaGFuZ2VPcHRpb25Ub1ByZXYoc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGNvbnN0IF8kY3VycmVudE9wdGlvbiA9IHRoaXMuX2dldEN1cnJlbnRPcHRpb24oc2VsZWN0TnVtYmVyKTtcclxuICAgICAgaWYgKF8kY3VycmVudE9wdGlvbi5wcmV2aW91c1NpYmxpbmcgIT09IG51bGwpIHtcclxuICAgICAgICAgaWYgKCF0aGlzLl9zZWxlY3RNdWx0aXBsZVtzZWxlY3ROdW1iZXJdKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Jlc2V0T3B0aW9uKF8kY3VycmVudE9wdGlvbik7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE9wdGlvbihfJGN1cnJlbnRPcHRpb24ucHJldmlvdXNTaWJsaW5nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3NldEJ1dHRvbkJ5T3B0aW9uKF8kY3VycmVudE9wdGlvbi5wcmV2aW91c1NpYmxpbmcsIHNlbGVjdE51bWJlcik7XHJcbiAgICAgICAgICAgIHRoaXMuX3NldE5hdGl2ZVZhbHVlKHNlbGVjdE51bWJlciwgXyRjdXJyZW50T3B0aW9uLnByZXZpb3VzU2libGluZy5kYXRhc2V0LnZhbHVlKTtcclxuICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgXyRjdXJyZW50T3B0aW9uLnRhYkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIF8kY3VycmVudE9wdGlvbi5wcmV2aW91c1NpYmxpbmcudGFiSW5kZXggPSAwO1xyXG4gICAgICAgICAgICBfJGN1cnJlbnRPcHRpb24ucHJldmlvdXNTaWJsaW5nLmZvY3VzKHsgZm9jdXNWaXNpYmxlOiB0cnVlIH0pO1xyXG4gICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgLy9uYXRpdmUgc2VsZWN0IGZ1bmNcclxuICAgc3RhdGljIF9zZXROYXRpdmVWYWx1ZShzZWxlY3ROdW1iZXIsIHZhbHVlKSB7XHJcbiAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkgdGhpcy5fJHNlbGVjdHNbc2VsZWN0TnVtYmVyXS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAvLyDQtdGB0LvQuCBtdWx0aXBsZVxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAgY29uc3QgbmF0aXZlT3B0aW9ucyA9IHRoaXMuXyRzZWxlY3RzW3NlbGVjdE51bWJlcl0ub3B0aW9ucztcclxuXHJcbiAgICAgICAgIHZhbHVlLmZvckVhY2goKG9wdGlvbkN1c3RvbVZhbHVlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIG9wdGlvbkN1c3RvbVZhbHVlID0gb3B0aW9uQ3VzdG9tVmFsdWUgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICBuYXRpdmVPcHRpb25zW2ldLnNlbGVjdGVkID0gb3B0aW9uQ3VzdG9tVmFsdWU7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuXyRzZWxlY3RzW3NlbGVjdE51bWJlcl0uZGlzcGF0Y2hFdmVudCh0aGlzLm1lbnVFdmVudCk7XHJcbiAgIH1cclxuXHJcbiAgIHN0YXRpYyBfc2V0Q3VzdG9tVmFsdWUoZSwgc2VsZWN0TnVtYmVyKSB7XHJcbiAgICAgIGlmICghdGhpcy5fc2VsZWN0TXVsdGlwbGVbc2VsZWN0TnVtYmVyXSkge1xyXG4gICAgICAgICBjb25zdCB2YWx1ZSA9IGUuY3VycmVudFRhcmdldC52YWx1ZTtcclxuICAgICAgICAgY29uc3QgXyRjdXJyZW50T3B0aW9uID0gdGhpcy5fZ2V0Q3VycmVudE9wdGlvbihzZWxlY3ROdW1iZXIpO1xyXG4gICAgICAgICBjb25zdCBfJHRvU2V0T3B0aW9uID0gdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLXZhbHVlPVwiJHt2YWx1ZX1cIl1gKTtcclxuICAgICAgICAgdGhpcy5fcmVzZXRPcHRpb24oXyRjdXJyZW50T3B0aW9uKTtcclxuICAgICAgICAgdGhpcy5fc2V0T3B0aW9uKF8kdG9TZXRPcHRpb24pO1xyXG4gICAgICAgICB0aGlzLl9zZXRCdXR0b25CeU9wdGlvbihfJHRvU2V0T3B0aW9uLCBzZWxlY3ROdW1iZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICBjb25zdCBuYXRpdmVPcHRpb25zID0gdGhpcy5fJHNlbGVjdHNbc2VsZWN0TnVtYmVyXS5vcHRpb25zO1xyXG4gICAgICAgICBjb25zdCBjdXN0b21PcHRpb25zID0gdGhpcy5fJHBvcHVwc1tzZWxlY3ROdW1iZXJdLnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuX29wdGlvbnMuc2VsZWN0Q2xhc3NOYW1lfV9fb3B0aW9uYCk7XHJcbiAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbmF0aXZlT3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjdXN0b21PcHRpb25zW2ldLnNldEF0dHJpYnV0ZShcImFyaWEtY2hlY2tlZFwiLCBuYXRpdmVPcHRpb25zW2ldLnNlbGVjdGVkKTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxufVxyXG5cclxuU2VsZWN0REsuaW5pdCgpO1xyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t0JfQsNCz0YDRg9C30LrQsCDQutC70LDRgdGB0LAgXCLQnNC+0LTQsNC70YzQvdGL0YUg0L7QutC+0L1cIi0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLypcclxuXHJcbiAgINCf0L7Rj9Cy0LvRj9C10Y7RidC40LXRgdGPINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviAo0Y3RhNGE0LXQutGC0Ysg0L/QvtGP0LLQu9C10L3QuNGPINC90LDRgdGC0YDQsNC40LLQsNGO0YLRgdGPINC00L7Qv9C+0LvQvdC40YLQtdC70YzQvdC+KS5cclxuICAg0JLQvtC30LzQvtC20L3QviDQuNGB0L/QvtC70YzQt9C+0LLQsNGC0Ywg0LTQu9GPINC+0YHQvdC+0LLQvdC+0Lkg0L3QsNCy0LPQuNCw0YbQuNC4INC90LAg0YHQsNC50YLQtSDQuCDQu9GO0LHRi9GFINC00YDRg9Cz0LjRhSDQvNC10L3RjiDQuNC70Lgg0LzQvtC00LDQu9GM0L3Ri9GFINC+0LrQvtC9LlxyXG4gICBcclxuICAgIdC90LXRgiDRgNC10LDQu9C40LfQsNGG0LjQuCEgZGF0YS1zZWxlY3QtZmlyc3Q9XCJ0cnVlXCIgLSDQvdC10L7QsdGF0L7QtNC40LzQviDRg9GB0YLQsNC90L7QstC40YLRjCDQvdCwINGN0LvQtdC80LXQvdGCLCDQutC+0YLQvtGA0YvQuSDQtNC+0LvQttC9INC/0L7Qv9Cw0YHRgtGMINCyINGE0L7QutGD0YEg0L/RgNC4INC+0YLQutGA0YvRgtC40Lgg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LBcclxuICAgXHJcblxyXG4gICBkYXRhLXNlbGVjdC1sYXN0PVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LTQvtC70LbQvSDQv9C+0L/QsNGB0YLRjCDQsiDRhNC+0LrRg9GBINCyINGB0LDQvNGL0Lkg0L/QvtGB0LvQtdC00L3QuNC5INC80L7QvNC10L3RglxyXG4gICBkYXRhLWNsb3NlPVwidHJ1ZVwiIC0g0L3QtdC+0LHRhdC+0LTQuNC80L4g0YPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QsCDRjdC70LXQvNC10L3Rgiwg0LrQvtGC0L7RgNGL0Lkg0LHRg9C00LXRgiDQt9Cw0LrRgNGL0LLQsNGC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+ICjRgtC+0LvRjNC60L4g0L3QsCDRjdC70LXQvNC10L3RgtGLINCy0L3Rg9GC0YDQuCDQvtC60L3QsClcclxuXHJcblxyXG4gICDQntCx0YrQtdC60YIg0LzQvtC00LDQu9GM0L3QvtCz0L4g0L7QutC90LA6XHJcbiAgIHNlbGVjdG9yIC0g0YHQtdC70LXQutGC0L7RgCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsCDRgSDQutC+0YLQvtGA0YvQvCDQsdGD0LTQtdC8INGA0LDQsdC+0YLQsNGC0YxcclxuICAgb3BlbkJ0bnNTZWxlY3RvciAtINC60L3QvtC/0LrQuCDQvtGC0LrRgNGL0YLQuNGPICjQvNC+0LPRg9GCINCx0YvRgtGMINGD0LrQsNC30LDQvdGLINCy0LLQuNC00LUg0LzQsNGB0YHQuNCy0LApXHJcbiAgIGNvbnRlbnRDbGFzcyAtINC60LvQsNGB0YEsINC60L7RgtC+0YDRi9C5INC40YHQv9C+0LvRjNC30YPQtdGC0YHRjyDQtNC70Y8g0L7QsdC10YDRgtC60Lgg0YHQvtC00LXRgNC20LjQvNC+0LPQviBcImNvbnRlbnRcIixcclxuICAgbWF0Y2hNZWRpYSAtINC80LXQtNC40LAg0LfQsNC/0YDQvtGBLCDQsiDQutC+0YLQvtGA0L7QvCDQtNC+0LvQttC10L0g0LfQsNC/0YPRgdC60LDRgtGM0YHRjyDQvdC+0LLRi9C5INC60LvQsNGB0YEgKG5vbmUpXHJcbiAgIGRpYWxvZ0Z1bGxTY3JlZW4gLSDRg9C60LDQt9GL0LLQsNC10YIg0L7RgtC60YDRi9Cy0LDRgtGMINC70Lgg0LTQuNCw0LvQvtCzIChkaWFsb2cpINC90LAg0LLQtdGB0Ywg0Y3QutCw0YDQvSAoZGVmYXVsdDogdHJ1ZSlcclxuXHJcbiAgIGZvY3VzVHJhcCAtINGC0YDQtdCx0YPQtdGC0YHRjyDQu9C4INC/0LXRgNC10YXQvtC00LjRgtGMINGC0LDQsdC+0Lwg0YLQvtC70YzQutC+INC/0L4g0LzQvtC00LDQu9GM0L3QvtC80YMg0L7QutC90YMgKGRlZmF1bHQ6IGZhbHNlKSDQvdC1INGA0LDQsdC+0YLQsNC10YIg0YEgY29sbGFwc2VPbkZvY3VzT3V0ID0gdHJ1ZSBcclxuICAgY29sbGFwc2VPbkZvY3VzT3V0IC0g0YLRgNC10LHRg9C10YLRgdGPINC70Lgg0LfQsNC60YDRi9Cy0LDRgtGMINC+0LrQvdC+INC/0YDQuCDQv9C+0YLQtdGA0Lgg0YTQvtC60YPRgdCwIChkZWZhdWx0OiBmYWxzZSlcclxuICAgXHJcbiAgIG92ZXJsYXkgLSDRgtGA0LXQsdGD0LXRgtGB0Y8g0LvQuCDQvtCy0LXRgNC70LXQuSAoZGVmYXVsdDogdHJ1ZSlcclxuICAgb3ZhcmxheUNsYXNzIC0g0LrQu9Cw0YHRgSDQtNC70Y8g0L7QstC10YDQu9GN0Y8gKGRlZmF1bHQ6IFwib3ZhcmxheVwiKVxyXG4gICBvdmVybGF5QmcgLSDRhtCy0LXRgiBiZyAoZGVmdWx0OiBcInJnYmEoMCwwLDAsIDAuNSlcIilcclxuXHJcbiAgIG9uT3BlbigpIC0g0KTRg9C90LrRhtC40Y8g0L/RgNC4INC+0YLQutGA0YvRgtC40LhcclxuICAgb25DbG9zZSgpIC0g0KTRg9C90LrRhtC40Y8g0L/RgNC4INC30LDQutGA0YvRgtC40LhcclxuICAgXHJcbiAgIG1vZGFsID0gbmV3IE1vZGFsREsoe1xyXG4gICAgICBzZWxlY3RvcjogXCIjbW9kYWxcIixcclxuICAgICAgb3BlbkJ0bnNTZWxlY3RvcjogW1wiLmJ0bi0tb3BlblwiXSxcclxuICAgICAgY29udGVudENsYXNzOiBcImNvbnRlbnRcIixcclxuICAgICAgbWF0aGNNZWRpYTogJyhtYXgtd2lkdGg6IDUwcmVtKScsXHJcbiAgICAgIGRpYWxvZ0Z1bGxTY3JlZW46IHRydWUsXHJcbiAgICAgIGZvY3VzVHJhcDogdHJ1ZSwgLy8g0KLRgNC10LHRg9C10YLRgdGPINC70Lgg0L/QtdGA0LXQvNC10YnQsNGC0YzRgdGPINGC0LDQsdC+0Lwg0YLQvtC70YzQutC+INCy0L3Rg9GC0YDQuCDQvtCx0YrQtdC60YLQsCAoZGVmYXVsdDogZmFsc2UpXHJcbiAgICAgIGNvbGxhcHNlT25Gb2N1c091dDogdHJ1ZSwgLy8g0KLRgNC10LHRg9C10YLRgdGPINC70Lgg0LfQsNC60YDRi9Cy0LDRgtGMINC/0YDQuCDQv9C+0YLQtdGA0Lgg0YTQvtC60YPRgdCwXHJcbiAgICAgIG92YXJsYXlDbGFzczogXCJvdmVybGF5XCIsXHJcbiAgICAgIG92ZXJsYXk6IHRydWUsXHJcbiAgICAgIG92ZXJsYXlCZzogXCJyZ2JhKDAsMCwwLCAwLjUpXCIsXHJcbiAgICAgIG9uT3BlbigpIHtcclxuICAgICAgICAgY29uc29sZS5sb2coXCJtb2RhbCBvcGVuaW5nXCIpO1xyXG4gICAgICB9LFxyXG4gICAgICBvbkNsb3NlKCkge1xyXG4gICAgICAgICBjb25zb2xlLmxvZyhcIm1vZGFsIGNsb3NpbmdcIik7XHJcbiAgICAgIH0sXHJcbiAgIH0pO1xyXG5cclxuICAg0KDQtdCw0LvQuNC30LDRhtC40Y8g0LIgaHRtbCDQtNC70Y8gZGlhbG9nXHJcbiAgIDxkaWFsb2cgY2xhc3M9XCJtb2RhbFwiIGlkPVwibW9kYWxcIj5cclxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0bi1tb2RhbC1jbG9zZVwiIGRhdGEtY2xvc2U9XCJ0cnVlXCI+0YU8L2J1dHRvbj5cclxuICAgICAgPHA+0K3RgtC+INC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvjwvcD5cclxuICAgPC9kaWFsb2c+XHJcblxyXG4gICDQoNC10LDQu9C40LfQsNGG0LjRjyDQsiBodG1sIFxyXG4gICA8ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIm1vZGFsXCIgaGlkZGVuPlxyXG4gICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuLW1vZGFsLWNsb3NlXCIgZGF0YS1jbG9zZT1cInRydWVcIj7RhTwvYnV0dG9uPlxyXG4gICAgICA8cD7QrdGC0L4g0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+PC9wPlxyXG4gICA8L2Rpdj5cclxuICAgIFxyXG5cclxuICAgVE9ETzpcclxuICAg0JrQvtCz0LTQsCDQtNC+0LHQsNCy0LvRjiBhcmlhINCw0YLRgNC40LHRg9GC0YssINGC0L4g0LjRgdC/0L7Qu9GM0LfQvtCy0LDRgtGMINC40YUg0LLQvNC10YHRgtC+INC60LvQsNGB0YHQsCBhY3RpdmVcclxuICAgYXJpYSDRg9C60LDQt9GL0LLQsNGC0Ywg0YfRgtC+INC+0LrQvdC+INC/0L7Rj9Cy0LjQu9C+0YHRjFxyXG4qL1xyXG5cclxuY2xhc3MgTW9kYWxESyBleHRlbmRzIE5vZGFESyB7XHJcbiAgICNkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgZGlhbG9nRnVsbFNjcmVlbjogdHJ1ZSxcclxuICAgICAgY29udGVudENsYXNzOiBcImNvbnRlbnRcIixcclxuICAgICAgb3ZlcmxheTogdHJ1ZSxcclxuICAgICAgb3ZhcmxheUNsYXNzOiBcIm92ZXJsYXlcIixcclxuICAgICAgb3ZlcmxheUJnOiBcInJnYmEoMCwwLDAsIDAuNSlcIixcclxuICAgfTtcclxuICAgIyRhY3RpdmVPcGVuQnRuOyAvLyDQpdGA0LDQvdC40Lwg0L3QvtC00YMg0LrQvdC+0L/QutC4LCDQutC+0YLQvtGA0L7QuSDQvtGC0LrRgNGL0LvQuCwg0LTQu9GPINC/0LXRgNC10LLQvtC00LAg0L3QsCDQvdC10LUg0YTQvtC60YPRgdC1LCDQutC+0LPQtCDQt9Cw0LrRgNC+0LXQvCDQvtC60L3QvlxyXG4gICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgIHN1cGVyKG9wdGlvbnMpO1xyXG4gICAgICBpZiAodGhpcy4jY2hlY2soKSkge1xyXG4gICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLiNkZWZhdWx0T3B0aW9ucywgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICAgICAgIHRoaXMuXyRvcGVuQnRucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fb3B0aW9ucy5vcGVuQnRuc1NlbGVjdG9yKTtcclxuXHJcbiAgICAgICAgIHRoaXMuI2luaXQoKTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICAjY2hlY2soKSB7XHJcbiAgICAgIHJldHVybiAhdGhpcy5faGFzRXJyb3JzO1xyXG4gICB9XHJcblxyXG4gICAjaW5pdCgpIHtcclxuICAgICAgaWYgKHRoaXMuXyRlbC5ub2RlTmFtZSAhPT0gXCJESUFMT0dcIikge1xyXG4gICAgICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwicm9sZVwiLCBcImRpYWxvZ1wiKTtcclxuICAgICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcImFyaWEtbW9kYWxcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQlNC+0LHQsNCy0Y/Qu9C10Lwg0Y3Qu9C10LzQtdC90YIg0L7QsdC10YDRgtC60YMgKGNvbnRlbnQpXHJcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5fb3B0aW9ucy5zZWxlY3Rvci5zbGljZSgxKX1fXyR7dGhpcy5fb3B0aW9ucy5jb250ZW50Q2xhc3N9YCk7XHJcbiAgICAgIGNvbnRlbnQuaW5uZXJIVE1MID0gdGhpcy5fJGVsLmlubmVySFRNTDtcclxuICAgICAgdGhpcy5fJGVsLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgIHRoaXMuXyRlbC5hcHBlbmRDaGlsZChjb250ZW50KTtcclxuXHJcbiAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDQvtCy0LXRgNC70LXQuVxyXG4gICAgICBpZiAodGhpcy5fb3B0aW9ucy5vdmVybGF5ICYmIHRoaXMuXyRlbC5ub2RlTmFtZSAhPT0gXCJESUFMT0dcIikge1xyXG4gICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHJcbiAgICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5fb3B0aW9ucy5vdmVybGF5Qmc7XHJcbiAgICAgICAgIG92ZXJsYXkuc3R5bGUucG9zaXRpb24gPSBcImZpeGVkXCI7XHJcbiAgICAgICAgIG92ZXJsYXkuc3R5bGUuaW5zZXQgPSBcIjBcIjtcclxuICAgICAgICAgb3ZlcmxheS5jbGFzc0xpc3QuYWRkKHRoaXMuX29wdGlvbnMuc2VsZWN0b3Iuc2xpY2UoMSkgKyBcIl9fXCIgKyB0aGlzLl9vcHRpb25zLm92YXJsYXlDbGFzcyk7XHJcbiAgICAgICAgIG92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xvc2UuYmluZCh0aGlzKSk7XHJcbiAgICAgICAgIGlmICh0aGlzLl8kZWwucXVlcnlTZWxlY3RvcihcIjpmaXJzdC1jaGlsZFwiKS5zdHlsZS5wb3NpdGlvbiA9PT0gXCJzdGF0aWNcIikgdGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3IoXCI6Zmlyc3QtY2hpbGRcIikuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcbiAgICAgICAgIHRoaXMuXyRlbC5pbnNlcnRCZWZvcmUob3ZlcmxheSwgdGhpcy5fJGVsLmZpcnN0Q2hpbGQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGhpcy5fJG9wZW5CdG5zKSB7XHJcbiAgICAgICAgIC8vINCh0L7QsdGL0YLQuNGPXHJcbiAgICAgICAgIHRoaXMuXyRvcGVuQnRucy5mb3JFYWNoKChvcGVuQnRuKSA9PiB7XHJcbiAgICAgICAgICAgIG9wZW5CdG4uc2V0QXR0cmlidXRlKFwiYXJpYS1oYXNwb3B1cFwiLCBcImRpYWxvZ1wiKTtcclxuICAgICAgICAgICAgb3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vcGVuLmJpbmQodGhpcykpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBfbWFpbkVsQ2xpY2soZSkge1xyXG4gICAgICBzdXBlci5fbWFpbkVsQ2xpY2soZSk7XHJcbiAgICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gXCJESUFMT0dcIikge1xyXG4gICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBvcGVuKCkge1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgaWYgKHRoaXMuXyRlbC5nZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiKSA9PT0gXCJmYWxzZVwiIHx8IHRoaXMuXyRlbC5oYXNBdHRyaWJ1dGUoXCJvcGVuXCIpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIHRoaXMuIyRhY3RpdmVPcGVuQnRuID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcclxuXHJcbiAgICAgICAgIGlmICh0aGlzLl8kZWwubm9kZU5hbWUgPT09IFwiRElBTE9HXCIpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX29wdGlvbnMuZGlhbG9nRnVsbFNjcmVlbikgdGhpcy5fJGVsLnNob3dNb2RhbCgpO1xyXG4gICAgICAgICAgICBlbHNlIHRoaXMuXyRlbC5zaG93KCk7XHJcbiAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgIGlmICh0aGlzLl8kZm9jdXNhYmxlQ29udGVudC5sZW5ndGggPiAwICYmICFpc1RvdWNoRGV2aWNlKCkpIHRoaXMuXyRmb2N1c2FibGVDb250ZW50WzBdLmZvY3VzKCk7XHJcbiAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5vbk9wZW4gPT09IFwiZnVuY3Rpb25cIikgdGhpcy5fb3B0aW9ucy5vbk9wZW4oKTtcclxuICAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XHJcblxyXG4gICAgICAgICAvLyB9LCAxKTtcclxuICAgICAgfSwgMSk7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICB0aGlzLl8kZWwuc2V0QXR0cmlidXRlKFwiY2xvc2luZ1wiLCBcIlwiKTtcclxuICAgICAgY29uc3QgXyRlbExzQW5pbSA9IHRoaXMuXyRlbC5ub2RlTmFtZSA9PT0gXCJESUFMT0dcIiA/IHRoaXMuXyRlbCA6IHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLl9vcHRpb25zLnNlbGVjdG9yLnNsaWNlKDEpfV9fJHt0aGlzLl9vcHRpb25zLmNvbnRlbnRDbGFzc31gKTtcclxuICAgICAgaWYgKF8kZWxMc0FuaW0uZ2V0QW5pbWF0aW9ucygpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICBjb25zb2xlLmVycm9yKGDQndC10L7QsdGF0L7QtNC40LzQviDQtNC+0LHQsNCy0LjRgtGMINCw0L3QuNC80LDRhtC40Y4g0LTQu9GPYCwgXyRlbExzQW5pbSk7XHJcbiAgICAgICAgIHRoaXMuI2Nsb3NpbmcoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgXyRlbExzQW5pbS5hZGRFdmVudExpc3RlbmVyKFxyXG4gICAgICAgICAgICBcImFuaW1hdGlvbmVuZFwiLFxyXG4gICAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgIHRoaXMuI2Nsb3NpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeyBvbmNlOiB0cnVlIH1cclxuICAgICAgICAgKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgIGlmICh0aGlzLiMkYWN0aXZlT3BlbkJ0bi50YWJJbmRleCAhPT0gLTEpIHRoaXMuIyRhY3RpdmVPcGVuQnRuLmZvY3VzKCk7XHJcbiAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fb3B0aW9ucy5vbkNsb3NlID09PSBcImZ1bmN0aW9uXCIpIHRoaXMuX29wdGlvbnMub25DbG9zZSgpO1xyXG4gICAgICB9LCAxKTtcclxuXHJcbiAgICAgIC8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJtYWluXCIpLnJlbW92ZUF0dHJpYnV0ZShcImluZXJ0XCIsIFwiXCIpO1xyXG4gICB9XHJcblxyXG4gICAjY2xvc2luZygpIHtcclxuICAgICAgdGhpcy5fJGVsLnJlbW92ZUF0dHJpYnV0ZShcImNsb3NpbmdcIik7XHJcbiAgICAgIGlmICh0aGlzLl8kZWwubm9kZU5hbWUgPT09IFwiRElBTE9HXCIpIHtcclxuICAgICAgICAgdGhpcy5fJGVsLmNsb3NlKCk7XHJcbiAgICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgdGhpcy5fJGVsLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgfVxyXG4gICB9XHJcbn1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwIFwi0JLQutC70LDQtNC+0LogKNGC0LDQsdC+0LIpXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vICBpbmNsdWRlKCdtb2R1bGVzL190YWJzLmpzJylcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0LrQu9Cw0YHRgdCwIFwi0JfQsNC/0YDQtdGC0LAg0L/RgNC+0LrRgNGD0YLQutC4XCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC8vIGxlZnQ6IDM3LCB1cDogMzgsIHJpZ2h0OiAzOSwgZG93bjogNDAsXHJcbi8vIC8vIHNwYWNlYmFyOiAzMiwgcGFnZXVwOiAzMywgcGFnZWRvd246IDM0LCBlbmQ6IDM1LCBob21lOiAzNlxyXG4vLyB2YXIga2V5cyA9IHsgMzc6IDEsIDM4OiAxLCAzOTogMSwgNDA6IDEgfTtcclxuXHJcbmZ1bmN0aW9uIHNjcm9sbFByZXZlbnREZWZhdWx0KGUpIHtcclxuICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMoZSkge1xyXG4vLyAgICBpZiAoa2V5c1tlLmtleUNvZGVdKSB7XHJcbi8vICAgICAgIHByZXZlbnREZWZhdWx0KGUpO1xyXG4vLyAgICAgICByZXR1cm4gZmFsc2U7XHJcbi8vICAgIH1cclxuLy8gfVxyXG5cclxuLy8gbW9kZXJuIENocm9tZSByZXF1aXJlcyB7IHBhc3NpdmU6IGZhbHNlIH0gd2hlbiBhZGRpbmcgZXZlbnRcclxubGV0IHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xyXG50cnkge1xyXG4gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJ0ZXN0XCIsXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcclxuICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XHJcbiAgICAgICAgIH0sXHJcbiAgICAgIH0pXHJcbiAgICk7XHJcbn0gY2F0Y2ggKGUpIHt9XHJcblxyXG5jb25zdCB3aGVlbE9wdCA9IHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xyXG5jb25zdCB3aGVlbEV2ZW50ID0gXCJvbndoZWVsXCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSA/IFwid2hlZWxcIiA6IFwibW91c2V3aGVlbFwiO1xyXG5cclxuLy8gY2FsbCB0aGlzIHRvIERpc2FibGVcclxud2luZG93LmRpc2FibGVTY3JvbGwgPSAoKSA9PiB7XHJcbiAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIiwgc2Nyb2xsUHJldmVudERlZmF1bHQsIGZhbHNlKTsgLy8gb2xkZXIgRkZcclxuICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIod2hlZWxFdmVudCwgc2Nyb2xsUHJldmVudERlZmF1bHQsIHdoZWVsT3B0KTsgLy8gbW9kZXJuIGRlc2t0b3BcclxuICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgc2Nyb2xsUHJldmVudERlZmF1bHQsIHdoZWVsT3B0KTsgLy8gbW9iaWxlXHJcbiAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMsIGZhbHNlKTtcclxufTtcclxuXHJcbi8vIGNhbGwgdGhpcyB0byBFbmFibGVcclxud2luZG93LmVuYWJsZVNjcm9sbCA9ICgpID0+IHtcclxuICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgZmFsc2UpO1xyXG4gICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih3aGVlbEV2ZW50LCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgd2hlZWxPcHQpO1xyXG4gICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBzY3JvbGxQcmV2ZW50RGVmYXVsdCwgd2hlZWxPcHQpO1xyXG4gICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgc2Nyb2xsUHJldmVudERlZmF1bHRGb3JTY3JvbGxLZXlzLCBmYWxzZSk7XHJcbn07XHJcblxyXG4vLyBjbGFzcyBEaXNhYmxlU2Nyb2xsIHtcclxuLy8gICAgY29uc3RydWN0b3IoKSB7XHJcbi8vICAgICAgIHRoaXMuc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XHJcbi8vICAgICAgIHRoaXMuaW5pdCgpO1xyXG4vLyAgICB9XHJcblxyXG4vLyAgICBpbml0KCkge1xyXG4vLyAgICAgICB0cnkge1xyXG4vLyAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcclxuLy8gICAgICAgICAgICAgXCJ0ZXN0XCIsXHJcbi8vICAgICAgICAgICAgIG51bGwsXHJcbi8vICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcclxuLy8gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgICAgICAgICAgIHRoaXMuc3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcclxuLy8gICAgICAgICAgICAgICAgfSxcclxuLy8gICAgICAgICAgICAgfSlcclxuLy8gICAgICAgICAgKTtcclxuLy8gICAgICAgfSBjYXRjaCAoZSkge31cclxuXHJcbi8vICAgICAgIHRoaXMud2hlZWxPcHQgPSB0aGlzLnN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xyXG4vLyAgICAgICB0aGlzLndoZWVsRXZlbnQgPSBcIm9ud2hlZWxcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpID8gXCJ3aGVlbFwiIDogXCJtb3VzZXdoZWVsXCI7XHJcbi8vICAgIH1cclxuXHJcbi8vICAgIHByZXZlbnREZWZhdWx0KGUpIHtcclxuLy8gICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4vLyAgICB9XHJcblxyXG4vLyAgICAvLyBjYWxsIHRoaXMgdG8gRGlzYWJsZVxyXG4vLyAgICBkaXNhYmxlKCkge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyh0aGlzLnN1cHBvcnRzUGFzc2l2ZSk7XHJcbi8vICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIiwgdGhpcy5wcmV2ZW50RGVmYXVsdCwgZmFsc2UpOyAvLyBvbGRlciBGRlxyXG4vLyAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLndoZWVsRXZlbnQsIHRoaXMucHJldmVudERlZmF1bHQsIHRoaXMud2hlZWxPcHQpOyAvLyBtb2Rlcm4gZGVza3RvcFxyXG4vLyAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLnByZXZlbnREZWZhdWx0LCB0aGlzLndoZWVsT3B0KTsgLy8gbW9iaWxlXHJcbi8vICAgICAgIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLnByZXZlbnREZWZhdWx0Rm9yU2Nyb2xsS2V5cywgZmFsc2UpO1xyXG4vLyAgICB9XHJcblxyXG4vLyAgICAvLyBjYWxsIHRoaXMgdG8gRW5hYmxlXHJcbi8vICAgIGVuYWJsZSgpIHtcclxuLy8gICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLCB0aGlzLnByZXZlbnREZWZhdWx0LCBmYWxzZSk7XHJcbi8vICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMud2hlZWxFdmVudCwgdGhpcy5wcmV2ZW50RGVmYXVsdCwgdGhpcy53aGVlbE9wdCk7XHJcbi8vICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMucHJldmVudERlZmF1bHQsIHRoaXMud2hlZWxPcHQpO1xyXG4vLyAgICAgICAvLyB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5wcmV2ZW50RGVmYXVsdEZvclNjcm9sbEtleXMsIGZhbHNlKTtcclxuLy8gICAgfVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBkaXNhYmxlU2Nyb2xsID0gbmV3IERpc2FibGVTY3JvbGwoKTtcclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS3Ql9Cw0LPRgNGD0LfQutCwINC60LvQsNGB0YHQsCBcItCT0LDQu9C10YDQtdC4XCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLdCT0LDQu9C10YDQtdGPINC40LfQvtCx0YDQsNC20LXQvdC40LktLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vKipcclxuICpcclxuICpcclxuICogZGF0YS1nYWxsZXJ5IC0g0LTQu9GPINC/0LXRgNC10LTQsNGH0Lgg0LHQvtC70YzRiNC40YUg0LjQt9C+0LHRgNCw0LbQtdC90LjQuVxyXG4gKiBcclxuICog0J7QsdGK0LXQutGCOlxyXG4gICBzZWxlY3RvciAtINGB0LXQu9C10LrRgtC+0YAg0YEg0LrQvtGC0L7RgNGL0Lwg0LHRg9C00LXQvCDRgNCw0LHQvtGC0LDRgtGMXHJcbiAgIG9wZW5CdG5zU2VsZWN0b3IgLSDQutC90L7Qv9C60Lgg0L7RgtC60YDRi9GC0LjRjyAo0LzQvtCz0YPRgiDQsdGL0YLRjCDRg9C60LDQt9Cw0L3RiyDQstCy0LjQtNC1INC80LDRgdGB0LjQstCwKVxyXG4gICBjbG9zZUJ0bnNTZWxlY3RvcjogLSDQutC90L7Qv9C60Lgg0LfQsNC60YDRi9GC0LjRjyAo0LzQvtCz0YPRgiDQsdGL0YLRjCDRg9C60LDQt9Cw0L3RiyDQstCy0LjQtNC1INC80LDRgdGB0LjQstCwKVxyXG4gICBkZXNjcmlwdGlvbiAtINGC0YDQtdCx0YPQtdGC0YHRjyDQu9C4INCy0YvQstC+0LTQuNGC0Ywg0L7Qv9C40YHRgdCw0L3QuNC1INC40Lcg0YLRjdCz0LAgYWx0ICh0cnVlKVxyXG4gICBpbWdzTGlzdCAtINGC0YDQsdGD0LXRgtGB0Y8g0LvQuCDRgdC+0LfQtNCw0LLQsNGC0Ywg0YHQv9C40YHQvtC6INC40LfQvtCx0YDQsNC20LXQvdC40LkgKHRydWUpXHJcbiAgIG1hdGNoTWVkaWEgLSDQvNC10LTQuNCwINC30LDQv9GA0L7RgSwg0LIg0LrQvtGC0L7RgNC+0Lwg0LTQvtC70LbQtdC9INC30LDQv9GD0YHQutCw0YLRjNGB0Y8g0L3QvtCy0YvQuSDQutC70LDRgdGBIChub25lKVxyXG5cclxuICAgZGF0YS1jbG9zZT1cInRydWVcIiAtINC90LXQvtCx0YXQvtC00LjQvNC+INGD0YHRgtCw0L3QvtCy0LjRgtGMINC90LAg0Y3Qu9C10LzQtdC90YIsINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0LfQsNC60YDRi9Cy0LDRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviAo0YLQvtC70YzQutC+INC90LAg0Y3Qu9C10LzQtdC90YLRiyDQstC90YPRgtGA0Lgg0L7QutC90LApXHJcbiAgIGRhdGEtc2VsZWN0LWxhc3Q9XCJ0cnVlXCIgLSDQvdC10L7QsdGF0L7QtNC40LzQviDRg9GB0YLQsNC90L7QstC40YLRjCDQvdCwINGN0LvQtdC80LXQvdGCLCDQutC+0YLQvtGA0YvQuSDQtNC+0LvQttC9INC/0L7Qv9Cw0YHRgtGMINCyINGE0L7QutGD0YEg0LIg0YHQsNC80YvQuSDQv9C+0YHQu9C10LTQvdC40Lkg0LzQvtC80LXQvdGCXHJcbiAgIGRhdGEtZ2FsbGVyeT1cImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9pbWcvY2VydC8xLTEuanBnXCIgLSDRgdGB0YvQu9C60LAg0L3QsCDRhNCw0LnQuywg0LHQvtC70YzRiNC+0LPQviDRgNCw0LfQvNC10YDQsFxyXG5cclxuICAgZyA9IG5ldyBHYWxsZXJ5REsoe1xyXG4gICAgICBzZWxlY3RvcjogXCIuZ2FsbGVyeVwiLCAvLyDRgdC10LvQtdC60YLQvtGAINC60L7QvdGC0LXQudC90LXRgNCwLCDQutC+0YLQvtGA0YvQuSDQvtCx0YrQtdC00LjQvdGP0LXRgiDQstGB0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4gICAgICBmb2N1c1RyYXA6IHRydWUsXHJcbiAgICAgIGNvbGxhcHNlT25Gb2N1c091dDogZmFsc2UsXHJcbiAgIH0pO1xyXG5cclxuICAgKiBUT0RPOlxyXG4gICAqID/QlNC+0LHQsNCy0LjRgtGMINC30L3QsNC6INC30LDQs9GA0YPQt9C60LhcclxuICAgKiA/0J/RgNC4INC00LLQvtC50L3QvtC8INC90LDQttCw0YLQuNC4INGD0LLQtdC70LjRh9C40LLQsNGC0Ywg0LIg0YLQvtGH0LrQtSDQvdCw0LbQsNGC0LjRj1xyXG5cclxuICovXHJcbmNsYXNzIEdhbGxlcnlESyBleHRlbmRzIE5vZGFESyB7XHJcbiAgICNkZWZhdWx0T3B0aW9ucyA9IHtcclxuICAgICAgZGVzY3JpcHRpb246IHRydWUsXHJcbiAgICAgIGltZ3NMaXN0OiB0cnVlLFxyXG4gICB9O1xyXG4gICAjYWN0aXZlSW1nTnVtO1xyXG4gICAjZWxQYWRkaW5nO1xyXG4gICAjQU5JTVRBSU9OX1RJTUUgPSAzMDA7XHJcbiAgICN0YXBlZFR3aWNlID0gZmFsc2U7XHJcblxyXG4gICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgIHN1cGVyKG9wdGlvbnMpO1xyXG4gICAgICBpZiAodGhpcy4jY2hlY2soKSkge1xyXG4gICAgICAgICB0aGlzLl9vcHRpb25zID0gT2JqZWN0LmFzc2lnbih0aGlzLiNkZWZhdWx0T3B0aW9ucywgdGhpcy5fb3B0aW9ucyk7XHJcbiAgICAgICAgIHRoaXMuXyRvcmlnaW5hbEltZ3MgPSBbLi4udGhpcy5fJGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIildO1xyXG4gICAgICAgICB0aGlzLiNpbml0KCk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgI2NoZWNrKCkge1xyXG4gICAgICByZXR1cm4gIXRoaXMuX2hhc0Vycm9ycztcclxuICAgfVxyXG5cclxuICAgI2luaXQoKSB7XHJcbiAgICAgIC8vINCf0YDQvtGF0L7QtNC40Lwg0L/QviDQvtGA0LjQs9C40L3QsNC70YzQvdGL0Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjRj9C8XHJcbiAgICAgIHRoaXMuXyRvcmlnaW5hbEltZ3MubWFwKChpbWcsIGkpID0+IHtcclxuICAgICAgICAgaW1nLnN0eWxlLmN1cnNvciA9IFwiem9vbS1pblwiO1xyXG4gICAgICAgICBpbWcuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBpKTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuXHJcbiAgICNpbml0T25PcGVuKCkge1xyXG4gICAgICB0aGlzLiNjcmVhdGVHYWxsZXJ5KCk7XHJcbiAgICAgIHRoaXMuI2VsUGFkZGluZyA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUodGhpcy5fJGVsKS5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy1sZWZ0XCIpKTtcclxuXHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZyA9IHRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktZGtfX2ltZ1wiKTtcclxuICAgICAgdGhpcy5fJGltZ1ByZXZpZXdMaXN0ID0gWy4uLnRoaXMuXyRlbC5xdWVyeVNlbGVjdG9yQWxsKFwiW2RhdGEtaWRdXCIpXTtcclxuICAgICAgc3VwZXIuX2dldEZvY3VzYWJsZUNvbnRlbnQoKTtcclxuXHJcbiAgICAgIHRoaXMuX29uVG91Y2hTdGFydCA9IHRoaXMuX29uVG91Y2hTdGFydC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl9vblRvdWNoRW5kID0gdGhpcy5fb25Ub3VjaEVuZC5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl9vblRvdWNoTW92ZSA9IHRoaXMuX29uVG91Y2hNb3ZlLmJpbmQodGhpcyk7XHJcblxyXG4gICAgICB0aGlzLiNpbml0VG91Y2hMaXN0bmVycygpO1xyXG4gICB9XHJcblxyXG4gICAjaW5pdFRvdWNoTGlzdG5lcnMoKSB7XHJcbiAgICAgIC8vIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcmRvd25cIiwgdGhpcy5fb25Ub3VjaFN0YXJ0KTtcclxuICAgICAgLy8gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJwb2ludGVydXBcIiwgdGhpcy5fb25Ub3VjaEVuZCk7XHJcbiAgICAgIC8vIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwicG9pbnRlcm1vdmVcIiwgdGhpcy5fb25Ub3VjaE1vdmUpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy5fb25Ub3VjaFN0YXJ0KTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLl9vblRvdWNoRW5kKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5fb25Ub3VjaE1vdmUpO1xyXG4gICB9XHJcblxyXG4gICAjZGVzdHJveVRvdWNoTGlzdG5lcnMoKSB7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLl9vblRvdWNoU3RhcnQpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIHRoaXMuX29uVG91Y2hFbmQpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCB0aGlzLl9vblRvdWNoTW92ZSk7XHJcbiAgIH1cclxuXHJcbiAgICNjcmVhdGVHYWxsZXJ5KCkge1xyXG4gICAgICAvLyDQodC+0LfQtNCw0LXQvCDQs9Cw0LvQtdGA0LXRjlxyXG4gICAgICBjb25zdCAkZ2FsbGVyeURLID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgJGdhbGxlcnlESy5jbGFzc0xpc3QuYWRkKFwiZ2FsbGVyeS1ka1wiKTtcclxuICAgICAgaWYgKCF0aGlzLl9vcHRpb25zLmltZ3NMaXN0KSAkZ2FsbGVyeURLLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrLS1uby1saXN0XCIpO1xyXG4gICAgICAkZ2FsbGVyeURLLnNldEF0dHJpYnV0ZShcImhpZGRlblwiLCBcIlwiKTtcclxuICAgICAgJGdhbGxlcnlESy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIiwgXCJwb2xpdGVcIik7XHJcbiAgICAgICRnYWxsZXJ5REsuaW5uZXJIVE1MID0gdGhpcy4jZ2V0VGVtYXBsYXRlKCk7XHJcbiAgICAgIHRoaXMuXyRlbC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJiZWZvcmVlbmRcIiwgJGdhbGxlcnlESyk7XHJcblxyXG4gICAgICBjb25zdCAkaW1nc0xpc3QgPSAkZ2FsbGVyeURLLnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeS1ka19fbGlzdFwiKTtcclxuICAgICAgLy8g0J/RgNC+0YXQvtC00LjQvCDQv9C+INC+0YDQuNCz0LjQvdCw0LvRjNC90YvQvCDQuNC30L7QsdGA0LDQttC10L3QuNGP0LxcclxuICAgICAgdGhpcy5fJG9yaWdpbmFsSW1ncy5tYXAoKGltZywgaSkgPT4ge1xyXG4gICAgICAgICBpZiAodGhpcy5fb3B0aW9ucy5pbWdzTGlzdCkge1xyXG4gICAgICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4gICAgICAgICAgICBjb25zdCBpbWdQcmV2aWV3ID0gaW1nLmNsb25lTm9kZSh0cnVlKTtcclxuICAgICAgICAgICAgaW1nUHJldmlldy5yZW1vdmVBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICAgICAgaW1nUHJldmlldy5yZW1vdmVBdHRyaWJ1dGUoXCJzdHlsZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGltZ1ByZXZpZXcuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBpKTtcclxuICAgICAgICAgICAgaW1nUHJldmlldy5zZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIsIFwiZmFsc2VcIik7XHJcbiAgICAgICAgICAgIGltZ1ByZXZpZXcudGFiSW5kZXggPSAwO1xyXG4gICAgICAgICAgICAvLyBpbWdQcmV2aWV3LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnNldEltZyhpKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgICAgICRpbWdzTGlzdC5hcHBlbmRDaGlsZChpbWdQcmV2aWV3KTtcclxuICAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHRoaXMuXyRlbCA9ICRnYWxsZXJ5REs7XHJcbiAgIH1cclxuXHJcbiAgICNnZXRUZW1hcGxhdGUoKSB7XHJcbiAgICAgIGNvbnN0IGRlc2NyaXB0aW9uQ2xpcHBlZCA9IHRoaXMuX29wdGlvbnMuZGVzY3JpcHRpb24gPyBcIlwiIDogXCJjbGlwcGVkXCI7XHJcbiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLl9vcHRpb25zLmltZ3NMaXN0ID8gJzx1bCBjbGFzcz1cImdhbGxlcnktZGtfX2xpc3RcIiByb2xlPVwibGlzdFwiPjwvdWw+JyA6IFwiXCI7XHJcbiAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImdhbGxlcnktZGtfX2J0bnMtd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZ2FsbGVyeS1ka19fdG8tbGVmdFwiIGRhdGEtcHJldj1cInRydWVcIiBhcmlhLWxhYmVsPVwi0L/RgNC10LTRi9C00YPRidC10LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZ2FsbGVyeS1ka19fdG8tcmlnaHRcIiBkYXRhLW5leHQ9XCJ0cnVlXCIgIGFyaWEtbGFiZWw9XCLRgdC70LXQtNGD0Y7RidC10LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZ2FsbGVyeS1ka19fem9vbVwiIGRhdGEtem9vbT1cInRydWVcIiBhcmlhLWxhYmVsPVwi0YPQstC10LvQuNGH0LjRgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LVcIj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPD94bWwgdmVyc2lvbj1cIjEuMFwiID8+PHN2ZyBjbGFzcz1cImdhbGxlcnktZGtfX3pvb20tc3ZnXCIgZGF0YS16b29tPVwidHJ1ZVwiIGVuYWJsZS1iYWNrZ3JvdW5kPVwibmV3IDAgMCAzMiAzMlwiIGlkPVwiRWRpdGFibGUtbGluZVwiIHZlcnNpb249XCIxLjFcIiB2aWV3Qm94PVwiMCAwIDMyIDMyXCIgeG1sOnNwYWNlPVwicHJlc2VydmVcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgeG1sbnM6eGxpbms9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCI+PGNpcmNsZSBjeD1cIjE0XCIgY3k9XCIxNFwiIGZpbGw9XCJub25lXCIgaWQ9XCJYTUxJRF85NF9cIiByPVwiOVwiICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2UtbWl0ZXJsaW1pdD1cIjEwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiLz48bGluZSBmaWxsPVwibm9uZVwiIGlkPVwiWE1MSURfOTNfXCIgIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMTBcIiBzdHJva2Utd2lkdGg9XCIyXCIgeDE9XCIyN1wiIHgyPVwiMjAuMzY2XCIgeTE9XCIyN1wiIHkyPVwiMjAuMzY2XCIvPjxsaW5lIGZpbGw9XCJub25lXCIgaWQ9XCJYTUxJRF85Nl9cIiAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHN0cm9rZS13aWR0aD1cIjJcIiB4MT1cIjE0XCIgeDI9XCIxNFwiIHkxPVwiMTBcIiB5Mj1cIjE4XCIvPjxsaW5lIGZpbGw9XCJub25lXCIgaWQ9XCJYTUxJRF85N19cIiAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLW1pdGVybGltaXQ9XCIxMFwiIHN0cm9rZS13aWR0aD1cIjJcIiB4MT1cIjEwXCIgeDI9XCIxOFwiIHkxPVwiMTRcIiB5Mj1cIjE0XCIvPjwvc3ZnPlxyXG5cclxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJnYWxsZXJ5LWRrX19jbG9zZVwiIGRhdGEtY2xvc2U9XCJ0cnVlXCIgZGF0YS1zZWxlY3QtbGFzdD1cInRydWVcIiBhcmlhLWxhYmVsPVwi0LfQsNC60YDRi9GC0Ywg0LPQsNC70LXRgNC10Y5cIj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJnYWxsZXJ5LWRrX19pbWctd3JhcHBlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ2FsbGVyeS1ka19faW1nXCIgYXJpYS1sYWJlbGxlZGJ5PVwiZ2FsbGVyeS1kay1kZXNjcmlwdGlvblwiIHJvbGU9XCJpbWdcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJnYWxsZXJ5LWRrLWRlc2NyaXB0aW9uXCIgY2xhc3M9XCJnYWxsZXJ5LWRrX19pbmZvIHNjcm9sbC0tdiAke2Rlc2NyaXB0aW9uQ2xpcHBlZH1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgJHtsaXN0fWA7XHJcbiAgIH1cclxuXHJcbiAgIGRlc3Ryb3koKSB7XHJcbiAgICAgIHRoaXMuI2Rlc3Ryb3lUb3VjaExpc3RuZXJzKCk7XHJcblxyXG4gICAgICB0aGlzLl8kZWwucmVtb3ZlKCk7XHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICB0aGlzLl8kZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX29wdGlvbnMuc2VsZWN0b3IpO1xyXG4gICAgICB9LCAxKTtcclxuICAgfVxyXG5cclxuICAgX2NoZWNrUHJlc3MoZSkge1xyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkVTQyAmJiB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeS1ka19faW1nLS16b29tXCIpKSB7XHJcbiAgICAgICAgIHRoaXMuX3N0b3Bab29tKCk7XHJcbiAgICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBzdXBlci5fY2hlY2tQcmVzcyhlKTtcclxuXHJcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuRU5URVIpIHtcclxuICAgICAgICAgaWYgKGUudGFyZ2V0LmRhdGFzZXQuaWQpIHRoaXMuc2V0SW1nKGUudGFyZ2V0LmRhdGFzZXQuaWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDRgdGC0YDQtdC70LrQsCDQstC/0YDQsNCy0L4g0Lgg0LLQvdC40LdcclxuICAgICAgaWYgKGUua2V5Q29kZSA9PT0gdGhpcy5fS0VZUy5BUlJPV19SSUdIVCB8fCBlLmtleUNvZGUgPT09IHRoaXMuX0tFWVMuQVJST1dfRE9XTikge1xyXG4gICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgIHRoaXMubmV4dEltZygpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vINGB0YLRgNC10LvQutCwINCy0LvQtdCy0L4g0Lgg0LLQstC10YDRhVxyXG4gICAgICBpZiAoZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX0xFRlQgfHwgZS5rZXlDb2RlID09PSB0aGlzLl9LRVlTLkFSUk9XX1VQKSB7XHJcbiAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgdGhpcy5wcmV2SW1nKCk7XHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgX21haW5FbENsaWNrKGUpIHtcclxuICAgICAgc3VwZXIuX21haW5FbENsaWNrKGUpO1xyXG4gICAgICAvLyDQldGB0LvQuCDQv9C+INC60L3QvtC/0LrQtSDQt9Cw0LrRgNGL0YLQuNGPXHJcbiAgICAgIGlmIChlLnRhcmdldC5kYXRhc2V0LmlkKSB7XHJcbiAgICAgICAgIGNvbnN0IGlkID0gZS50YXJnZXQuZGF0YXNldC5pZDtcclxuICAgICAgICAgaWYgKCF0aGlzLl8kZWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZ2FsbGVyeS1kay0tYWN0aXZlXCIpKSB0aGlzLm9wZW4oKTtcclxuICAgICAgICAgdGhpcy5zZXRJbWcoaWQpO1xyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUub3BhY2l0eSA9IDA7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS50YXJnZXQuY2xvc2VzdCgnW2RhdGEtbmV4dD1cInRydWVcIl0nKSB8fCBlLnRhcmdldC5kYXRhc2V0Lm5leHQpIHRoaXMubmV4dEltZygpO1xyXG4gICAgICBlbHNlIGlmIChlLnRhcmdldC5jbG9zZXN0KCdbZGF0YS1wcmV2PVwidHJ1ZVwiXScpIHx8IGUudGFyZ2V0LmRhdGFzZXQucHJldikgdGhpcy5wcmV2SW1nKCk7XHJcbiAgICAgIGVsc2UgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoJ1tkYXRhLXpvb209XCJ0cnVlXCJdJykgfHwgZS50YXJnZXQuZGF0YXNldC56b29tKSB0aGlzLl96b29tSW1nKCk7XHJcbiAgIH1cclxuXHJcbiAgIG9wZW4oKSB7XHJcbiAgICAgIHN1cGVyLm9wZW4oKTtcclxuICAgICAgdGhpcy4jaW5pdE9uT3BlbigpO1xyXG4gICAgICB0aGlzLl8kZWwuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGstLWFjdGl2ZVwiKTtcclxuICAgICAgaWYgKHRoaXMuXyRmb2N1c2FibGVDb250ZW50Lmxlbmd0aCA+IDApIHRoaXMuXyRmb2N1c2FibGVDb250ZW50WzBdLmZvY3VzKCk7XHJcbiAgIH1cclxuXHJcbiAgIGNsb3NlKCkge1xyXG4gICAgICBzdXBlci5jbG9zZSgpO1xyXG4gICAgICB0aGlzLl8kZWwuY2xhc3NMaXN0LnJlbW92ZShcImdhbGxlcnktZGstLWFjdGl2ZVwiKTtcclxuICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgIH1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLdCg0LDQsdC+0YLQsCDRgSDQuNC30L7QsdGA0LDQttC10L3QuNC10LwtLS0tLS0tLS0tXHJcbiAgIHNldEltZyhpbWdOdW0pIHtcclxuICAgICAgdGhpcy4jYWN0aXZlSW1nTnVtID0gaW1nTnVtO1xyXG5cclxuICAgICAgLy8g0JTQtdC50YHRgtCy0LjRjyDRgSDRhtC10L3RgtGA0LDQu9GM0L3Ri9C8INC40LfQvtCx0YDQsNC20LXQvdC40LXQvFxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtfX2ltZy0tY2hhbmdlXCIpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnJHt0aGlzLl9nZXRJbWdTcmMoaW1nTnVtKX0nKWA7XHJcblxyXG4gICAgICB0aGlzLl9nZXRJbWdCYWNrZ3JvdW5kU2l6ZSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgY29uc3QgcG9zRWwgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50Tm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgaWYgKGRhdGEudyA8IHBvc0VsLndpZHRoICYmIGRhdGEuaCA8IHBvc0VsLmhlaWdodCkgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gXCJhdXRvXCI7XHJcbiAgICAgICAgIGVsc2UgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRTaXplID0gXCJjb250YWluXCI7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8g0JTQtdC50YHRgtCy0LjRjyDRgSDQu9C40YHRgtC+0Lwg0L/RgNC40LLRjNGOXHJcbiAgICAgIGlmICh0aGlzLl9vcHRpb25zLmltZ3NMaXN0KSB7XHJcbiAgICAgICAgIHRoaXMuXyRpbWdQcmV2aWV3TGlzdC5tYXAoKGltZykgPT4ge1xyXG4gICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCBcImZhbHNlXCIpO1xyXG4gICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgIHRoaXMuXyRpbWdQcmV2aWV3TGlzdFtpbWdOdW1dLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICB0aGlzLl8kaW1nUHJldmlld0xpc3RbaW1nTnVtXS5mb2N1cygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDQlNC10LnRgdGC0LLQuNGPINGBINC+0L/QuNGB0LDQvdC40LXQvFxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnktZGtfX2luZm9cIikuaW5uZXJIVE1MID0gdGhpcy5fJG9yaWdpbmFsSW1nc1tpbWdOdW1dLmdldEF0dHJpYnV0ZShcImFsdFwiKSA/IHRoaXMuXyRvcmlnaW5hbEltZ3NbaW1nTnVtXS5nZXRBdHRyaWJ1dGUoXCJhbHRcIikgOiBcIlwiO1xyXG5cclxuICAgICAgLy8g0KHQsdGA0L7RgSDRgdGC0LjQu9C40LfQsNGG0LjQuSDQuCDQv9C+0LfQuNGG0LjQuVxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCBcIjBcIik7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5vcGFjaXR5ID0gMTtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrX19pbWctLWNoYW5nZVwiKTtcclxuICAgICAgfSwgMSk7XHJcbiAgIH1cclxuXHJcbiAgIF9nZXRJbWdTcmMoaW1nTnVtKSB7XHJcbiAgICAgIGxldCAkY3VycmVudEltZyA9IHRoaXMuXyRvcmlnaW5hbEltZ3NbaW1nTnVtXTtcclxuICAgICAgY29uc3QgaW1nQ2xhc3MgPSAkY3VycmVudEltZy5xdWVyeVNlbGVjdG9yKFwiaW1nXCIpOyAvLyAh0J/RgNC+0LLQtdGA0Y/QtdC8INGC0Y3QsyDQu9C4INGN0YLQviBwaWN0dXJlINC40LvQuCDRg9C20LUgaW1nXHJcbiAgICAgICRjdXJyZW50SW1nID0gaW1nQ2xhc3MgPyBpbWdDbGFzcyA6ICRjdXJyZW50SW1nO1xyXG5cclxuICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8INC10YHRgtGMINC70Lgg0LTQsNGC0LAg0LDRgtGA0LjQsdGD0YIg0LTQu9GPINCx0L7Qu9GM0YjQvtCz0L4g0LjQt9C+0LHRgNCw0LbQtdC90LjRj1xyXG4gICAgICBjb25zdCBkYXRhU3JjID0gJGN1cnJlbnRJbWcuZGF0YXNldC5nYWxsZXJ5O1xyXG4gICAgICBpZiAodHlwZW9mIGRhdGFTcmMgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgY29uc3QgdGVtcEltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICB0ZW1wSW1nLnNyYyA9IGRhdGFTcmM7XHJcbiAgICAgICAgIGlmICh0ZW1wSW1nLndpZHRoID4gMCkgcmV0dXJuIGRhdGFTcmM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICRjdXJyZW50SW1nLnNyYztcclxuICAgfVxyXG5cclxuICAgbmV4dEltZygpIHtcclxuICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCAtMSAqIHdpbmRvdy5pbm5lcldpZHRoKTtcclxuXHJcbiAgICAgIHRoaXMuI2FjdGl2ZUltZ051bSA9IHRoaXMuI2FjdGl2ZUltZ051bSsrID09PSB0aGlzLl8kb3JpZ2luYWxJbWdzLmxlbmd0aCAtIDEgPyAwIDogdGhpcy4jYWN0aXZlSW1nTnVtO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCB3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgICAgICAgIHRoaXMuc2V0SW1nKHRoaXMuI2FjdGl2ZUltZ051bSk7XHJcbiAgICAgIH0sIHRoaXMuI0FOSU1UQUlPTl9USU1FKTtcclxuICAgfVxyXG5cclxuICAgcHJldkltZygpIHtcclxuICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCB3aW5kb3cuaW5uZXJXaWR0aCk7XHJcbiAgICAgIHRoaXMuI2FjdGl2ZUltZ051bSA9IHRoaXMuI2FjdGl2ZUltZ051bS0tID09PSAwID8gdGhpcy5fJG9yaWdpbmFsSW1ncy5sZW5ndGggLSAxIDogdGhpcy4jYWN0aXZlSW1nTnVtO1xyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwibGVmdFwiLCAtMSAqIHdpbmRvdy5pbm5lcldpZHRoKTtcclxuICAgICAgICAgdGhpcy5zZXRJbWcodGhpcy4jYWN0aXZlSW1nTnVtKTtcclxuICAgICAgfSwgdGhpcy4jQU5JTVRBSU9OX1RJTUUpO1xyXG4gICB9XHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLdCg0LDQsdC+0YLQsCDRgSDQt9GD0LzQvtC8LS0tLS0tLS0tLVxyXG4gICBfem9vbUltZyhlKSB7XHJcbiAgICAgIGxldCBzY2FsZUJnID0gMS4yO1xyXG4gICAgICB0aGlzLl9pc1pvb21pbmcgPSB0cnVlO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtfX2ltZy0tem9vbVwiKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtfX2ltZy13cmFwcGVyLS16b29tXCIpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvdmVyXCI7XHJcblxyXG4gICAgICBjb25zdCBwYXJyZW50VyA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gdGhpcy4jZWxQYWRkaW5nICogMjtcclxuICAgICAgY29uc3QgcGFycmVudEggPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSB0aGlzLiNlbFBhZGRpbmcgKiAyO1xyXG4gICAgICB0aGlzLl9nZXRJbWdCYWNrZ3JvdW5kU2l6ZSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgbGV0IHcgPSBkYXRhLnc7XHJcbiAgICAgICAgIGxldCBoID0gZGF0YS5oO1xyXG4gICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLncgPiBwYXJyZW50Vyk7XHJcbiAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcnJlbnRIKTtcclxuICAgICAgICAgaWYgKGRhdGEudyA+IHBhcnJlbnRXICogc2NhbGVCZyB8fCBkYXRhLmggPiBwYXJyZW50SCAqIHNjYWxlQmcpIHtcclxuICAgICAgICAgICAgbGV0IHpvb21GYWN0b3I7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLncgPiBkYXRhLmgpIHtcclxuICAgICAgICAgICAgICAgem9vbUZhY3RvciA9IHBhcnJlbnRXIC8gZGF0YS53O1xyXG4gICAgICAgICAgICAgICB3ID0gcGFycmVudFc7XHJcbiAgICAgICAgICAgICAgIGggPSBkYXRhLmggKiB6b29tRmFjdG9yO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICB6b29tRmFjdG9yID0gcGFycmVudEggLyBkYXRhLmg7XHJcbiAgICAgICAgICAgICAgIHcgPSBkYXRhLncgKiB6b29tRmFjdG9yO1xyXG4gICAgICAgICAgICAgICBoID0gcGFycmVudEg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgfVxyXG4gICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgJHt3ICogc2NhbGVCZ31weCAke2ggKiBzY2FsZUJnfXB4YDtcclxuICAgICAgICAgaWYgKGlzVG91Y2hEZXZpY2UoKSkge1xyXG4gICAgICAgICAgICBzY2FsZUJnID0gMjtcclxuICAgICAgICAgICAgLy8gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5LWRrX19pbWctLXRvdWNoXCIpO1xyXG4gICAgICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgY292ZXJgO1xyXG4gICAgICAgICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUud2lkdGggPSBgJHt3ICogc2NhbGVCZ31weGA7XHJcbiAgICAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5oZWlnaHQgPSBgJHtoICogc2NhbGVCZ31weGA7XHJcbiAgICAgICAgIH0gZWxzZSB0aGlzLl9zdGFydFpvb20oKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBgJHtwYXJyZW50VyAqIHNjYWxlQmd9cHggJHtwYXJyZW50SCAqIHNjYWxlQmd9cHhgO1xyXG4gICB9XHJcblxyXG4gICBfc3RhcnRab29tKCkge1xyXG4gICAgICB0aGlzLl9tb3VzZU1vdmVNYWluSW1nID0gdGhpcy5fbW91c2VNb3ZlTWFpbkltZy5iaW5kKHRoaXMpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9tb3VzZU1vdmVNYWluSW1nLCBmYWxzZSk7XHJcblxyXG4gICAgICB0aGlzLl9zdG9wWm9vbSA9IHRoaXMuX3N0b3Bab29tLmJpbmQodGhpcyk7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5fc3RvcFpvb20sIGZhbHNlKTtcclxuICAgfVxyXG5cclxuICAgX3N0b3Bab29tKCkge1xyXG4gICAgICB0aGlzLl9pc1pvb21pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgIGlmIChpc1RvdWNoRGV2aWNlKCkpIHtcclxuICAgICAgICAgdGhpcy4jaW5pdFRvdWNoTGlzdG5lcnMoKTtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLndpZHRoID0gXCJcIjtcclxuICAgICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmhlaWdodCA9IFwiXCI7XHJcbiAgICAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1ka19faW1nLS10b3VjaFwiKTtcclxuICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS56b29tID0gXCIxMDAlXCI7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBgYDtcclxuXHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1ka19faW1nLS16b29tXCIpO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiZ2FsbGVyeS1ka19faW1nLXdyYXBwZXItLXpvb21cIik7XHJcbiAgICAgIHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX21vdXNlTW92ZU1haW5JbWcsIGZhbHNlKTtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9zdG9wWm9vbSwgZmFsc2UpO1xyXG5cclxuICAgICAgdGhpcy5fJGltZ1ByZXZpZXdMaXN0W3RoaXMuI2FjdGl2ZUltZ051bV0uZm9jdXMoKTtcclxuICAgICAgdGhpcy5zZXRJbWcodGhpcy4jYWN0aXZlSW1nTnVtKTtcclxuICAgfVxyXG5cclxuICAgX21vdXNlTW92ZU1haW5JbWcoZSkge1xyXG4gICAgICBjb25zdCBwb3NFbCA9IHRoaXMuXyRnYWxsZXJ5TWFpbkltZy5wYXJlbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgY29uc3Qgc3RlcFNpemVYID0gK3RoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZS5zcGxpdChcInB4XCIpWzBdID4gcG9zRWwud2lkdGggPyAoZS5vZmZzZXRYIC8gKHBvc0VsLndpZHRoIC0gdGhpcy4jZWxQYWRkaW5nICogMikpICogMTAwICsgXCIlXCIgOiBcImNlbnRlclwiO1xyXG5cclxuICAgICAgY29uc3Qgc3RlcFNpemVZID0gK3RoaXMuXyRnYWxsZXJ5TWFpbkltZy5zdHlsZS5iYWNrZ3JvdW5kU2l6ZS5zcGxpdChcInB4XCIpWzFdID4gcG9zRWwuaGVpZ2h0ID8gKGUub2Zmc2V0WSAvIChwb3NFbC5oZWlnaHQgLSB0aGlzLiNlbFBhZGRpbmcgKiAyKSkgKiAxMDAgKyBcIiVcIiA6IFwiY2VudGVyXCI7XHJcblxyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gYCR7c3RlcFNpemVYfSAke3N0ZXBTaXplWX1gO1xyXG4gICB9XHJcblxyXG4gICBfZ2V0SW1nQmFja2dyb3VuZFNpemUoKSB7XHJcbiAgICAgIGNvbnN0IGltYWdlU3JjID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLmJhY2tncm91bmRJbWFnZS5yZXBsYWNlKC91cmxcXCgoWydcIl0pPyguKj8pXFwxXFwpL2dpLCBcIiQyXCIpLnNwbGl0KFwiLFwiKVswXTtcclxuICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VTcmM7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICBpbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSBpbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgY29uc3QgaCA9IGltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgcmVzb2x2ZSh7IHcsIGggfSk7XHJcbiAgICAgICAgICAgIC8vIGhlaWdodCA9IGltYWdlLmhlaWdodDtcclxuICAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgIH1cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLdCg0LDQsdC+0YLQsCDRgSDRgtCw0Ycg0YHQvtCx0YvRgtC40Y/QvNC4LS0tLS0tLS0tLVxyXG4gICBfb25Ub3VjaFN0YXJ0KGUpIHtcclxuICAgICAgLy8g0JXRgdC70Lgg0LTQstCw0LnQvdC+0LUg0L3QsNC20LDRgtC40LVcclxuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT09IDEgJiYgdGhpcy5fdGFwVHdpY2VEZXRlY3Rpb24uYmluZCh0aGlzKShlKSkge1xyXG4gICAgICAgICAvLyBpZiAodGhpcy5fdGFwVHdpY2VEZXRlY3Rpb24uYmluZCh0aGlzKShlKSkge1xyXG4gICAgICAgICBpZiAoIXRoaXMuX2lzWm9vbWluZykgdGhpcy5fem9vbUltZyhlKTtcclxuICAgICAgICAgZWxzZSB0aGlzLl9zdG9wWm9vbSgpO1xyXG4gICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vINCV0YHQu9C4INGC0Y/QvdGD0YJcclxuICAgICAgdGhpcy5fc3RhcnREcmFnKGUpO1xyXG4gICB9XHJcblxyXG4gICBfb25Ub3VjaEVuZChlKSB7XHJcbiAgICAgIGlmICh0aGlzLl9zY2FsaW5nKSB0aGlzLl9zdG9wU2NhbGUoZSk7XHJcbiAgICAgIGVsc2UgaWYgKHRoaXMuX2RpcmVjdGlvbikgdGhpcy5fc3RvcERyYWcoZSk7XHJcbiAgIH1cclxuXHJcbiAgIF9vblRvdWNoTW92ZShlKSB7XHJcbiAgICAgIGlmICh0aGlzLl9zY2FsaW5nKSB0aGlzLl9vblNjYWxpbmcoZSk7XHJcbiAgICAgIGVsc2UgdGhpcy5fZHJhZ2dpbmcoZSk7XHJcbiAgIH1cclxuXHJcbiAgIC8vICDQotGP0L3QtdC8INC40LfQvtCx0YDQsNC20LXQvdC40LUg0LLQu9C10LLQvlxc0LLQv9GA0LDQstC+LCDQstCy0LXRgNGFXFzQstC90LjQt1xyXG4gICBfc3RhcnREcmFnKGUpIHtcclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZmFsc2U7IC8vINGC0LDQuiDQttC1INGB0LvRg9C20LjRgiDRhNC70LDQs9C+0Lwg0Y3RgtC+INGB0L7QsdGL0YLQuNGPXHJcblxyXG4gICAgICB0aGlzLl9jbGlja1ggPSBlLnBhZ2VYO1xyXG4gICAgICB0aGlzLl9jbGlja1kgPSBlLnBhZ2VZO1xyXG4gICAgICB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuY2xhc3NMaXN0LmFkZChcImdhbGxlcnktZGtfX2ltZy0tb24tZHJhZ1wiKTtcclxuICAgfVxyXG5cclxuICAgX3N0b3BEcmFnKGUpIHtcclxuICAgICAgLy8gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwb2ludGVybW92ZVwiLCB0aGlzLl9kcmFnZ2luZyk7XHJcbiAgICAgIGNvbnN0IGNsb3NlUGVyY2VudCA9IDAuNTtcclxuICAgICAgY29uc3QgcG9zRWwgPSB0aGlzLl8kZ2FsbGVyeU1haW5JbWcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIGNvbnN0IGNsb3NlUG9zID0gcG9zRWwuaGVpZ2h0ICogY2xvc2VQZXJjZW50O1xyXG5cclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5LWRrX19pbWctLW9uLWRyYWdcIik7XHJcbiAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgIGlmIChwb3NFbC54IDwgLTcwKSB0aGlzLm5leHRJbWcoKTtcclxuICAgICAgICAgZWxzZSBpZiAocG9zRWwueCA+IDcwKSB0aGlzLnByZXZJbWcoKTtcclxuICAgICAgICAgZWxzZSB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIFwiMFwiKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09IFwidG9wXCIpIGlmIChwb3NFbC55ID4gY2xvc2VQb3MgfHwgcG9zRWwueSA8IC1jbG9zZVBvcykgdGhpcy5jbG9zZSgpO1xyXG5cclxuICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwidG9wXCIsIFwiMFwiKTtcclxuICAgICAgdGhpcy5fJGVsLnN0eWxlLm9wYWNpdHkgPSAxO1xyXG5cclxuICAgICAgdGhpcy5fZGlyZWN0aW9uID0gZmFsc2U7XHJcbiAgIH1cclxuXHJcbiAgIF9kcmFnZ2luZyhlKSB7XHJcbiAgICAgIGlmICh0aGlzLl9pc1pvb21pbmcpIHJldHVybjtcclxuXHJcbiAgICAgIGNvbnN0IGRyYWdYID0gZS5wYWdlWDtcclxuICAgICAgY29uc3QgZHJhZ1kgPSBlLnBhZ2VZO1xyXG4gICAgICBjb25zdCBkcmFnU2hpZnRYID0gZHJhZ1ggLSB0aGlzLl9jbGlja1g7XHJcbiAgICAgIGNvbnN0IGRyYWdTaGlmdFkgPSBkcmFnWSAtIHRoaXMuX2NsaWNrWTtcclxuICAgICAgLy8gaWYgKE1hdGguYWJzKGRyYWdTaGlmdFgpID4gMjAgfHwgTWF0aC5hYnMoZHJhZ1NoaWZ0WSkgPiAyMCkgZHJhZyA9IHRydWU7XHJcbiAgICAgIGlmICghdGhpcy5fZGlyZWN0aW9uICYmIE1hdGguYWJzKGRyYWdTaGlmdFgpICsgTWF0aC5hYnMoZHJhZ1NoaWZ0WSkgPiAyMCkge1xyXG4gICAgICAgICBpZiAoTWF0aC5hYnMoZHJhZ1NoaWZ0WCkgPiBNYXRoLmFicyhkcmFnU2hpZnRZKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXJlY3Rpb24gPSBcImxlZnRcIjtcclxuICAgICAgICAgfSBlbHNlIHRoaXMuX2RpcmVjdGlvbiA9IFwidG9wXCI7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09IFwibGVmdFwiKSB0aGlzLl9zZXRNYWluSW1nU3R5bGVQb3MoXCJsZWZ0XCIsIGRyYWdTaGlmdFgpO1xyXG4gICAgICAgICBlbHNlIGlmICh0aGlzLl9kaXJlY3Rpb24gPT09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2V0TWFpbkltZ1N0eWxlUG9zKFwidG9wXCIsIGRyYWdTaGlmdFkpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYWtlR2FsbGVyeVRyYW5zcGFyZW50KCk7XHJcbiAgICAgICAgIH1cclxuICAgICAgfVxyXG4gICB9XHJcblxyXG4gICBfc2V0TWFpbkltZ1N0eWxlUG9zKGRpcmVjdGlvbiwgc2hpZnQpIHtcclxuICAgICAgdGhpcy5fJGdhbGxlcnlNYWluSW1nLnN0eWxlLnNldFByb3BlcnR5KGRpcmVjdGlvbiwgYCR7c2hpZnR9cHhgKTtcclxuICAgfVxyXG5cclxuICAgX21ha2VHYWxsZXJ5VHJhbnNwYXJlbnQoKSB7XHJcbiAgICAgIGNvbnN0IHBvc0VsID0gdGhpcy5fJGdhbGxlcnlNYWluSW1nLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICBjb25zdCB0cmFuc3BhcmVudFBlcmNlcm50ID0gMC43O1xyXG4gICAgICBjb25zdCB0cmFuc3BhcmVudFBvcyA9IHBvc0VsLmhlaWdodCAqIHRyYW5zcGFyZW50UGVyY2VybnQ7IC8vINCa0L7Qu9C40YfQtdGB0LLRgtC+INC/0LjQutGB0LXQu9C10LksINC60L7Qs9C00LAgb3BhY2l0eSDQsdGD0LTQtdGCIDAgKNC+0YIg0YbQtdC90YLRgNCwKVxyXG4gICAgICB0aGlzLl8kZWwuc3R5bGUub3BhY2l0eSA9IDEgLSBNYXRoLmFicyhwb3NFbC55KSAvIHRyYW5zcGFyZW50UG9zO1xyXG4gICB9XHJcblxyXG4gICBfdGFwVHdpY2VEZXRlY3Rpb24oZSkge1xyXG4gICAgICBpZiAoIXRoaXMuI3RhcGVkVHdpY2UpIHtcclxuICAgICAgICAgdGhpcy4jdGFwZWRUd2ljZSA9IHRydWU7XHJcbiAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLiN0YXBlZFR3aWNlID0gZmFsc2U7XHJcbiAgICAgICAgIH0sIDMwMCk7XHJcbiAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICB9XHJcbiAgIC8vX19fX19fX19fX19fX19fX19fX19fX19cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS3Qn9GA0Lgg0LfQsNCz0YDRg9C30LrQuCDRgdGC0YDQsNC90LjRhtGLLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIChldmVudCkgPT4ge1xyXG4gICAgICBjb25zdCAkYXNpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYXNpZGUnKVxyXG4gICAgICBjb25zdCAkbG9hZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2FkaW5nJylcclxuICAgICAgJGxvYWRpbmcuY2xhc3NMaXN0LmFkZChcImxvYWRpbmctLXJlbW92ZVwiKVxyXG4gICAgICAkbG9hZGluZy5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgJGxvYWRpbmcucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCgkbG9hZGluZylcclxuICAgICAgfSlcclxuICAgICAgJGFzaWRlLmNsYXNzTGlzdC5hZGQoXCJhc2lkZS0tbG9hZFwiKVxyXG4gICB9KTtcclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgLy8gLS0tLS0tLS0tLS3QnNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBjb25zdCBodW1idXJnZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmhhbWJ1cmdlclwiKVxyXG4gICBjb25zdCBsb2dvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX2xvZ29cIilcclxuICAgY29uc3QgbWFpbk5hdiA9IG5ldyBNb2RhbERLKHtcclxuICAgICAgc2VsZWN0b3I6IFwiLm5hdlwiLFxyXG4gICAgICBvcGVuQnRuc1NlbGVjdG9yOiBbJy5oYW1idXJnZXInXSxcclxuICAgICAgY29sbGFwc2VPbkZvY3VzT3V0OiB0cnVlLFxyXG4gICAgICBvbk9wZW4oKSB7XHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpXHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsXCJ0cnVlXCIpXHJcbiAgICAgICAgIGxvZ28uY2xhc3NMaXN0LmFkZChcImhlYWRlcl9fbG9nby0tYWN0aXZlXCIpXHJcbiAgICAgIH0sXHJcbiAgICAgIG9uQ2xvc2UoKSB7XHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtYWN0aXZlXCIpXHJcbiAgICAgICAgIGh1bWJ1cmdlckJ0bi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIilcclxuICAgICAgICAgbG9nby5jbGFzc0xpc3QucmVtb3ZlKFwiaGVhZGVyX19sb2dvLS1hY3RpdmVcIilcclxuICAgICAgfSxcclxuICAgfSlcclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLdCT0LDQu9C10YDQtdGPLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgIC8vIGcgPSBuZXcgR2FsbGVyeURLKHtcclxuICAgLy8gc2VsZWN0b3I6IFwiLmdhbGxlcnlcIiwgLy8g0YHQtdC70LXQutGC0L7RgCDQutC+0L3RgtC10LnQvdC10YDQsCwg0LrQvtGC0L7RgNGL0Lkg0L7QsdGK0LXQtNC40L3Rj9C10YIg0LLRgdC1INC40LfQvtCx0YDQsNC20LXQvdC40Y9cclxuICAgLy8gZm9jdXNUcmFwOiB0cnVlLFxyXG4gICAvLyBjb2xsYXBzZU9uRm9jdXNPdXQ6IGZhbHNlLFxyXG4vLyB9KVxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0t0J7RgtC/0YDQsNCy0LrQsCDQv9C+0YfRgtGLLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgLy8gMDZjYzlhNmQtYWU1MC00ZGZiLWFjNzktMWVjN2Y0ODIzODE2IFxyXG4gICBjb25zdCAkYnRuU2VuZE1haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYnRuU2VuZE1haWwnKVxyXG4gICBjb25zdCAkZm9ybSAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1cIilcclxuICAgY29uc3Qgc2VuZE1haWwgPSAoZSkgPT4ge1xyXG4gICAgICBjb25zdCAkaW5wdXROYW1lID0gJGZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJuYW1lXCJdJyk7XHJcbiAgICAgIGNvbnN0ICRpbnB1dEVtYWlsID0gJGZvcm0ucXVlcnlTZWxlY3RvcignW25hbWU9XCJlbWFpbFwiXScpO1xyXG4gICAgICBjb25zdCAkaW5wdXRNc2cgPSAkZm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIm1lc3NhZ2VcIl0nKTtcclxuXHJcbiAgICAgIGNvbnN0IGVtYWlsUGFyYW1zID0ge1xyXG4gICAgICAgICBmcm9tX25hbWU6ICRpbnB1dE5hbWUudmFsdWUsXHJcbiAgICAgICAgIHJlcGx5X3RvOiAkaW5wdXRFbWFpbC52YWx1ZSxcclxuICAgICAgICAgbWVzc2FnZTogJGlucHV0TXNnLnZhbHVlXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KClcclxuICAgICAgXHJcbiAgICAgIGlmIChGb3JtVmFsaWQuY2hlY2tWYWxpZCgkZm9ybSkpIHtcclxuXHJcbiAgICAgICAgICRidG5TZW5kTWFpbC5jbGFzc0xpc3QuYWRkKFwibXNnLS1zZW5kaW5nXCIpXHJcbiAgICAgICAgICRidG5TZW5kTWFpbC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLCBcIlwiKVxyXG4gICAgICAgICBjb25zdCByZW1vdmVEb25lID0gKCk9PiB7XHJcbiAgICAgICAgICAgICRidG5TZW5kTWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwibXNnXCIpXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubXNnLS1kb25lXCIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgcmVtb3ZlRG9uZSlcclxuICAgICAgICAgICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5yZW1vdmUoXCJtc2ctLWRvbmVcIilcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLy8gLy8g0YLQsNC50LzQsNGD0YIg0LTQu9GPIFwi0L7RgtC/0YDQsNCy0LrQuFwiXHJcbiAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAvLyAgICAkYnRuU2VuZE1haWwuY2xhc3NMaXN0LnJlbW92ZShcIm1zZy0tc2VuZGluZ1wiKVxyXG4gICAgICAgICAvLyAgICAkYnRuU2VuZE1haWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAgLy8gICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5hZGQoXCJtc2dcIilcclxuICAgICAgICAgLy8gICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5hZGQoXCJtc2ctLXNlbmRcIilcclxuICAgICAgICAgLy8gICAgJGJ0blNlbmRNYWlsLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBcIm9rXCIpXHJcbiAgICAgICAgIC8vIH0sIDIwMDApXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICAgZW1haWxqcy5zZW5kKCdzZXJ2aWNlX2FxN21mc2InLCAndGVtcGxhdGVfc3R5OXJ0dycsIGVtYWlsUGFyYW1zKVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAkYnRuU2VuZE1haWwuY2xhc3NMaXN0LnJlbW92ZShcIm1zZy0tc2VuZGluZ1wiKVxyXG4gICAgICAgICAgICAgICAkYnRuU2VuZE1haWwucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIilcclxuICAgICAgICAgICAgICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5hZGQoXCJtc2dcIilcclxuICAgICAgICAgICAgICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5hZGQoXCJtc2ctLXNlbmRcIilcclxuICAgICAgICAgICAgICAgJGJ0blNlbmRNYWlsLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBcIm9rXCIpXHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICRidG5TZW5kTWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwibXNnLS1zZW5kaW5nXCIpXHJcbiAgICAgICAgICAgICAgICRidG5TZW5kTWFpbC5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKVxyXG4gICAgICAgICAgICAgICAkYnRuU2VuZE1haWwuY2xhc3NMaXN0LmFkZChcIm1zZ1wiKVxyXG4gICAgICAgICAgICAgICAkYnRuU2VuZE1haWwuY2xhc3NMaXN0LmFkZChcIm1zZy0tc2VuZFwiKVxyXG4gICAgICAgICAgICAgICAkYnRuU2VuZE1haWwuc2V0QXR0cmlidXRlKFwiZGF0YS10eXBlXCIsIFwiZXJyb3JcIilcclxuICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCBzZW5kIGVtYWlsOiAnLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8g0YLQsNC50LzQsNGD0YIg0L/QviDQutC+0YLQvtGA0L7QvNGDINC/0L7QutCw0LfRi9Cy0LDQtdC8INC40LrQvtC90LrRg1xyXG4gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRidG5TZW5kTWFpbC5jbGFzc0xpc3QucmVtb3ZlKFwibXNnLS1zZW5kXCIpXHJcbiAgICAgICAgICAgICRidG5TZW5kTWFpbC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXR5cGVcIilcclxuICAgICAgICAgICAgJGJ0blNlbmRNYWlsLmNsYXNzTGlzdC5hZGQoXCJtc2ctLWRvbmVcIilcclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubXNnLS1kb25lXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgcmVtb3ZlRG9uZSlcclxuICAgICAgICAgICAgJGZvcm0ucmVzZXQoKTtcclxuICAgICAgICAgfSwgMzAwMClcclxuXHJcbiAgICAgIH1cclxuICAgfVxyXG5cclxuICAgIGlmICgkYnRuU2VuZE1haWwpIHtcclxuICAgICAgXHJcbiAgICAgIGlmICh0eXBlb2YgZW1haWxqcyAhPT0gJ3VuZGVmaW5lZCcpIGVtYWlsanMuaW5pdChcIjJXeXhOa3JYWjV5ZldRLXVoXCIpXHJcbiAgICAgICRidG5TZW5kTWFpbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpPT4gc2VuZE1haWwoZSkpXHJcbiAgIH1cclxuICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAvLyAtLS0tLS0tLS0tLS0tLdCX0LDQs9GA0YPQt9C60LAg0L/QvtGA0YLRhNC+0LvQuNC+LS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBmdW5jdGlvbiBpbml0UG9ydGZvbGlvKGVsZW1lbnQsIGZpbGVQYXRoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgIGNoYW5nZWREYXRhOiBudWxsLFxyXG4gICAgICAgICByZWFkRmlsZSgpIHtcclxuICAgICAgICAgICAgY29uc3QgcmF3RmlsZSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXHJcbiAgICAgICAgICAgIHJhd0ZpbGUub3ZlcnJpZGVNaW1lVHlwZShcImFwcGxpY2F0aW9uL2pzb25cIilcclxuICAgICAgICAgICAgcmF3RmlsZS5vcGVuKFwiR0VUXCIsIGZpbGVQYXRoLCB0cnVlKVxyXG4gICAgICAgICAgICByYXdGaWxlLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgaWYgKHJhd0ZpbGUucmVhZHlTdGF0ZSA9PT0gNCAmJiByYXdGaWxlLnN0YXR1cyA9PSBcIjIwMFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuZmlsZURhdGEgPSBKU09OLnBhcnNlKHJhd0ZpbGUucmVzcG9uc2VUZXh0KVxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWREYXRhID0gWy4uLnRoaXMuZmlsZURhdGFdXHJcbiAgICAgICAgICAgICAgICAgIHRoaXMuc29ydEJ5KCdjcmVhdGVEYXRlJywgJ25ldycpXHJcbiAgICAgICAgICAgICAgICAgIHRoaXMucHJpbnRQb3Jmb2xpb0l0ZW1zKHRoaXMuY2hhbmdlZERhdGEpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICByYXdGaWxlLnNlbmQobnVsbClcclxuICAgICAgICAgfSxcclxuICAgICAgICAgcHJpbnRQb3Jmb2xpb0l0ZW1zKGRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhclBvcmZvbGlvTGlzdCgpXHJcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaCgoZWwpID0+IHsgXHJcbiAgICAgICAgICAgICAgIHRoaXMuYWRkUG9ydGZvbGlvSXRlbShlbClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgfSxcclxuICAgICAgICAgYWRkUG9ydGZvbGlvSXRlbSAoZWwpIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvdGZvbGlvRGF0ZSA9IG5ldyBEYXRlKGVsLmNyZWF0ZURhdGUpXHJcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gJHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpXHJcbiAgICAgICAgICAgIGNvbnN0IHBvcnRmb2xpb0l0ZW0gPSBjbG9uZS5xdWVyeVNlbGVjdG9yKFwiLnBvcnRmb2xpb19faXRlbVwiKVxyXG4gICAgICAgICAgICBjb25zdCBwb3J0Zm9saW9JbWcgPSBwb3J0Zm9saW9JdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9ydGZvbGlvX19pbWdcIilcclxuICAgICAgICAgICAgY29uc3QgcG9ydGZvbGlvRGF0ZSA9IHBvcnRmb2xpb0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3J0Zm9saW9fX2RhdGVcIilcclxuICAgICAgICAgICAgY29uc3QgcG9ydGZvbGlvTmFtZSA9IHBvcnRmb2xpb0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3J0Zm9saW9fX25hbWVcIilcclxuICAgICAgICAgICAgY29uc3QgcG9ydGZvbGlvQ29udGVudCA9IHBvcnRmb2xpb0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3J0Zm9saW9fX2NvbnRlbnRcIilcclxuICAgICAgICAgICAgY29uc3QgcG9ydGZvbGlvTW9yZUluZm8gPSBwb3J0Zm9saW9JdGVtLnF1ZXJ5U2VsZWN0b3IoXCIucG9ydGZvbGlvX19tb3JlLWluZm9cIilcclxuICAgICAgICAgICAgY29uc3QgcG9ydGZvbGlvTGluayA9IHBvcnRmb2xpb0l0ZW0ucXVlcnlTZWxlY3RvcihcIi5wb3J0Zm9saW9fX2xpbmtcIilcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHBvcnRmb2xpb0l0ZW0uc2V0QXR0cmlidXRlKFwiZGF0YS1jcmVhdGUtZGF0ZVwiLCBlbC5jcmVhdGVEYXRlKVxyXG4gICAgICAgICAgICBwb3J0Zm9saW9JdGVtLnNldEF0dHJpYnV0ZShcImRhdGEtdHlwZVwiLCBlbC50eXBlKVxyXG4gICAgICAgICAgICBwb3J0Zm9saW9JdGVtLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJsaXN0aXRlbVwiKVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgcG9ydGZvbGlvSW1nLnNyYyA9IGVsLmltZ1xyXG4gICAgICAgICAgICBwb3J0Zm9saW9EYXRlLnNldEF0dHJpYnV0ZShcImRhdGV0aW1lXCIsIGVsLmNyZWF0ZURhdGUpXHJcbiAgICAgICAgICAgIHBvcnRmb2xpb0RhdGUuaW5uZXJIVE1MID0gdGhpcy5nZXREYXRlVG9JdGVtKHByb3Rmb2xpb0RhdGUpXHJcbiAgICAgICAgICAgIHBvcnRmb2xpb05hbWUuaW5uZXJIVE1MID0gZWwubmFtZVxyXG4gICAgICAgICAgICBwb3J0Zm9saW9Db250ZW50LmlubmVySFRNTCA9IGVsLmNvbnRlbnRcclxuICAgICAgICAgICAgcG9ydGZvbGlvTW9yZUluZm8uaW5uZXJIVE1MID0gZWwubW9yZV9pbmZvXHJcbiAgICAgICAgICAgIHBvcnRmb2xpb0xpbmsuaHJlZiA9IGVsLmxpbmtcclxuXHJcbiAgICAgICAgICAgIHBvcnRmb2xpb0l0ZW0uYXBwZW5kQ2hpbGQocG9ydGZvbGlvSW1nKVxyXG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKHBvcnRmb2xpb0l0ZW0pXHJcbiAgICAgICAgIH0sXHJcbiAgICAgICAgIGdldERhdGVUb0l0ZW0oZGF0ZSkge1xyXG4gICAgICAgICAgICAvLyBjb25zdCBtb250aE5hbWVzID0gW1wiSmFudWFyeVwiLCBcIkZlYnJ1YXJ5XCIsIFwiTWFyY2hcIiwgXCJBcHJpbFwiLCBcIk1heVwiLCBcIkp1bmVcIixcclxuICAgICAgICAgICAgLy8gXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIlxyXG4gICAgICAgICAgICAvLyBdXHJcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbXCLQr9C90LLQsNGA0YxcIiwgXCLQpNC10LLRgNCw0LvRjFwiLCBcItCc0LDRgNGCXCIsIFwi0JDQv9GA0LXQu9GMXCIsIFwi0JzQsNC5XCIsIFwi0JjRjtC90YxcIiwgXCLQmNGO0LvRjFwiLCBcItCQ0LLQs9GD0YHRglwiLCBcItCh0LXQvdGC0Y/QsdGA0YxcIiwgXCLQntC60YLRj9Cx0YDRjFwiLCBcItCd0L7Rj9Cx0YDRjFwiLCBcItCU0LXQutCw0LHRgNGMXCJdXHJcbiAgICAgICAgICAgIHJldHVybiBgJHttb250aE5hbWVzW2RhdGUuZ2V0TW9udGgoKV19ICR7ZGF0ZS5nZXRGdWxsWWVhcigpfWBcclxuICAgICAgICAgfSxcclxuICAgICAgICAgY2xlYXJQb3Jmb2xpb0xpc3QoKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MID0gJydcclxuICAgICAgICAgfSxcclxuICAgICAgICAgZmlsdGVyQnkoZmllbGQsIHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gJ2FsbCcpIHtcclxuICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkRGF0YSA9IFsuLi50aGlzLmZpbGVEYXRhXVxyXG4gICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmNoYW5nZWREYXRhID0gdGhpcy5maWxlRGF0YS5maWx0ZXIoZWwgPT4gZWxbZmllbGRdID09PSB2YWx1ZSlcclxuICAgICAgICAgfSxcclxuICAgICAgICAgc29ydEJ5KGZpZWxkLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgIGNhc2UgXCJuZXdcIjpcclxuICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkRGF0YSA9IHRoaXMuY2hhbmdlZERhdGEuc29ydCgoYSwgYikgPT4gYVtmaWVsZF0gPCBiW2ZpZWxkXSA/IDEgOiAtMSlcclxuICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgY2FzZSBcIm9sZFwiOlxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWREYXRhID0gdGhpcy5jaGFuZ2VkRGF0YS5zb3J0KChhLCBiKSA9PiBhW2ZpZWxkXSA+IGJbZmllbGRdID8gMSA6IC0xKVxyXG4gICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWREYXRhID0gdGhpcy5zaHVmZmxlKHRoaXMuY2hhbmdlZERhdGEpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgfSxcclxuICAgICAgICAgc2h1ZmZsZShhcnJheSkge1xyXG4gICAgICAgICAgICBsZXQgY3VycmVudEluZGV4ID0gYXJyYXkubGVuZ3RoLCAgcmFuZG9tSW5kZXg7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50SW5kZXggIT0gMCkge1xyXG4gICAgICAgICAgICAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGN1cnJlbnRJbmRleCk7XHJcbiAgICAgICAgICAgICAgIGN1cnJlbnRJbmRleC0tO1xyXG4gICAgICAgICAgICAgICBbYXJyYXlbY3VycmVudEluZGV4XSwgYXJyYXlbcmFuZG9tSW5kZXhdXSA9IFthcnJheVtyYW5kb21JbmRleF0sIGFycmF5W2N1cnJlbnRJbmRleF1dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgIH1cclxuXHJcbiAgIFxyXG4gICBjb25zdCAkcG9ydGZvbGlvTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9ydGZvbGlvX19saXN0XCIpXHJcbiAgIGNvbnN0ICR0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwb3J0Zm9saW9JdGVtQ29sbmUnKVxyXG4gICBcclxuICAgaWYgKCRwb3J0Zm9saW9MaXN0KSB7IFxyXG4gICAgICBjb25zdCBteVBvcnRmb2xpb0xpc3QgPSBpbml0UG9ydGZvbGlvKCRwb3J0Zm9saW9MaXN0LCAnLi9maWxlcy9wb3J0Zm9saW8vZGF0YS5qc29uJykgIFxyXG4gICAgICBteVBvcnRmb2xpb0xpc3QucmVhZEZpbGUoKVxyXG4gICAgICAgICBcclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS3QodC+0YDRgtC40YDQvtCy0LrQsCDQv9C+0YDRgtGE0L7Qu9C40L4tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICBjb25zdCAkc2VsZWN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIub3B0aW9uc19fc2VsZWN0XCIpXHJcbiAgICAgIGlmICgkc2VsZWN0cykge1xyXG4gICAgICAgICAkc2VsZWN0cy5mb3JFYWNoKCRzZWxlY3QgPT4ge1xyXG4gICAgICAgICAgICAkc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKCkgPT4gY2hhbmdlU2VsZWN0KCRzZWxlY3RzKSlcclxuICAgICAgICAgICAgJHNlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwibWVudWNoYW5nZVwiLCAoKSA9PiBjaGFuZ2VTZWxlY3QoJHNlbGVjdHMpKVxyXG4gICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjaGFuZ2VTZWxlY3QoJHNlbGVjdHMpe1xyXG4gICAgICAgICBjb25zdCBkYXRhID0ge31cclxuICAgICAgICAgJHNlbGVjdHMuZm9yRWFjaChzZWxlY3QgPT4ge1xyXG4gICAgICAgICAgICBkYXRhW3NlbGVjdC5kYXRhc2V0LnR5cGVdID0ge25hbWU6IHNlbGVjdC5uYW1lLCB2YWx1ZTogc2VsZWN0LnZhbHVlfVxyXG4gICAgICAgICB9KVxyXG4gICAgICAgICBteVBvcnRmb2xpb0xpc3QuZmlsdGVyQnkoZGF0YS5maWx0ZXIubmFtZSwgZGF0YS5maWx0ZXIudmFsdWUpXHJcbiAgICAgICAgIG15UG9ydGZvbGlvTGlzdC5zb3J0QnkoZGF0YS5zb3J0Lm5hbWUsIGRhdGEuc29ydC52YWx1ZSlcclxuICAgICAgICAgbXlQb3J0Zm9saW9MaXN0LnByaW50UG9yZm9saW9JdGVtcyhteVBvcnRmb2xpb0xpc3QuY2hhbmdlZERhdGEpXHJcbiAgICAgIH1cclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgIFxyXG4gICB9XHJcbiAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICBcclxuICAgfSkoKSJdLCJuYW1lcyI6WyJtYWluRm9udCIsIkZvbnRGYWNlT2JzZXJ2ZXIiLCJodG1sIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImxvYWQiLCJ0aGVuIiwicmVtb3ZlIiwiYWRkIiwic2Vzc2lvblN0b3JhZ2UiLCJmb250c0xvYWRlZCIsImNhdGNoIiwiRm9ybVZhbGlkIiwiY29uc3RydWN0b3IiLCJvcHRpb25zIiwidGhpcyIsImNvbnN0cnVjdG9yT3B0aW9ucyIsImluaXQiLCJPYmplY3QiLCJhc3NpZ24iLCJmb3JtQ2xhc3NOYW1lIiwiZXJyb3JDbGFzc05hbWUiLCJpbnB1dENsYXNzTmFtZSIsImludmFsaWRDbGFzc05hbWUiLCJ3aXRoVmFsdWVDbGFzc05hbWUiLCJlcnJvcnMiLCJyZXF1aXJlZCIsImVtYWlsIiwidHlwZSIsInBhdHRlcm4iLCJ0b29TaG9ydCIsInRvb0xvbmciLCJzdGVwTWlzbWF0Y2giLCJyYW5nZVVuZGVyZmxvdyIsInJhbmdlT3ZlcmZsb3ciLCJjdXN0b21FcnJvciIsImJhZElucHV0IiwiZm9ybXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImxldCIsImlucHV0cyIsImZvcm0iLCJ0ZXh0YXJlYSIsImNvbmNhdCIsImVycm9yIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImlucHV0IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInZhbGlkYXRlIiwiZSIsImlzRW1wdHkiLCJjaGVja1ZhbGlkIiwidGFyZ2V0IiwidmFsdWUiLCJsZW5ndGgiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsdWVNaXNzaW5nIiwic2V0SW52YWxpZCIsInR5cGVNaXNtYXRjaCIsInBhdHRlcm5NaXNtYXRjaCIsImlubmVySFRNTCIsInRleHQiLCJlcnJvckVsZW1lbnRzIiwiQXJyYXkiLCJjdXJyZW50VGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJwdXNoIiwiZmlsdGVyIiwiZWxlbWVudCIsInVuZGVmaW5lZCIsInByZXZpb3VzU2libGluZyIsImZvY3VzIiwiTm9kYURLIiwiX0tFWVMiLCJFU0MiLCJTUEFDRSIsIkVOVEVSIiwiVEFCIiwiQVJST1dfTEVGVCIsIkFSUk9XX1VQIiwiQVJST1dfUklHSFQiLCJBUlJPV19ET1dOIiwiI2ZvY3VzYWJsZUVsZW1lbnRzIiwiI2RlZmF1bHRPcHRpb25zIiwiZm9jdXNUcmFwIiwiY29sbGFwc2VPbkZvY3VzT3V0IiwiX29wdGlvbnMiLCJfJGVsIiwicXVlcnlTZWxlY3RvciIsInNlbGVjdG9yIiwiI2NoZWNrIiwiI2luaXQiLCJfaGFzRXJyb3JzIiwibWF0Y2hNZWRpYSIsIndpbmRvdyIsIm1hdGNoZXMiLCJjb25zb2xlIiwiX21haW5FbENsaWNrIiwiX2NoZWNrUHJlc3MiLCJfaW5pdEZvY3VzYWJsZUNvbnRlbnQiLCJfJGxhc3RGb2N1c2FibGVFbCIsIl9nZXRGb2N1c2FibGVDb250ZW50IiwidGFiSW5kZXgiLCJfJGZvY3VzYWJsZUNvbnRlbnQiLCJlbCIsIiNmb2N1c1RyYXBBbmRDb2xsYXBzZSIsImZpcnN0Rm9jdXNhYmxlRWwiLCJsYXN0Rm9jdXNhYmxlRWwiLCJuZWVkTGFzdEZvY3VzYWJsZUVsIiwic2hpZnRLZXkiLCJhY3RpdmVFbGVtZW50IiwiY2xvc2UiLCJrZXlDb2RlIiwia2V5IiwiY2xvc2VzdCIsImRhdGFzZXQiLCJvcGVuIiwiYWN0aXZlQ2xhc3MiLCJzbGljZSIsInJlbW92ZUF0dHJpYnV0ZSIsImRpc2FibGVTY3JvbGwiLCJkZXN0cm95IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVuYWJsZVNjcm9sbCIsImlzVG91Y2hEZXZpY2UiLCJuYXZpZ2F0b3IiLCJtYXhUb3VjaFBvaW50cyIsIm1zTWF4VG91Y2hQb2ludHMiLCJfZGVmYXVsdE9wdGlvbnMiLCJzZWxlY3RDbGFzc05hbWUiLCJfc2VsZWN0TXVsdGlwbGUiLCJfJHNlbGVjdHMiLCJzZWxlY3QiLCJpIiwiaGFzQXR0cmlidXRlIiwiX21ha2VDdXN0b20iLCJfc2V0Q3VzdG9tVmFsdWUiLCJfaW5pdEN1c3RvbSIsIm1lbnVFdmVudCIsIkV2ZW50IiwiXyRzZWxlY3RQYXJlbnQiLCJwYXJlbnRFbGVtZW50IiwiXyRzZWxlY3RPcHRpb25zIiwiXyRzZWxlY3RNZW51IiwiXyRzZWxlY3RCdXR0b24iLCJfJHNlbGVjdFBvcHVwIiwiX3NlbGVjdGVkT3B0aW9uIiwiZ2V0QXR0cmlidXRlIiwib3B0aW9uIiwibCIsIl8kc2VsZWN0T3B0aW9uIiwiZmlyc3RDaGlsZCIsImFwcGVuZENoaWxkIiwiX2hhbmRsZUJsdXIiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiaGlkZGVuIiwiX2NsaWNrIiwiXyRwb3B1cHMiLCJfJGJ1dHRvbnMiLCJzZWxlY3ROdW1iZXIiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfY2xvc2VTZWxlY3QiLCJfY2hhbmdlT3B0aW9uQnlDbGljayIsInRvZ2dsZU9wZW5TZWxlY3QiLCJfY2hhbmdlT3B0aW9uVG9QcmV2IiwiX2NoYW5nZU9wdGlvblRvTmV4dCIsIl9vcGVuU2VsZWN0IiwiZm9jdXNWaXNpYmxlIiwiX3NldEJ1dHRvbkJ5T3B0aW9uIiwiaW5uZXJUZXh0IiwiX2dldEN1cnJlbnRPcHRpb24iLCJfZ2V0T3B0aW9uc1ZhbHVlcyIsIm1hcCIsIl9yZXNldE9wdGlvbiIsIl9zZXRPcHRpb24iLCJhcmlhQ2hlY2tlZCIsIl8kY3VycmVudE9wdGlvbiIsIl9zZXROYXRpdmVWYWx1ZSIsIm5leHRTaWJsaW5nIiwibmF0aXZlT3B0aW9ucyIsIm9wdGlvbkN1c3RvbVZhbHVlIiwic2VsZWN0ZWQiLCJkaXNwYXRjaEV2ZW50IiwiY3VzdG9tT3B0aW9ucyIsIl8kdG9TZXRPcHRpb24iLCJzY3JvbGxQcmV2ZW50RGVmYXVsdCIsInN1cHBvcnRzUGFzc2l2ZSIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwid2hlZWxPcHQiLCJwYXNzaXZlIiwid2hlZWxFdmVudCIsIiRhc2lkZSIsIiRsb2FkaW5nIiwicmVtb3ZlQ2hpbGQiLCJodW1idXJnZXJCdG4iLCJsb2dvIiwiZGlhbG9nRnVsbFNjcmVlbiIsImNvbnRlbnRDbGFzcyIsIm92ZXJsYXkiLCJvdmFybGF5Q2xhc3MiLCJvdmVybGF5QmciLCIjJGFjdGl2ZU9wZW5CdG4iLCJzdXBlciIsIl8kb3BlbkJ0bnMiLCJvcGVuQnRuc1NlbGVjdG9yIiwibm9kZU5hbWUiLCJjb250ZW50IiwiYmFja2dyb3VuZENvbG9yIiwicG9zaXRpb24iLCJpbnNldCIsImJpbmQiLCJpbnNlcnRCZWZvcmUiLCJvcGVuQnRuIiwic2V0VGltZW91dCIsInNob3dNb2RhbCIsInNob3ciLCJvbk9wZW4iLCJfJGVsTHNBbmltIiwiZ2V0QW5pbWF0aW9ucyIsIiNjbG9zaW5nIiwib25jZSIsIm9uQ2xvc2UiLCIkYnRuU2VuZE1haWwiLCIkZm9ybSIsImVtYWlsanMiLCIkaW5wdXROYW1lIiwiJGlucHV0RW1haWwiLCIkaW5wdXRNc2ciLCJlbWFpbFBhcmFtcyIsImZyb21fbmFtZSIsInJlcGx5X3RvIiwibWVzc2FnZSIsInJlbW92ZURvbmUiLCJzZW5kIiwicmVzcG9uc2UiLCJsb2ciLCJyZXNldCIsInNlbmRNYWlsIiwiZmlsZVBhdGgiLCIkcG9ydGZvbGlvTGlzdCIsIiR0ZW1wbGF0ZSIsIm15UG9ydGZvbGlvTGlzdCIsImNoYW5nZWREYXRhIiwicmVhZEZpbGUiLCJyYXdGaWxlIiwiWE1MSHR0cFJlcXVlc3QiLCJvdmVycmlkZU1pbWVUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsImZpbGVEYXRhIiwiSlNPTiIsInBhcnNlIiwicmVzcG9uc2VUZXh0Iiwic29ydEJ5IiwicHJpbnRQb3Jmb2xpb0l0ZW1zIiwiZGF0YSIsImNsZWFyUG9yZm9saW9MaXN0IiwiYWRkUG9ydGZvbGlvSXRlbSIsInByb3Rmb2xpb0RhdGUiLCJEYXRlIiwiY3JlYXRlRGF0ZSIsImNsb25lIiwiY2xvbmVOb2RlIiwicG9ydGZvbGlvSXRlbSIsInBvcnRmb2xpb0ltZyIsInBvcnRmb2xpb0RhdGUiLCJwb3J0Zm9saW9OYW1lIiwicG9ydGZvbGlvQ29udGVudCIsInBvcnRmb2xpb01vcmVJbmZvIiwicG9ydGZvbGlvTGluayIsInNyYyIsImltZyIsImdldERhdGVUb0l0ZW0iLCJuYW1lIiwibW9yZV9pbmZvIiwiaHJlZiIsImxpbmsiLCJkYXRlIiwiZ2V0TW9udGgiLCJnZXRGdWxsWWVhciIsImZpbHRlckJ5IiwiZmllbGQiLCJzb3J0IiwiYSIsImIiLCJzaHVmZmxlIiwiYXJyYXkiLCJjdXJyZW50SW5kZXgiLCJyYW5kb21J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
