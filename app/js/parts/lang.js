const langObjHead = {
	content: {
		'Sait_portfolio_front-end_': {
			ru: 'Сайт портфолио front-end разработчика Данилы Короткова ',
			en: 'Portfolio of Front-End Developer Danila Korotkov',
		},
		'front-end,_front,_razrabo': {
			ru: 'front-end, фронт, разработка, web, вэб, веб, создание сайтов, junior, html, js, wordpress',
			en: 'front-end, фронт, разработка, web, вэб, веб, создание сайтов, junior, html, js, wordpress',
		},
		Danila_Korotkov_: {
			ru: 'Данила Коротков ',
			en: 'Данила Коротков ',
		},
		_Danila_Korotkov_: {
			ru: ' Данила Коротков ',
			en: 'Данила Коротков ',
		},
		ru_RU: {
			ru: 'ru_RU',
			en: 'en_EN',
		},
		Portfolio: {
			ru: 'Портфолио',
			en: 'Portfolio',
		},
		Danila_Korotkov_CV: {
			ru: 'Данила Коротков CV',
			en: 'Danila Korotkov CV',
		},
		summary: {
			ru: 'summary',
			en: 'summary',
		},
		Rezume: {
			ru: 'Резюме',
			en: 'Summary',
		},
		Kontakty: {
			ru: 'Контакты',
			en: 'Contacts',
		},
		Danila_Korotkov: {
			ru: 'Данила Коротков',
			en: 'Danila Korotkov',
		},
		Obo_mne: {
			ru: 'Обо мне',
			en: 'About me',
		},
	},
	text: {
		'Danila_Korotkov_CV_|_Port': {
			ru: 'Данила Коротков CV | Портфолио',
			en: 'Danila Korotkov CV | Portfolio',
		},
		'Danila_Korotkov_CV_|_Kont': {
			ru: 'Данила Коротков CV | Контакты',
			en: 'Danila Korotkov CV | Contacts',
		},
		'Danila_Korotkov_CV_|_Rezu': {
			ru: 'Данила Коротков CV | Резюме',
			en: 'Danila Korotkov CV | Summary',
		},
		'Danila_Korotkov_CV_|_Obo_': {
			ru: 'Данила Коротков CV | Обо мне',
			en: 'Danila Korotkov CV | About me',
		},
	},
}

const langObjHeader = {
	text: {
		Propustit_navigaciu: {
			ru: 'Пропустить навигацию',
			en: 'Skip navigation',
		},
		Obo_mne: {
			ru: 'Обо мне',
			en: 'About me',
		},
		Portfolio: {
			ru: 'Портфолио',
			en: 'Portfolio',
		},
		Rezume: {
			ru: 'Резюме',
			en: 'Summary',
		},
		Kontakty: {
			ru: 'Контакты',
			en: 'Contacts',
		},
		'Zagruzka...': {
			ru: 'Загрузка...',
			en: 'Loading...',
		},
	},
	aria: {
		Otkryt_osnovnuu_navgaciu: {
			ru: 'Открыть основную навгацию',
			en: 'Open the main Navigation',
		},
		Glavnaya_navigaciya: {
			ru: 'Главная навигация',
			en: 'Main Navigation',
		},
	},
}

const langObjFooter = {
	text: {
		Telefon: {
			ru: 'Телефон',
			en: 'Phone',
		},
		Socialnye_seti: {
			ru: 'Социальные сети',
			en: 'Social networks',
		},
	},
	aria: {
		Profil_na_GitHub: {
			ru: 'Профиль на GitHub',
			en: 'GITHUB profile',
		},
		Profil_na_GitBook: {
			ru: 'Профиль на GitBook',
			en: 'GitBook profile',
		},
		Profil_v_instagram: {
			ru: 'Профиль в instagram',
			en: 'Instagram profile',
		},
		Svyazatsya_cherez_whatsap: {
			ru: 'Связаться через whatsapp',
			en: 'Contact through WhatsApp',
		},
		Svyazatsya_cherez_telegra: {
			ru: 'Связаться через telegram',
			en: 'Contact through Telegram',
		},
	},
}

const langObjIndex = {
	text: {
		OBO_MNE: {
			ru: 'ОБО МНЕ',
			en: 'ABOUT ME',
		},
		'Front-End_razrabotchik': {
			ru: 'Front-End разработчик',
			en: 'Front-End Developer',
		},
		'Privet,_Mir!_Jivu_v_Sankt': {
			ru: 'Привет, Мир! Живу в Санкт-Петербурге, люблю веб и верю в лучшее.',
			en: 'Hello World! I live in St. Petersburg, I love web and believe in the best.',
		},
		'Moi_osnovnoi_stek:': {
			ru: 'Мой основной стэк:',
			en: 'My main stack:',
		},
		portfolio: {
			ru: 'портфолио',
			en: 'portfolio',
		},
		rezume: {
			ru: 'резюме',
			en: 'summary',
		},
	},
	alt: {
		Fotografiya_Danily_Korotk: {
			ru: 'Фотография Данилы Короткова',
			en: 'Photo of Danila Korotkov',
		},
	},
	html: {
		'Danila_<em_class="about__': {
			ru: 'Данила <em class="about__header-accent">Коротков</em>',
			en: 'Danila <em class="about__header-accent">Korotkov</em>',
		},
	},
	aria: {
		Bystrye_ssylki: {
			ru: 'Быстрые ссылки',
			en: 'Quick links',
		},
	},
}

const langObjContacts = {
	text: {
		Otpravit_soobshchenie: {
			ru: 'Отправить сообщение',
			en: 'Send a message',
		},
		Imya: {
			ru: 'Имя',
			en: 'Name',
		},
		Soobshchenie: {
			ru: 'Сообщение',
			en: 'Message',
		},
		otpravit: {
			ru: 'отправить',
			en: 'send',
		},
		KONTAKTY: {
			ru: 'КОНТАКТЫ',
			en: 'CONTACTS',
		},
		Telefon: {
			ru: 'Телефон',
			en: 'Phone',
		},
		Adres: {
			ru: 'Адрес',
			en: 'Address',
		},
		'Sankt-Peterburg,_m._Prosp': {
			ru: 'Санкт-Петербург, м. Проспект Славы',
			en: 'St. Petersburg, metro st. Prospect Glory',
		},
	},
	title: {
		Soobshchenie_otpravleno: {
			ru: 'Сообщение отправлено',
			en: 'Message sent',
		},
		Oshibka_pri_otpravke_soob: {
			ru: 'Ошибка при отправке сообщения',
			en: 'Error when sending a message',
		},
	},
}

const langObjPortfolio = {
	text: {
		PORTFOLIO: {
			ru: 'ПОРТФОЛИО',
			en: 'PORTFOLIO',
		},
		Sortirovat_po_date: {
			ru: 'Сортировать по дате',
			en: 'Sort by date',
		},
		Snachala_novye: {
			ru: 'Сначала новые',
			en: 'New first',
		},
		Snachala_starye: {
			ru: 'Сначала старые',
			en: 'Old first',
		},
		V_sluchainom_poryadke: {
			ru: 'В случайном порядке',
			en: 'In random order',
		},
		Sortirovat_po_tipu: {
			ru: 'Сортировать по типу',
			en: 'Sort by type',
		},
		Vse: {
			ru: 'Все',
			en: 'All',
		},
		Portfolio: {
			ru: 'Портфолио',
			en: 'Portfolio',
		},
		Rabota: {
			ru: 'Работа',
			en: 'Work',
		},
	},
	title: {
		Otkryt_proekt_v_novom_okn: {
			ru: 'Открыть проект в новой вкладке',
			en: 'Open a project in a new tab',
		},
	},
}

const langObjResume = {
	text: {
		REZUME: {
			ru: 'РЕЗЮМЕ',
			en: 'SUMMARY',
		},
		OBRAZOVANIE: {
			ru: 'ОБРАЗОВАНИЕ',
			en: 'Education',
		},
		Tehnik: {
			ru: 'Техник',
			en: 'Technique',
		},
		'Sankt-Peterburgskii_Kolle': {
			ru: 'Санкт-Петербургский Колледж Информационных Технологий',
			en: 'St. Petersburg College of Information Technologies',
		},
		Injener: {
			ru: 'Инженер',
			en: 'Engineer',
		},
		'Sankt-Peterburgskii_Gosud': {
			ru: 'Санкт-Петербургский Государственный Университет Телекоммуникаций им. проф. Бонч-Бруевича',
			en: 'St. Petersburg State University of Telecommunications named Bonch-Bruevich',
		},
		RABOTA: {
			ru: 'РАБОТА',
			en: 'Work',
		},
		FGUP_Pochta_Rossii: {
			ru: 'ФГУП Почта России',
			en: 'Russian Post',
		},
		Elektromehanik: {
			ru: 'Электромеханик',
			en: 'Electromechanics',
		},
		Peterburgskii_Metropolite: {
			ru: 'Петербургский Метрополитен',
			en: 'Petersburg metro',
		},
		Starshii_elektromehanik: {
			ru: 'Старший электромеханик',
			en: 'Senior electrician',
		},
		'2016_-_po_n.v.': {
			ru: '2016 - по н.в.',
			en: '2016 - until now',
		},
	},
}

const langObjPortfolioWorks = {
	text: {
		Animaciya_blokov: {
			ru: 'Анимация блоков',
			en: 'Block animation',
		},
		Popytka_sdelat_animacu_bl: {
			ru: 'Попытка сделать анимацю блоков, по примеру макета из инстаграм',
			en: 'An attempt to make an animated block, following the example of a layout from Instagram',
		},
		Konstruktor_burgera: {
			ru: 'Конструктор бургера',
			en: 'Burger designer',
		},
		Verstka_maketa_konstrukto: {
			ru: 'Верстка макета конструктора бургера',
			en: 'Burger designer layout',
		},
		Sait_dizainerskoi_kompani: {
			ru: 'Сайт дизайнерской компании',
			en: 'The site of the designer company',
		},
		'Verstka_maketa_kompanii,_': {
			ru: 'Верстка макета компании, которая занимается дизайном помещений',
			en: "Layout of the company's that is engaged in the design of the premises",
		},
		Stranica_portfolio_s_anim: {
			ru: 'Страница портфолио с анимацией',
			en: 'Portfolio page with animation',
		},
		Prostoi_primer_raboty_s_a: {
			ru: 'Простой пример работы с аниацией страницы портфолио Макет взят на просторах Instagram',
			en: 'A simple example of working with the an auction of the Portfolio, is taken on Instagram.',
		},
		Galereya_izobrajenii: {
			ru: 'Галерея изображений',
			en: 'Gallery of images',
		},
		Testovoe_zadanie_na_doljn: {
			ru: 'Тестовое задание на должность Fullstack разработчик (PHP, React.js) в команду вебсайта для Эквид',
			en: 'Test task for the position of Fullstack Developer (PHP, React.js) in the team of the website for Equid',
		},
	},
	html: {
		'<b>Osobennosti</b><br>Isp': {
			ru: '<b>Особенности</b><br>Использовал clip-path<br><br><b>Ресурс</b><br><a href="https://www.instagram.com/p/CiMyE-LjDSE/?igshid=MDE2OWE1N2Q=" _blank >@zhenya.ninja</a>',
			en: '<b>Feature</b><br>Used clip-path<br><br><b>Source</b><br><a href="https://www.instagram.com/p/CiMyE-LjDSE/?igshid=MDE2OWE1N2Q=" _blank>@zhenya.ninja</a>',
		},
		'<b>Osobennosti</b><br>Ele': {
			ru: '<b>Особенности</b><br>Элементы (ингредиенты) добавялются автоматически из файла json.<br>Каждый из ингредиентов имеет свою стоимость, время приготовления, вес и количество калорий.<br><br><b>Ресурс</b><br><a href="https://frontend-skills.com/template/9mXx4YPAtxTtrGmAR1tO" _blank>https://frontend-skills.com/</a>',
			en: '<b>Feature</b><br>Elements (ingredients) are added automatically from the JSON file.<br>Each of the ingredients has its own cost, cooking time, weight and number of calories.<br><br><b>Source</b><br><a href="https://frontend-skills.com/template/9mXx4YPAtxTtrGmAR1tO" _blank>https://frontend-skills.com/</a>',
		},
		'<b>Osobennosti</b><br>Dob': {
			ru: '<b>Особенности</b><br>Добавлена мобильная версия, не предусмотренная макетом<br>Добавлена анимация (AOS)<br>Добавлен слайдер (a11y - slider)<br>Добавлена галерея изображений (собственная разработка)<br><br><b>Ресурс</b><br><a href="https://frontend-skills.com/template/0w50AZWvvEjOB26ACGiW" _blank>https://frontend-skills.com/</a>',
			en: '<b>Feature</b><br>Added a mobile version not provided for by the layout<br>Added animation (AOS)<br>Added slider (A11Y - Slider)<br>Added images gallery (own development)<br><br><b>Source</b><br><a href="https://frontend-skills.com/template/0w50AZWvvEjOB26ACGiW" _blank>https://frontend-skills.com/</a>',
		},
		'<b>Osobennosti</b><br>Dly': {
			ru: '<b>Особенности</b><br>Для анимации блоков был применен GSAP.',
			en: '<b>Feature</b><br>GSAP was used for the animation of the blocks.',
		},
		Stoyala_zadacha_razrabota: {
			ru: 'Стояла задача разработать страницу с галереей, которая поддерживает добавление изображений по ссылка или из файла',
			en: 'The task was to develop a page with a gallery that supports adding images by link or from a file',
		},
	},
}

function readLang() {
	const langObj = {}

	const $head = document.querySelector('head')
	const $header = document.querySelector('header')
	const $main = document.querySelector('main')
	const $footer = document.querySelector('footer')

	const dataLangsArray = []

	dataLangsArray['head'] = $head.querySelectorAll('[data-lang]')
	dataLangsArray['header'] = $header.querySelectorAll('[data-lang]')
	dataLangsArray['main'] = $main.querySelectorAll('[data-lang]')
	dataLangsArray['footer'] = $footer.querySelectorAll('[data-lang]')

	for (const key in dataLangsArray) {
		if (Object.hasOwnProperty.call(dataLangsArray, key)) {
			const $dataLangs = dataLangsArray[key]
			$dataLangs.forEach(($dataLang) => {
				let arrayValue
				const dataType = $dataLang.dataset.lang === '' ? 'text' : $dataLang.dataset.lang
				switch (dataType) {
					case 'text':
						arrayValue = $dataLang.innerText
						break
					case 'content':
						arrayValue = $dataLang.getAttribute('content')
						break
					case 'aria':
						arrayValue = $dataLang.getAttribute('aria-label')
						break
					case 'alt':
						arrayValue = $dataLang.getAttribute('alt')
						break
					case 'title':
						arrayValue = $dataLang.getAttribute('title')
						break
					case 'html':
						arrayValue = $dataLang.innerHTML
						break
					default:
						return
						break
				}
				if (arrayValue) {
					const arrayKey = makeIndexByInner(arrayValue)
					langObj[key] = langObj[key] || {}
					langObj[key][dataType] = langObj[key][dataType] || {}
					langObj[key][dataType][arrayKey.slice(0, 25)] = { ru: arrayValue }
				}
			})
		}
	}

	console.log(langObj)
}

function setLang(currentLang) {
	const $dataLangsEls = document.querySelectorAll('[data-lang]')
	$dataLangsEls.forEach(($dataLangsEl) => {
		const dataType = $dataLangsEl.dataset.lang === '' ? 'text' : $dataLangsEl.dataset.lang
		let content
		let arrayKey
		switch (dataType) {
			case 'text':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.innerText).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId
				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.innerText = content
				break
			case 'content':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.getAttribute('content')).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId
				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.setAttribute('content', content)
				break
			case 'aria':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.getAttribute('aria-label')).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId

				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.setAttribute('aria-label', content)
				break
			case 'alt':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.getAttribute('alt')).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId

				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.setAttribute('alt', content)
				break
			case 'title':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.getAttribute('title')).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId

				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.setAttribute('title', content)
				break
			case 'html':
				if (!$dataLangsEl.dataset.langId) {
					arrayKey = makeIndexByInner($dataLangsEl.innerHTML).slice(0, 25)
					$dataLangsEl.setAttribute('data-lang-id', arrayKey)
				} else arrayKey = $dataLangsEl.dataset.langId

				content = findLangValue(dataType, arrayKey, currentLang)
				if (content) $dataLangsEl.innerHTML = content
				break
			default:
				return
				break
		}
	})
}

function findLangValue(type, nValue, currentLang) {
	// const langArray = [langObjHead]
	const langArray = [langObjHead, langObjHeader, langObjFooter, langObjIndex, langObjContacts, langObjPortfolio, langObjResume, langObjPortfolioWorks]

	let findContext = null
	langArray.forEach((lang) => {
		if (lang[type] && lang[type][nValue] && lang[type][nValue][currentLang]) findContext = lang[type][nValue][currentLang]
	})
	if (findContext) return findContext
	console.log(`Необходимо добавить перевод для ${currentLang} фразы - ${nValue} в блоке "${type}"`)
	return false
}

function makeIndexByInner(str) {
	let ru = {
		а: 'a',
		б: 'b',
		в: 'v',
		г: 'g',
		д: 'd',
		е: 'e',
		ё: 'e',
		ж: 'j',
		з: 'z',
		и: 'i',
		к: 'k',
		л: 'l',
		м: 'm',
		н: 'n',
		о: 'o',
		п: 'p',
		р: 'r',
		с: 's',
		т: 't',
		у: 'u',
		ф: 'f',
		х: 'h',
		ц: 'c',
		ч: 'ch',
		ш: 'sh',
		щ: 'shch',
		ы: 'y',
		э: 'e',
		ю: 'u',
		я: 'ya',
		ъ: 'ie',
		ь: '',
		й: 'i',
		' ': '_',
	}

	return [...str]
		.map((l) => {
			if (ru[l.toLocaleLowerCase()] === undefined) return l
			let latL = ru[l.toLocaleLowerCase()]

			if (l !== l.toLocaleLowerCase()) {
				latL = latL.charAt(0).toLocaleUpperCase() + latL.slice(1)
			} else if (latL === undefined) {
				latL = l
			}

			return latL
		})
		.join('')
}
